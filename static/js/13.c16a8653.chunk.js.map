{"version":3,"sources":["../node_modules/@arcgis/core/chunks/vec22.js","../node_modules/@arcgis/core/chunks/vec43.js","../node_modules/@arcgis/core/chunks/scalar.js","../node_modules/@arcgis/core/chunks/vec42.js","../node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js","../node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js","../node_modules/@arcgis/core/views/3d/glTF/DefaultErrorContext.js","../node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js","../node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js","../node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js","../node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js","../node_modules/@arcgis/core/views/3d/glTF/loader.js","../node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js","../node_modules/@arcgis/core/chunks/mat32.js","../node_modules/@arcgis/core/chunks/mat42.js","../node_modules/@arcgis/core/geometry/support/buffer/utils.js"],"names":["f","e","t","r","typedBuffer","n","typedBufferStride","d","o","u","count","l","dstIndex","s","srcIndex","c","p","y","i","elementType","Math","max","Object","freeze","__proto__","copy","normalizeIntegerBuffer","fill","TypedArrayConstructor","get","makeDense","a","m","B","h","S","b","error","min","transformMat4","v","M","_","g","j","x","z","transformMat3","scale","shiftRight","this","streamDataRequester","load","responseType","data","request","ok","value","image","binary","json","Uint32Array","length","Uint16Array","getLogger","errorUnsupported","warn","warnUnsupported","offset4","dataUint32","floor","byteLength","Uint8Array","baseColorFactor","metallicFactor","roughnessFactor","pbrMetallicRoughness","emissiveFactor","alphaMode","alphaCutoff","doubleSided","ESRI_externalColorMixMode","extras","magFilter","minFilter","wrapS","wrapT","D","context","errorContext","uri","glbBuffer","bufferCache","Map","textureCache","materialCache","nodeParentMap","nodeTransformCache","baseUri","replace","dirPart","filePart","checkVersionSupported","checkRequiredExtensionsSupported","errorUnsupportedIf","scenes","meshes","nodes","computeNodeParents","buffers","assert","loadBinary","resolveUri","set","accessors","bufferView","type","bufferViews","getBuffer","buffer","F","k","componentType","byteStride","raw","byteOffset","entryCount","isDenselyPacked","componentCount","componentByteSize","normalized","indices","getAccessor","L","wrapAccessor","attributes","POSITION","q","toFixed","T","NORMAL","TANGENT","TEXCOORD_0","w","V","COLOR_0","O","C","U","material","materials","hasVertexColors","baseColorTexture","texCoord","getTexture","index","normalTexture","occlusionTexture","emissiveTexture","metallicRoughnessTexture","color","colorTexture","name","id","vertexColors","textures","sampler","samplers","source","images","loadImage","mimeType","J","getNodeTransform","getNodeParent","matrix","translation","rotation","P","parse","asset","version","G","validate","extensionsRequired","join","forEach","children","mediaType","JSON","isBase64","atob","isGLBData","fromGLBData","endsWith","loadJSON","E","remainingBytes","readUint32","parseGLBData","binaryData","X","readUint8Array","PI","SCALAR","VEC2","VEC3","VEC4","R","I","A","N","Promise","Blob","FileReader","onload","result","onerror","readAsText","URL","createObjectURL","Image","addEventListener","revokeObjectURL","decode","then","src","lods","meta","ESRI_type","mode","hasPositions","getMaterial","getPositionData","position","normal","texCoord0","tangent","getIndexData","transform","primitiveType","hasNormals","getNormalData","hasTangents","getTangentData","hasTextureCoordinates","getTextureCoordinates","getVertexColors","ESRI_lod","metric","thresholds","parts","lodThreshold","push","model","isEsriSymbolResource","customMeta","ESRI_proxyEllipsoid","warnUnsupportedIf","weights","mesh","primitives","scene","extensions","MSFT_lod","ids","map","all","Array","isArray","has","parameters","wrap","noUnpackFlip","mipmap","some","opacity","castShadows","receiveShadows","receiveAmbientOcclustion","textureColor","textureNormal","textureOcclusion","textureEmissive","textureMetallicRoughness","colorMixMode","ArrayBuffer","ElementCount","ElementType"],"mappings":"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","file":"static/js/13.c16a8653.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isInteger as e,maximumValue as t,isSigned as r}from\"../geometry/support/buffer/types.js\";function f(e,t,r){const f=e.typedBuffer,n=e.typedBufferStride,d=t.typedBuffer,o=t.typedBufferStride,u=r?r.count:t.count;let l=(r&&r.dstIndex?r.dstIndex:0)*n,s=(r&&r.srcIndex?r.srcIndex:0)*o;for(let c=0;c<u;++c)f[l]=d[s],f[l+1]=d[s+1],l+=n,s+=o}function n(n,d,o){const u=n.typedBuffer,l=n.typedBufferStride,s=d.typedBuffer,c=d.typedBufferStride,p=o?o.count:d.count;let y=(o&&o.dstIndex?o.dstIndex:0)*l,i=(o&&o.srcIndex?o.srcIndex:0)*c;if(e(d.elementType)){const e=t(d.elementType);if(r(d.elementType))for(let t=0;t<p;++t)u[y]=Math.max(s[i]/e,-1),u[y+1]=Math.max(s[i+1]/e,-1),y+=l,i+=c;else for(let t=0;t<p;++t)u[y]=s[i]/e,u[y+1]=s[i+1]/e,y+=l,i+=c}else f(n,d,o);return n}function d(e,t,r,f){var n,d;const o=e.typedBuffer,u=e.typedBufferStride,l=null!=(n=null==f?void 0:f.count)?n:e.count;let s=(null!=(d=null==f?void 0:f.dstIndex)?d:0)*u;for(let c=0;c<l;++c)o[s]=t,o[s+1]=r,s+=u}var o=Object.freeze({__proto__:null,copy:f,normalizeIntegerBuffer:n,fill:d});export{f as c,d as f,n,o as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e,t,n){const d=e.typedBuffer,f=e.typedBufferStride,r=t.typedBuffer,u=t.typedBufferStride,l=n?n.count:t.count;let o=(n&&n.dstIndex?n.dstIndex:0)*f,c=(n&&n.srcIndex?n.srcIndex:0)*u;for(let s=0;s<l;++s)d[o]=r[c],d[o+1]=r[c+1],d[o+2]=r[c+2],d[o+3]=r[c+3],o+=f,c+=u}function t(e,t,n,d,f,r){var u,l;const o=e.typedBuffer,c=e.typedBufferStride,s=null!=(u=null==r?void 0:r.count)?u:e.count;let p=(null!=(l=null==r?void 0:r.dstIndex)?l:0)*c;for(let i=0;i<s;++i)o[p]=t,o[p+1]=n,o[p+2]=d,o[p+3]=f,p+=c}var n=Object.freeze({__proto__:null,copy:e,fill:t});export{e as c,t as f,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const n=e.typedBuffer,o=e.typedBufferStride,c=t.typedBuffer,d=t.typedBufferStride,f=r?r.count:t.count;let s=(r&&r.dstIndex?r.dstIndex:0)*o,u=(r&&r.srcIndex?r.srcIndex:0)*d;for(let p=0;p<f;++p)n[s]=c[u],s+=o,u+=d}function t(e,t){const r=e.count;t||(t=new e.TypedArrayConstructor(r));for(let n=0;n<r;n++)t[n]=e.get(n);return t}var r=Object.freeze({__proto__:null,copy:e,makeDense:t});export{e as c,t as m,r as s};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{logger as e}from\"../geometry/support/buffer/math/common.js\";function t(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],m=f[9],B=f[10],h=f[11],l=f[12],S=f[13],b=f[14],v=f[15],M=t.typedBuffer,_=t.typedBufferStride,g=r.typedBuffer,j=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*_,r=e*j,f=g[r],o=g[r+1],x=g[r+2],z=g[r+3];M[t]=n*f+c*o+y*x+l*z,M[t+1]=u*f+i*o+m*x+S*z,M[t+2]=d*f+a*o+B*x+b*z,M[t+3]=s*f+p*o+h*x+v*z}}function r(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],m=t.typedBuffer,B=t.typedBufferStride,h=r.typedBuffer,l=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*B,r=e*l,f=h[r],o=h[r+1],S=h[r+2],b=h[r+3];m[t]=n*f+s*o+a*S,m[t+1]=u*f+c*o+p*S,m[t+2]=d*f+i*o+y*S,m[t+3]=b}}function f(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=r*u[t],o[e+1]=r*u[t+1],o[e+2]=r*u[t+2],o[e+3]=r*u[t+3]}}function o(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=u[t]>>r,o[e+1]=u[t+1]>>r,o[e+2]=u[t+2]>>r,o[e+3]=u[t+3]>>r}}var n=Object.freeze({__proto__:null,transformMat4:t,transformMat3:r,scale:f,shiftRight:o});export{o as a,t as b,f as s,r as t,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport r from\"../../../request.js\";import{result as e}from\"../../../core/asyncUtils.js\";import o from\"../../../core/Error.js\";import{isNone as s}from\"../../../core/maybe.js\";import{throwIfAborted as t,throwIfAbortError as a}from\"../../../core/promiseUtils.js\";import{isDataProtocol as i,dataToArrayBuffer as m}from\"../../../core/urlUtils.js\";class n{constructor(r){this.streamDataRequester=r}async loadJSON(r,e){return this.load(\"json\",r,e)}async loadBinary(r,e){return i(r)?(t(e),m(r)):this.load(\"binary\",r,e)}async loadImage(r,e){return this.load(\"image\",r,e)}async load(t,i,m){if(s(this.streamDataRequester))return(await r(i,{responseType:c[t]})).data;const n=await e(this.streamDataRequester.request(i,t,m));if(!0===n.ok)return n.value;throw a(n.error),new o(\"\",`Request for resource failed: ${n.error}`)}}const c={image:\"image\",binary:\"array-buffer\",json:\"json\"};export{n as DefaultLoadingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isUint16Array as t,isUint8Array as e}from\"../../../../core/typedArrayUtil.js\";import{generateDefaultIndexArray as r}from\"../../webgl-engine/lib/geometryDataUtils.js\";function n(n,o=r){return\"number\"==typeof n?o(n):t(n)||e(n)?new Uint32Array(n):n}function o(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;e+=1)e%2==0?(n[t++]=e,n[t++]=e+1,n[t++]=e+2):(n[t++]=e+1,n[t++]=e,n[t++]=e+2)}else{let e=0;for(let o=0;o<r;o+=1)if(o%2==0){const r=t[o],i=t[o+1],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}else{const r=t[o+1],i=t[o],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}}return n}function i(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;++e)n[t++]=0,n[t++]=e+1,n[t++]=e+2;return n}{const e=t[0];let o=t[1],i=0;for(let f=0;f<r;++f){const r=t[f+2];n[i++]=e,n[i++]=o,n[i++]=r,o=r}return n}}export{i as triangleFanToTriangles,o as triangleStripToTriangles,n as trianglesToTriangles};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst o=2.1;export{o as COLOR_GAMMA};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport r from\"../../../core/Error.js\";import e from\"../../../core/Logger.js\";const o=e.getLogger(\"esri.views.3d.glTF\");class t{error(e){throw new r(\"gltf-loader-error\",e)}errorUnsupported(e){throw new r(\"gltf-loader-unsupported-feature\",e)}errorUnsupportedIf(r,e){r&&this.errorUnsupported(e)}assert(r,e){r||this.error(e)}warn(r){o.warn(r)}warnUnsupported(r){this.warn(\"[Unsupported Feature] \"+r)}warnUnsupportedIf(r,e){r&&this.warnUnsupported(e)}}export{t as DefaultErrorContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.data=t,this.offset4=0,this.dataUint32=new Uint32Array(this.data,0,Math.floor(this.data.byteLength/4))}readUint32(){const t=this.offset4;return this.offset4+=1,this.dataUint32[t]}readUint8Array(t){const s=4*this.offset4;return this.offset4+=t/4,new Uint8Array(this.data,s,t)}remainingBytes(){return this.data.byteLength-4*this.offset4}}export{t as BinaryStreamReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";const o={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},r={pbrMetallicRoughness:o,emissiveFactor:[0,0,0],alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1},t={ESRI_externalColorMixMode:\"tint\"},a=(e={})=>{const a={...o,...e.pbrMetallicRoughness},i=l({...t,...e.extras});return{...r,...e,pbrMetallicRoughness:a,extras:i}};function l(o){switch(o.ESRI_externalColorMixMode){case\"multiply\":case\"tint\":case\"ignore\":case\"replace\":break;default:e(o.ESRI_externalColorMixMode),o.ESRI_externalColorMixMode=\"tint\"}return o}const i={magFilter:9729,minFilter:9987,wrapS:10497,wrapT:10497},s=e=>({...i,...e});export{a as material,s as textureSampler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{isDataProtocol as t,dataComponents as r,dataToArrayBuffer as n,makeAbsolute as o}from\"../../../../core/urlUtils.js\";import{Version as s}from\"../../../../core/Version.js\";import{m as a,t as i,c as u,s as c,n as p}from\"../../../../chunks/mat4.js\";import{c as d,b as f}from\"../../../../chunks/mat4f64.js\";import{g as l}from\"../../../../chunks/quat.js\";import{a as m}from\"../../../../chunks/quatf64.js\";import{BufferViewUint32 as h,BufferViewUint16 as y,BufferViewUint8 as b,BufferViewVec3f as T,BufferViewVec4f as x,BufferViewVec2f as w,BufferViewVec4u8 as O,BufferViewVec4u16 as C,BufferViewVec3u8 as g,BufferViewVec3u16 as U,BufferViewVec2u32 as N,BufferViewVec2u16 as S,BufferViewVec2i16 as A,BufferViewVec2u8 as I,BufferViewVec2i8 as R}from\"../../../../geometry/support/buffer/BufferView.js\";import{m as L}from\"../../../../chunks/scalar.js\";import{BinaryStreamReader as E}from\"./BinaryStreamReader.js\";import{material as v,textureSampler as B}from\"./fillDefaults.js\";import{splitURI as M}from\"./pathUtils.js\";const D={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562,MIN_HEADER_LENGTH:20};class j{constructor(e,t,r,n,o){this.context=e,this.errorContext=t,this.uri=r,this.json=n,this.glbBuffer=o,this.bufferCache=new Map,this.textureCache=new Map,this.materialCache=new Map,this.nodeParentMap=new Map,this.nodeTransformCache=new Map,this.baseUri=M(this.uri).dirPart,this.checkVersionSupported(),this.checkRequiredExtensionsSupported(),t.errorUnsupportedIf(null==n.scenes,\"Scenes must be defined.\"),t.errorUnsupportedIf(null==n.meshes,\"Meshes must be defined\"),t.errorUnsupportedIf(null==n.nodes,\"Nodes must be defined.\"),this.computeNodeParents()}static async load(e,o,s,a){if(t(s)){const t=r(s);if(\"model/gltf-binary\"!==t.mediaType)try{const r=JSON.parse(t.isBase64?atob(t.data):t.data);return new j(e,o,s,r)}catch{}const a=n(s);if(j.isGLBData(a))return this.fromGLBData(e,o,s,a)}if(s.endsWith(\".gltf\")){const t=await e.loadJSON(s,a);return new j(e,o,s,t)}const i=await e.loadBinary(s,a);if(j.isGLBData(i))return this.fromGLBData(e,o,s,i);const u=await e.loadJSON(s,a);return new j(e,o,s,u)}static isGLBData(e){const t=new E(e);return t.remainingBytes()>=4&&t.readUint32()===D.MAGIC}static async fromGLBData(e,t,r,n){const o=await j.parseGLBData(t,n);return new j(e,t,r,o.json,o.binaryData)}static async parseGLBData(e,t){const r=new E(t);e.assert(r.remainingBytes()>=12,\"GLB binary data is insufficiently large.\");const n=r.readUint32(),o=r.readUint32(),s=r.readUint32();e.assert(n===D.MAGIC,\"Magic first 4 bytes do not fit to expected GLB value.\"),e.assert(t.byteLength>=s,\"GLB binary data is smaller than header specifies.\"),e.errorUnsupportedIf(2!==o,\"An unsupported GLB container version was detected. Only version 2 is supported.\");let a,i,u=0;for(;r.remainingBytes()>=8;){const t=r.readUint32(),n=r.readUint32();0===u?(e.assert(n===D.CHUNK_TYPE_JSON,\"First GLB chunk must be JSON.\"),e.assert(t>=0,\"No JSON data found.\"),a=await X(r.readUint8Array(t))):1===u?(e.errorUnsupportedIf(n!==D.CHUNK_TYPE_BIN,\"Second GLB chunk expected to be BIN.\"),i=r.readUint8Array(t)):e.warnUnsupported(\"More than 2 GLB chunks detected. Skipping.\"),u+=1}return a||e.error(\"No GLB JSON chunk detected.\"),{json:a,binaryData:i}}async getBuffer(e,t){const r=this.json.buffers[e],n=this.errorContext;if(null==r.uri)return n.assert(null!=this.glbBuffer,\"GLB buffer not present\"),this.glbBuffer;let o=this.bufferCache.get(e);if(!o){const s=await this.context.loadBinary(this.resolveUri(r.uri),t);o=new Uint8Array(s),this.bufferCache.set(e,o),n.assert(o.byteLength===r.byteLength,\"Buffer byte lengths should match.\")}return o}async getAccessor(e,t){const r=this.json.accessors[e],n=this.errorContext;n.errorUnsupportedIf(null==r.bufferView,\"Some accessor does not specify a bufferView.\"),n.errorUnsupportedIf(r.type in[\"MAT2\",\"MAT3\",\"MAT4\"],`AttributeType ${r.type} is not supported`);const o=this.json.bufferViews[r.bufferView],s=await this.getBuffer(o.buffer,t),a=F[r.type],i=k[r.componentType],u=a*i,c=o.byteStride||u;return{raw:s.buffer,byteStride:c,byteOffset:s.byteOffset+(o.byteOffset||0)+(r.byteOffset||0),entryCount:r.count,isDenselyPacked:c===u,componentCount:a,componentByteSize:i,componentType:r.componentType,min:r.min,max:r.max,normalized:!!r.normalized}}async getIndexData(e,t){if(null==e.indices)return null;const r=await this.getAccessor(e.indices,t);if(r.isDenselyPacked)switch(r.componentType){case 5121:return new Uint8Array(r.raw,r.byteOffset,r.entryCount);case 5123:return new Uint16Array(r.raw,r.byteOffset,r.entryCount);case 5125:return new Uint32Array(r.raw,r.byteOffset,r.entryCount)}else switch(r.componentType){case 5121:return L(this.wrapAccessor(b,r));case 5123:return L(this.wrapAccessor(y,r));case 5125:return L(this.wrapAccessor(h,r))}}async getPositionData(e,t){const r=this.errorContext;r.errorUnsupportedIf(null==e.attributes.POSITION,\"No POSITION vertex data found.\");const n=await this.getAccessor(e.attributes.POSITION,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for POSITION vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"POSITION vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(T,n)}async getNormalData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.NORMAL,\"No NORMAL vertex data found.\");const n=await this.getAccessor(e.attributes.NORMAL,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for NORMAL vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"NORMAL vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(T,n)}async getTangentData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TANGENT,\"No TANGENT vertex data found.\");const n=await this.getAccessor(e.attributes.TANGENT,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for TANGENT vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(4!==n.componentCount,\"TANGENT vertex attribute must have 4 components, but found \"+n.componentCount.toFixed()),new x(n.raw,n.byteOffset,n.byteStride,n.byteOffset+n.byteStride*n.entryCount)}async getTextureCoordinates(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TEXCOORD_0,\"No TEXCOORD_0 vertex data found.\");const n=await this.getAccessor(e.attributes.TEXCOORD_0,t);return r.errorUnsupportedIf(2!==n.componentCount,\"TEXCOORD_0 vertex attribute must have 2 components, but found \"+n.componentCount.toFixed()),5126===n.componentType?this.wrapAccessor(w,n):(r.errorUnsupportedIf(!n.normalized,\"Integer component types are only supported for a normalized accessor for TEXCOORD_0.\"),V(n))}async getVertexColors(e,t){const r=this.errorContext;r.assert(null!=e.attributes.COLOR_0,\"No COLOR_0 vertex data found.\");const n=await this.getAccessor(e.attributes.COLOR_0,t);if(r.errorUnsupportedIf(4!==n.componentCount&&3!==n.componentCount,\"COLOR_0 attribute must have 3 or 4 components, but found \"+n.componentCount.toFixed()),4===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(x,n);if(5121===n.componentType)return this.wrapAccessor(O,n);if(5123===n.componentType)return this.wrapAccessor(C,n)}else if(3===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(T,n);if(5121===n.componentType)return this.wrapAccessor(g,n);if(5123===n.componentType)return this.wrapAccessor(U,n)}r.errorUnsupported(\"Unsupported component type for COLOR_0 attribute: \"+q[n.componentType])}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t,r){const n=this.errorContext;let o=this.materialCache.get(e.material);if(!o){const s=null!=e.material?v(this.json.materials[e.material]):v(),a=s.pbrMetallicRoughness,i=this.hasVertexColors(e);let u,c,p,d,f;a.baseColorTexture&&(n.errorUnsupportedIf(0!==(a.baseColorTexture.texCoord||0),\"Only TEXCOORD with index 0 is supported.\"),u=await this.getTexture(a.baseColorTexture.index,t)),s.normalTexture&&(0!==(s.normalTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the normal map texture.\"):c=await this.getTexture(s.normalTexture.index,t)),s.occlusionTexture&&r&&(0!==(s.occlusionTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the occlusion texture.\"):p=await this.getTexture(s.occlusionTexture.index,t)),s.emissiveTexture&&r&&(0!==(s.emissiveTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the emissive texture.\"):d=await this.getTexture(s.emissiveTexture.index,t)),a.metallicRoughnessTexture&&r&&(0!==(a.metallicRoughnessTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the metallicRoughness texture.\"):f=await this.getTexture(a.metallicRoughnessTexture.index,t));const l=null!=e.material?e.material:-1;o={alphaMode:s.alphaMode,alphaCutoff:s.alphaCutoff,color:a.baseColorFactor,doubleSided:!!s.doubleSided,colorTexture:u,normalTexture:c,name:s.name,id:l,occlusionTexture:p,emissiveTexture:d,emissiveFactor:s.emissiveFactor,metallicFactor:a.metallicFactor,roughnessFactor:a.roughnessFactor,metallicRoughnessTexture:f,vertexColors:i,ESRI_externalColorMixMode:s.extras.ESRI_externalColorMixMode}}return o}async getTexture(e,t){const r=this.errorContext,n=this.json.textures[e],o=B(null!=n.sampler?this.json.samplers[n.sampler]:{});r.errorUnsupportedIf(null==n.source,\"Source is expected to be defined for a texture.\");const s=this.json.images[n.source];let a=this.textureCache.get(e);if(!a){let n;if(s.uri)n=await this.context.loadImage(this.resolveUri(s.uri),t);else{r.errorUnsupportedIf(null==s.bufferView,\"Image bufferView must be defined.\"),r.errorUnsupportedIf(null==s.mimeType,\"Image mimeType must be defined.\");const e=this.json.bufferViews[s.bufferView],o=await this.getBuffer(e.buffer,t);r.errorUnsupportedIf(null!=e.byteStride,\"byteStride not supported for image buffer\"),n=await J(new Uint8Array(o.buffer,o.byteOffset+(e.byteOffset||0),e.byteLength),s.mimeType)}const i=e=>33071===e||33648===e||10497===e,u=e=>(r.error(`Unexpected TextureSampler WrapMode: ${e}. Using default REPEAT(10497).`),10497);a={data:n,wrapS:i(o.wrapS)?o.wrapS:u(o.wrapS),wrapT:i(o.wrapT)?o.wrapT:u(o.wrapT),minFilter:o.minFilter,name:s.name,id:e},this.textureCache.set(e,a)}return a}getNodeTransform(e){if(void 0===e)return _;let t=this.nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this.getNodeParent(e)),n=this.json.nodes[e];n.matrix?t=a(d(),r,n.matrix):n.translation||n.rotation||n.scale?(t=f(r),n.translation&&i(t,t,n.translation),n.rotation&&(P[3]=l(P,n.rotation),u(t,t,P[3],P)),n.scale&&c(t,t,n.scale)):t=r,this.nodeTransformCache.set(e,t)}return t}wrapAccessor(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}resolveUri(e){return o(e,this.baseUri)}getNodeParent(e){return this.nodeParentMap.get(e)}checkVersionSupported(){const e=s.parse(this.json.asset.version,\"glTF\");G.validate(e)}checkRequiredExtensionsSupported(){const e=this.json,t=this.errorContext;e.extensionsRequired&&0!==e.extensionsRequired.length&&t.errorUnsupported(\"gltf loader was not able to load unsupported feature. Required extensions: \"+e.extensionsRequired.join(\", \"))}computeNodeParents(){this.json.nodes.forEach(((e,t)=>{e.children&&e.children.forEach((e=>{this.nodeParentMap.set(e,t)}))}))}}const G=new s(2,0,\"glTF\"),_=p(d(),Math.PI/2),P=m(),F={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},k={5120:1,5121:1,5122:2,5123:2,5126:4,5125:4};function V(t){switch(t.componentType){case 5120:return new R(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5121:return new I(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5122:return new A(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5123:return new S(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5125:return new N(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5126:return new w(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);default:return void e(t.componentType)}}async function X(e){return new Promise(((t,r)=>{const n=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;t(JSON.parse(e))},o.onerror=e=>{r(e)},o.readAsText(n)}))}async function J(e,t){return new Promise(((r,n)=>{const o=new Blob([e],{type:t}),s=URL.createObjectURL(o),a=new Image;a.addEventListener(\"load\",(()=>{URL.revokeObjectURL(s),\"decode\"in a?a.decode().then((()=>r(a)),(()=>r(a))):r(a)})),a.addEventListener(\"error\",(e=>{URL.revokeObjectURL(s),n(e)})),a.src=s}))}const q={5120:\"BYTE\",5121:\"UNSIGNED_BYTE\",5122:\"SHORT\",5123:\"UNSIGNED_SHORT\",5125:\"UNSIGNED_INT\",5126:\"FLOAT\"};export{j as Resource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction r(r){let e,t;return r.replace(/^(.*\\/)?([^/]*)$/,((r,a,i)=>(e=a||\"\",t=i||\"\",\"\"))),{dirPart:e,filePart:t}}export{r as splitURI};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{b as o}from\"../../../chunks/mat4f64.js\";import{DefaultErrorContext as s}from\"./DefaultErrorContext.js\";import{makeMaterialParameters as r,makeTextureSource as a}from\"./LoaderResult.js\";import{Resource as i}from\"./internal/Resource.js\";let n=0;async function l(s,r,a={},l=!0){const m=await i.load(s,p,r,a),x=\"gltf_\"+n++,h={lods:[],materials:new Map,textures:new Map,meta:u(m)},T=!(!m.json.asset.extras||\"symbolResource\"!==m.json.asset.extras.ESRI_type);return await c(m,(async(s,r,i,n)=>{const u=void 0!==s.mode?s.mode:4,c=4===u||5===u||6===u?u:null;if(t(c))return void p.warnUnsupported(\"Unsupported primitive mode (\"+f[u]+\"). Skipping primitive.\");if(!m.hasPositions(s))return void p.warn(\"Skipping primitive without POSITION vertex attribute.\");const T=await m.getMaterial(s,a,l),g={transform:o(r),attributes:{position:await m.getPositionData(s,a),normal:null,texCoord0:null,color:null,tangent:null},indices:await m.getIndexData(s,a),primitiveType:c,material:d(h,T,x)};m.hasNormals(s)&&(g.attributes.normal=await m.getNormalData(s,a)),m.hasTangents(s)&&(g.attributes.tangent=await m.getTangentData(s,a)),m.hasTextureCoordinates(s)&&(g.attributes.texCoord0=await m.getTextureCoordinates(s,a)),m.hasVertexColors(s)&&(g.attributes.color=await m.getVertexColors(s,a));let w=null;e(h.meta)&&e(h.meta.ESRI_lod)&&\"screenSpaceRadius\"===h.meta.ESRI_lod.metric&&(w=h.meta.ESRI_lod.thresholds[i]),h.lods[i]=h.lods[i]||{parts:[],name:n,lodThreshold:w},h.lods[i].parts.push(g)})),{model:h,meta:{isEsriSymbolResource:T,uri:m.uri},customMeta:{}}}function u(t){const o=t.json;let s=null;return o.nodes.forEach((t=>{const o=t.extras;e(o)&&(o.ESRI_proxyEllipsoid||o.ESRI_lod)&&(s=o)})),s}async function c(e,t){const o=e.json,s=o.scenes[o.scene||0].nodes,r=s.length>1;for(const i of s){const e=o.nodes[i],t=[a(i,0)];if(m(e)&&!r){const o=e.extensions.MSFT_lod.ids;t.push(...o.map(((e,t)=>a(e,t+1))))}await Promise.all(t)}async function a(s,r){const i=o.nodes[s],n=e.getNodeTransform(s);if(p.warnUnsupportedIf(null!=i.weights,\"Morph targets are not supported.\"),null!=i.mesh){const e=o.meshes[i.mesh];for(const o of e.primitives)await t(o,n,r,e.name)}for(const e of i.children||[])await a(e,r)}}function m(e){return e.extensions&&e.extensions.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function d(e,t,o){const s=t=>{const s=`${o}_tex_${t&&t.id}${t&&t.name?\"_\"+t.name:\"\"}`;if(t&&!e.textures.has(s)){const o=a(t.data,{wrap:{s:t.wrapS,t:t.wrapT},mipmap:x.some((e=>e===t.minFilter)),noUnpackFlip:!0});e.textures.set(s,o)}return s},i=`${o}_mat_${t.id}_${t.name}`;if(!e.materials.has(i)){const o=r({color:[t.color[0],t.color[1],t.color[2]],opacity:t.color[3],alphaMode:t.alphaMode,alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,colorMixMode:t.ESRI_externalColorMixMode,textureColor:t.colorTexture?s(t.colorTexture):void 0,textureNormal:t.normalTexture?s(t.normalTexture):void 0,textureOcclusion:t.occlusionTexture?s(t.occlusionTexture):void 0,textureEmissive:t.emissiveTexture?s(t.emissiveTexture):void 0,textureMetallicRoughness:t.metallicRoughnessTexture?s(t.metallicRoughnessTexture):void 0,emissiveFactor:[t.emissiveFactor[0],t.emissiveFactor[1],t.emissiveFactor[2]],metallicFactor:t.metallicFactor,roughnessFactor:t.roughnessFactor});e.materials.set(i,o)}return i}const p=new s,x=[9987,9985],f=[\"POINTS\",\"LINES\",\"LINE_LOOP\",\"LINE_STRIP\",\"TRIANGLES\",\"TRIANGLE_STRIP\",\"TRIANGLE_FAN\"];export{l as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e={}){return{color:[1,1,1],opacity:1,alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:\"multiply\",...e}}function t(e,t={}){return{data:e,parameters:{wrap:{s:10497,t:10497,...t.wrap},noUnpackFlip:!0,mipmap:!1,...t}}}export{e as makeMaterialParameters,t as makeTextureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<9;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<16;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{elementTypeSize as e}from\"./types.js\";export{m as mat3}from\"../../../chunks/mat32.js\";export{m as mat4}from\"../../../chunks/mat42.js\";export{s as scalar}from\"../../../chunks/scalar.js\";export{v as vec2}from\"../../../chunks/vec22.js\";export{v as vec3}from\"../../../chunks/vec33.js\";export{v as vec4}from\"../../../chunks/vec43.js\";function r(s,r){return new s(new ArrayBuffer(r*s.ElementCount*e(s.ElementType)))}export{r as createBuffer};\n"],"sourceRoot":""}