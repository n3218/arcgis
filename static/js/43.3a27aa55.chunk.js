(this["webpackJsonpfirst-example"]=this["webpackJsonpfirst-example"]||[]).push([[43],{1165:function(t,e,r){"use strict";r.r(e),r.d(e,"loadGLTFMesh",(function(){return I}));var n=r(15),a=r(7),c=r.n(a),o=r(10),u=r(37),s=r(63),i=r(4),l=r(145),b=r(267),f=r(22),p=r(85),O=r(818),j=r(793),d=r(792),m=r(794),x=r(100),v=r(743),g=r(956),h=r(991),w=r(788),k=r(957),y=r(985),C=r(958),A=r(217),B=r(959),T=r(771),M=r(852),F=r(851);function I(t,e,r){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(c.a.mark((function t(e,r,a){var o,u,s,l,b,f,p,O,j,d,x,v,g,h,C,A,B;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new k.a(S(a)),t.next=3,Object(y.a)(o,r,a,!0);case 3:u=t.sent.model,s=u.lods.shift(),l=new Map,b=new Map,u.textures.forEach((function(t,e){return l.set(e,R(t))})),u.materials.forEach((function(t,e){return b.set(e,N(t,l))})),f=J(s),p=Object(n.a)(s.parts);try{for(p.s();!(O=p.n()).done;)j=O.value,q(f,j,b)}catch(c){p.e(c)}finally{p.f()}return d=f.vertexAttributes,x=d.position,v=d.normal,g=d.tangent,h=d.color,C=d.texCoord0,A={position:x.typedBuffer,normal:Object(i.k)(v)?v.typedBuffer:null,tangent:Object(i.k)(g)?g.typedBuffer:null,uv:Object(i.k)(C)?C.typedBuffer:null,color:Object(i.k)(h)?h.typedBuffer:null},B=Object(w.c)(A,e,a),t.abrupt("return",{transform:B.transform,components:f.components,spatialReference:e.spatialReference,vertexAttributes:new m.c({position:B.vertexAttributes.position,normal:B.vertexAttributes.normal,tangent:B.vertexAttributes.tangent,color:A.color,uv:A.uv})});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return null!=t&&t.resolveFile?{busy:!1,request:function(){var e=Object(o.a)(c.a.mark((function e(r,n,a){var o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.resolveFile(r),u="image"===n?"image":"binary"===n?"array-buffer":"json",e.next=3,Object(s.default)(o,{responseType:u,signal:Object(i.k)(a)?a.signal:null});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}:null}function J(t){var e,r=0,a={color:!1,tangent:!1,normal:!1,texCoord0:!1},c=Object(n.a)(t.parts);try{for(c.s();!(e=c.n()).done;){var o=e.value.attributes,u=o.position,s=o.normal,i=o.color,l=o.tangent,b=o.texCoord0;r+=u.count,s&&(a.normal=!0),i&&(a.color=!0),l&&(a.tangent=!0),b&&(a.texCoord0=!0)}}catch(f){c.e(f)}finally{c.f()}return{writeIndex:0,vertexAttributes:{position:Object(h.a)(x.v,r),normal:a.normal?Object(h.a)(x.u,r):null,tangent:a.tangent?Object(h.a)(x.C,r):null,color:a.color?Object(h.a)(x.J,r):null,texCoord0:a.texCoord0?Object(h.a)(x.m,r):null},components:[]}}function R(t){return new d.a({data:t.data,wrap:L(t.parameters.wrap)})}function N(t,e){var r,n=new u.a(function(t,e){return Object(p.g)(G(t[0]),G(t[1]),G(t[2]),e)}(t.color,t.opacity)),a=t.emissiveFactor?new u.a((r=t.emissiveFactor,Object(f.g)(G(r[0]),G(r[1]),G(r[2])))):null;return new j.a({color:n,colorTexture:Object(i.s)(Object(i.c)(t.textureColor,(function(t){return e.get(t)}))),normalTexture:Object(i.s)(Object(i.c)(t.textureNormal,(function(t){return e.get(t)}))),emissiveColor:a,emissiveTexture:Object(i.s)(Object(i.c)(t.textureEmissive,(function(t){return e.get(t)}))),occlusionTexture:Object(i.s)(Object(i.c)(t.textureOcclusion,(function(t){return e.get(t)}))),alphaMode:z(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:Object(i.s)(Object(i.c)(t.textureMetallicRoughness,(function(t){return e.get(t)})))})}function q(t,e,r){var n=t.vertexAttributes,a=n.position,c=n.normal,o=n.tangent,u=n.color,s=n.texCoord0,f=t.writeIndex,p=e.attributes.position.count;if(Object(v.e)(a.slice(f,p),e.attributes.position,e.transform),Object(i.k)(e.attributes.normal)&&Object(i.k)(c)){var j=Object(l.a)(Object(b.b)(),e.transform);Object(v.a)(c.slice(f,p),e.attributes.normal,j)}else Object(i.k)(c)&&Object(T.b)(c,0,0,1,{dstIndex:f,count:p});if(Object(i.k)(e.attributes.tangent)&&Object(i.k)(o)){var d=Object(l.a)(Object(b.b)(),e.transform);Object(g.c)(o.slice(f,p),e.attributes.tangent,d)}else Object(i.k)(o)&&Object(M.b)(o,0,0,1,1,{dstIndex:f,count:p});if(Object(i.k)(e.attributes.texCoord0)&&Object(i.k)(s)?Object(F.b)(s.slice(f,p),e.attributes.texCoord0):Object(i.k)(s)&&Object(F.a)(s,0,0,{dstIndex:f,count:p}),Object(i.k)(e.attributes.color)&&Object(i.k)(u)){var m=e.attributes.color,h=u.slice(f,p);if(4===m.elementCount)m instanceof x.C?Object(g.b)(h,m,255):m instanceof x.J?Object(M.a)(h,m):m instanceof x.H&&Object(g.a)(h,m,8);else{Object(M.b)(h,255,255,255,255);var w=x.B.fromTypedArray(h.typedBuffer,h.typedBufferStride);m instanceof x.u?Object(v.d)(w,m,255):m instanceof x.B?Object(T.a)(w,m):m instanceof x.z&&Object(v.b)(w,m,8)}}else Object(i.k)(u)&&Object(M.b)(u.slice(f,p),255,255,255,255);var k=function(t,e){switch(e){case 4:return Object(C.c)(t,A.e);case 5:return Object(C.b)(t);case 6:return Object(C.a)(t)}}(e.indices||p,e.primitiveType);if(f)for(var y=0;y<k.length;y++)k[y]+=f;t.components.push(new O.a({faces:k,material:r.get(e.material).clone(),trustSourceNormals:!0})),t.writeIndex+=p}function z(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function L(t){return{horizontal:D(t.s),vertical:D(t.t)}}function D(t){switch(t){case 33071:return"clamp";case 33648:return"mirror";case 10497:return"repeat"}}function G(t){return 255*Math.pow(t,1/B.a)}}}]);
//# sourceMappingURL=43.3a27aa55.chunk.js.map