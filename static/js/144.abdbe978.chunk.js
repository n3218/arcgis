(this["webpackJsonpfirst-example"]=this["webpackJsonpfirst-example"]||[]).push([[144],{1187:function(e,t,n){"use strict";n.r(t),n.d(t,"work",(function(){return Z})),n.d(t,"wrappedWork",(function(){return X}));var r=n(7),i=n.n(r),a=n(10),o=n(814);function c(e,t,n){for(var r=t/3,i=new Uint32Array(n+1),a=new Uint32Array(n+1),o=function(e,t){e<t?i[e+1]++:a[t+1]++},c=0;c<r;c++){var u=e[3*c],s=e[3*c+1],f=e[3*c+2];o(u,s),o(s,f),o(f,u)}for(var l=0,v=0,g=0;g<n;g++){var d=i[g+1],h=a[g+1];i[g+1]=l,a[g+1]=v,l+=d,v+=h}for(var p=new Uint32Array(6*r),b=i[n],m=function(e,t,n){if(e<t){var r=i[e+1]++;p[2*r]=t,p[2*r+1]=n}else{var o=a[t+1]++;p[2*b+2*o]=e,p[2*b+2*o+1]=n}},w=0;w<r;w++){var O=e[3*w],j=e[3*w+1],y=e[3*w+2];m(O,j,w),m(j,y,w),m(y,O,w)}for(var A=function(e,t){for(var n=2*e,r=t-e,i=1;i<r;i++){for(var a=p[n+2*i],o=p[n+2*i+1],c=i-1;c>=0&&p[n+2*c]>a;c--)p[n+2*c+2]=p[n+2*c],p[n+2*c+3]=p[n+2*c+1];p[n+2*c+2]=a,p[n+2*c+3]=o}},k=0;k<n;k++)A(i[k],i[k+1]),A(b+a[k],b+a[k+1]);for(var I=new Int32Array(3*r),x=function(t,n){return t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1},S=function(e,t){var n=x(e,t);I[3*t+n]=-1},L=function(e,t,n,r){var i=x(e,t);I[3*t+i]=r;var a=x(n,r);I[3*r+a]=t},U=0;U<n;U++){for(var N=i[U],V=i[U+1],E=a[U],M=a[U+1];N<V&&E<M;){var D=p[2*N],B=p[2*b+2*E];D===B?(L(U,p[2*N+1],B,p[2*b+2*E+1]),N++,E++):D<B?(S(U,p[2*N+1]),N++):(S(B,p[2*b+2*E+1]),E++)}for(;N<V;)S(U,p[2*N+1]),N++;for(;E<M;)S(p[2*b+2*E],p[2*b+2*E+1]),E++}return I}var u=n(9),s=n(100),f=n(240);function l(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:v(e.layout)}}function v(e){var t=new Array;return e.fields.forEach((function(e,n){var r=Object(u.a)(Object(u.a)({},e),{},{constructor:d(e.constructor)});t.push([n,r])})),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}var g=[s.a,s.m,s.u,s.C,s.f,s.h,s.b,s.n,s.v,s.D,s.g,s.i,s.l,s.t,s.B,s.J,s.j,s.r,s.z,s.H,s.k,s.s,s.A,s.I,s.e,s.q,s.y,s.G,s.c,s.o,s.w,s.E,s.d,s.p,s.x,s.F];function d(e){return"".concat(e.ElementType,"_").concat(e.ElementCount)}var h=new Map;g.forEach((function(e){return h.set(d(e),e)}));var p=n(537),b=Object(f.a)().vec3f("position").u16("componentIndex").u16("u16padding"),m=Object(f.a)().vec2u8("sideness"),w=(Object(p.a)(m),Object(f.a)().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("u8padding",{glPadding:!0}).u16("u16padding",{glPadding:!0})),O=w.clone().vec3f("normal"),j=w.clone().vec3f("normalA").vec3f("normalB"),y=(new Map([["position0",0],["position1",1],["componentIndex",2],["variantOffset",3],["variantStroke",4],["variantExtension",5],["normal",6],["normalA",6],["normalB",7],["sideness",8]]),n(2)),A=n(3),k=n(544),I=n(11),x=n(22),S=function(){function e(){Object(y.a)(this,e)}return Object(A.a)(e,[{key:"updateSettings",value:function(e){this.settings=e,this.edgeHashFunction=e.reducedPrecision?E:V}},{key:"write",value:function(e,t,n){var r=this.edgeHashFunction(n);W.seed=r;var i=W.getIntRange(0,255),a=W.getIntRange(0,this.settings.variants-1),o=W.getFloat(),c=255*(.5*function(e,t){var n=e<0?-1:1;return Math.pow(Math.abs(e),t)*n}(-(1-Math.min(o/.7,1))+Math.max(0,o-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,i),e.variantStroke.set(t,a),e.variantExtension.set(t,c)}},{key:"trim",value:function(e,t){return e.slice(0,t)}}]),e}(),L=new Float32Array(6),U=new Uint32Array(L.buffer),N=new Uint32Array(1);function V(e){var t=L;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],N[0]=5381;for(var n=0;n<U.length;n++)N[0]=31*N[0]+U[n];return N[0]}function E(e){var t=L;t[0]=M(e.position0[0]),t[1]=M(e.position0[1]),t[2]=M(e.position0[2]),t[3]=M(e.position1[0]),t[4]=M(e.position1[1]),t[5]=M(e.position1[2]),N[0]=5381;for(var n=0;n<U.length;n++)N[0]=31*N[0]+U[n];return N[0]}function M(e){return Math.round(1e4*e)/1e4}var D=function(){function e(){Object(y.a)(this,e),this.commonWriter=new S}return Object(A.a)(e,[{key:"updateSettings",value:function(e){this.commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return O.createBuffer(e)}},{key:"write",value:function(e,t,n){this.commonWriter.write(e,t,n),Object(I.f)(F,n.faceNormal0,n.faceNormal1),Object(I.r)(F,F),e.normal.setVec(t,F)}},{key:"trim",value:function(e,t){return this.commonWriter.trim(e,t)}}]),e}();D.Layout=O,D.glLayout=Object(p.a)(O,1);var B=function(){function e(){Object(y.a)(this,e),this.commonWriter=new S}return Object(A.a)(e,[{key:"updateSettings",value:function(e){this.commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return j.createBuffer(e)}},{key:"write",value:function(e,t,n){this.commonWriter.write(e,t,n),e.normalA.setVec(t,n.faceNormal0),e.normalB.setVec(t,n.faceNormal1)}},{key:"trim",value:function(e,t){return this.commonWriter.trim(e,t)}}]),e}();B.Layout=j,B.glLayout=Object(p.a)(j,1);var F=Object(x.e)(),W=new k.a,P=n(109),q=n(40),C=n(90),z=-1;function H(e,t){return e.cosAngle<t}function J(e,t){return e.cosAngle>t}function R(e,t){var n=Object(q.b)(e.cosAngle),r=_.fwd,i=_.ortho;return Object(I.v)(r,e.position1,e.position0),n*(Object(I.h)(Object(I.g)(i,e.faceNormal0,e.faceNormal1),r)>0?-1:1)>t}function T(e){for(var t=e.faces.length/3,n=e.faces,r=e.neighbors,i=0,a=0;a<t;a++){var o=r[3*a+0],c=r[3*a+1],u=r[3*a+2],s=n[3*a+0],f=n[3*a+1],l=n[3*a+2];i+=o===z||s<f?1:0,i+=c===z||f<l?1:0,i+=u===z||l<s?1:0}for(var v=new Int32Array(4*i),g=0,d=0;d<t;d++){var h=r[3*d+0],p=r[3*d+1],b=r[3*d+2],m=n[3*d+0],w=n[3*d+1],O=n[3*d+2];(h===z||m<w)&&(v[g++]=m,v[g++]=w,v[g++]=d,v[g++]=h),(p===z||w<O)&&(v[g++]=w,v[g++]=O,v[g++]=d,v[g++]=p),(b===z||O<m)&&(v[g++]=O,v[g++]=m,v[g++]=d,v[g++]=b)}return v}function G(e){for(var t=e.faces.length/3,n=e.vertices.position,r=e.faces,i=K.v0,a=K.v1,o=K.v2,c=new Float32Array(3*t),u=0;u<t;u++){var s=r[3*u+0],f=r[3*u+1],l=r[3*u+2];n.getVec(s,i),n.getVec(f,a),n.getVec(l,o),Object(I.j)(a,a,i),Object(I.j)(o,o,i),Object(I.g)(i,a,o),Object(I.r)(i,i),c[3*u+0]=i[0],c[3*u+1]=i[1],c[3*u+2]=i[2]}return c}var _={edge:{position0:Object(x.e)(),position1:Object(x.e)(),faceNormal0:Object(x.e)(),faceNormal1:Object(x.e)(),componentIndex:0,cosAngle:0},ortho:Object(x.e)(),fwd:Object(x.e)()},K={v0:Object(x.e)(),v1:Object(x.e)(),v2:Object(x.e)()},Q={anglePlanar:4,angleSignificantEdge:35};function X(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(a.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$(t),r=Z(n),a=[n.data.buffer],e.abrupt("return",{result:ee(r,a),transferList:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){var t=function(e,t,n,r){if(t)return{faces:n,facesLength:r,neighbors:c(n,r,e.count),vertices:e};var i=Object(o.a)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:r}),a=c(i.indices,r,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:a,vertices:b.createView(i.buffer)}}(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return te.updateSettings(e.writerSettings),ne.updateSettings(e.writerSettings),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Q,i=e.vertices.position,a=e.vertices.componentIndex,o=Object(q.g)(r.anglePlanar),c=Object(q.g)(r.angleSignificantEdge),u=Math.cos(c),s=Math.cos(o),f=_.edge,l=f.position0,v=f.position1,g=f.faceNormal0,d=f.faceNormal1,h=G(e),p=T(e),b=p.length/4,m=t.allocate(b),w=0,O=b,j=n.allocate(O),y=0,A=0,k=0,x=Object(P.h)(0,b),S=new Float32Array(b);Object(C.b)(S,(function(e,t,n){i.getVec(p[4*t+0],l),i.getVec(p[4*t+1],v),n[t]=Object(I.m)(l,v)})),x.sort((function(e,t){return S[t]-S[e]}));for(var L=new Array,U=new Array,N=0;N<b;N++){var V=x[N],E=S[V],M=p[4*V+0],D=p[4*V+1],B=p[4*V+2],F=p[4*V+3],W=F===z;if(i.getVec(M,l),i.getVec(D,v),W)Object(I.w)(g,h[3*B+0],h[3*B+1],h[3*B+2]),Object(I.k)(d,g),f.componentIndex=a.get(M),f.cosAngle=Object(I.h)(g,d);else{if(Object(I.w)(g,h[3*B+0],h[3*B+1],h[3*B+2]),Object(I.w)(d,h[3*F+0],h[3*F+1],h[3*F+2]),f.componentIndex=a.get(M),f.cosAngle=Object(I.h)(g,d),J(f,s))continue;f.cosAngle<-.9999&&Object(I.k)(d,g)}A+=E,k++,W||H(f,u)?(t.write(m,w++,f),L.push(E)):R(f,o)&&(n.write(j,y++,f),U.push(E))}var K=new Float32Array(L.reverse()),X=new Float32Array(U.reverse());return{regular:{instancesData:t.trim(m,w),lodInfo:{lengths:K}},silhouette:{instancesData:n.trim(j,y),lodInfo:{lengths:X}},averageEdgeLength:A/k}}(t,te,ne)}function $(e){return{data:b.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indicesBuffer):"Uint16Array"===e.indicesType?new Uint16Array(e.indicesBuffer):void 0,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function ee(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:l(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:l(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}var te=new D,ne=new B},814:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(40);function i(e,t,n){var i,s=e.byteLength/(4*t),f=new Uint32Array(e,0,s*t),l=new Uint32Array(s),v=null!=(i=null==n?void 0:n.minReduction)?i:0,g=(null==n?void 0:n.originalIndices)||null,d=g?g.length:0,h=(null==n?void 0:n.componentOffsets)||null,p=0;if(h)for(var b=0;b<h.length-1;b++){var m=h[b+1]-h[b];m>p&&(p=m)}else p=s;var w=Math.floor(1.1*p)+1;(null==u||u.length<2*w)&&(u=new Uint32Array(Object(r.o)(2*w)));for(var O=0;O<2*w;O++)u[O]=0;for(var j=0,y=!!h&&!!g,A=y?d:s,k=y?new Uint32Array(d):null,I=1.96,x=0!==v?Math.ceil(4*I*I/(v*v)*v*(1-v)):A,S=1,L=h?h[1]:A,U=0;U<A;U++){if(U===x){var N=1-j/U;if(N+I*Math.sqrt(N*(1-N)/U)<v)return null;x*=2}if(U===L){for(var V=0;V<2*w;V++)u[V]=0;if(g)for(var E=h[S-1];E<h[S];E++)k[E]=l[g[E]];L=h[++S]}for(var M=y?g[U]:U,D=M*t,B=c(f,D,t),F=B%w,W=j;0!==u[2*F+1];){if(u[2*F]===B){var P=u[2*F+1]-1;if(a(f,D,P*t,t)){W=l[P];break}}++F>=w&&(F-=w)}W===j&&(u[2*F]=B,u[2*F+1]=M+1,j++),l[M]=W}if(0!==v&&1-j/s<v)return null;if(y){for(var q=h[S-1];q<k.length;q++)k[q]=l[g[q]];l=k}var C=new Uint32Array(t*j);j=0;for(var z=0;z<A;z++)l[z]===j&&(o(f,(y?g[z]:z)*t,C,j*t,t),j++);if(g&&!y){for(var H=new Uint32Array(d),J=0;J<H.length;J++)H[J]=l[g[J]];l=H}return{buffer:C.buffer,indices:l,uniqueCount:j}}function a(e,t,n,r){for(var i=0;i<r;i++)if(e[t+i]!==e[n+i])return!1;return!0}function o(e,t,n,r,i){for(var a=0;a<i;a++)n[r+a]=e[t+a]}function c(e,t,n){for(var r=0,i=0;i<n;i++)r=(r=e[t+i]+r|0)+(r<<11)+(r>>>2)|0;return r>>>0}var u=null}}]);
//# sourceMappingURL=144.abdbe978.chunk.js.map