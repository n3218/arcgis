{"version":3,"sources":["../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/tileUtils.js","../node_modules/@arcgis/core/views/2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js","../node_modules/@arcgis/core/views/3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js","../node_modules/@arcgis/core/views/support/TileTreeDebugger.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/WorkerTileTreeDebugger.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTilesSimple.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureServiceSnappingSource.js","../node_modules/@arcgis/core/chunks/boundedPlane.js","../node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js","../node_modules/@arcgis/core/core/workers/WorkerHandle.js"],"names":["c","n","t","o","extent","e","r","s","a","x","y","pointOfInterest","this","tilesCoveringView","i","view","center","sort","scale","layer","minScale","maxScale","ready","featuresTilingScheme","state","tileInfo","scaleEnabled","getTileCoverage","spans","lodInfo","level","row","colFrom","l","colTo","id","col","normalizeCol","updateTileInfo","push","size","handles","add","watch","notifyChange","readOnly","prototype","constructOnly","u","effectivePointOfInterest","map","length","slice","filterTiles","featureTiles","tiles","toArray","tilingScheme","toTileInfo","tileSize","pointsOfInterest","focus","location","remove","p","addClient","filter","Math","abs","measures","screenRect","visibility","lij","m","b","updating","enablePolygons","enableLabels","_polygons","Map","_labels","_enabled","_symbols","color","outline","width","update","clear","getTiles","Array","Set","keys","forEach","toString","delete","g","d","geometry","has","symbol","set","label","loadPriority","_","f","w","j","type","h","verticalOffset","screenLength","callout","border","symbolLayers","text","halo","material","haloColor","haloSize","get","JSON","stringify","graphics","removeMany","addMany","from","values","setInterval","fetchDebugInfo","clearInterval","destroy","debugInfo","storedTiles","data","featureCount","pendingTiles","fromExtent","spatialReference","handle","getDebugInfo","then","availability","workerHandleUpdating","editId","updatingHandles","workerHandle","schedule","on","_set","serviceInfoFromLayer","configuration","convertConfiguration","serviceInfo","toJSON","addPromise","invokeMethod","distance","point","coordinateHelper","toPoint","types","createQuery","invoke","result","edits","addedFeatures","objectId","deletedFeatures","globalId","updatedFeatures","customParameters","geometryType","url","parsedUrl","path","fields","capabilities","objectIdField","globalIdField","timeInfo","strategy","origin","lods","resolution","tilesOfInterest","layerSource","resourceController","setup","updateTiles","updateTilesParameters","configure","debug","applyEdits","refresh","fetchCandidates","candidates","L","getLogger","G","vs","plane","T","v","basis1","basis2","D","J","K","ys","Q","C","ms","Z","k","$","E","hs","is","Ns","Ps","Number","POSITIVE_INFINITY","Ts","Is","ws","O","direction","ns","U","R","q","rs","ts","B","js","as","Y","max","os","sqrt","cs","gs","ps","Vs","vector","warn","N","S","Ms","P","Ss","As","Object","freeze","__proto__","BoundedPlaneClass","create","wrap","A","copy","copyWithoutVerify","V","fromValues","updateUnboundedPlane","elevate","setExtent","fromAABoundingRect","intersectRay","intersectRayClosestSilhouette","closestPointOnSilhouette","closestPoint","projectPoint","projectPointLocal","distance2","distanceToSilhouette","NEGATIVE_INFINITY","M","extrusionContainsPoint","axisAt","I","ds","altitudeAt","setAltitudeAt","equals","transform","F","rotate","normal","UP","constraint","targetPoint","edgeStart","fromPoint","start","edgeEnd","end","target","_mainMethod","_listeners","_promise","_thread","hasInitialize","broadcast","_connectListener","close","catch","error","removed","eventName","callback","threadHandle","getTransferList","transferList","signal","Promise","reject","all"],"mappings":"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","file":"static/js/78.086dd250.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{s}from\"../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../chunks/vec4f64.js\";import{g as o,h as r,a as t}from\"../../../../../chunks/boundedPlane.js\";function c(n,t){return o(t.extent,e),r(e,s(a,n.x,n.y,0))}const e=t(),a=n();export{c as distanceToTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import t from\"../../../../../../core/Accessor.js\";import{HandleOwnerMixin as r}from\"../../../../../../core/HandleOwner.js\";import{isSome as i,isNone as o}from\"../../../../../../core/maybe.js\";import{property as s}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/has.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../../core/Logger.js\";import{subclass as l}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{distanceToTile as n}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";import{scaleBoundsPredicate as a}from\"../../../../../support/layerViewUtils.js\";let c=class extends(r(t)){constructor(e){super(e),this.pointOfInterest=null}get tiles(){const e=this.tilesCoveringView,t=i(this.pointOfInterest)?this.pointOfInterest:this.view.center;return e.sort(((e,r)=>n(t,e)-n(t,r))),e}scaleEnabled(){return a(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||o(this.tileInfo))return[];if(!this.scaleEnabled)return[];const{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:r}=t,i=[];for(const{row:o,colFrom:s,colTo:l}of e)for(let e=s;e<=l;e++){const s={id:null,level:r,row:o,col:t.normalizeCol(e)};this.tileInfo.updateTileInfo(s),i.push(s)}return i}get tileInfo(){var e,t;return null!=(e=null==(t=this.view.featuresTilingScheme)?void 0:t.tileInfo)?e:null}get tileSize(){return i(this.tileInfo)?this.tileInfo.size[0]:256}initialize(){this.handles.add(this.watch(\"view.state.viewpoint\",(()=>this.notifyChange(\"tilesCoveringView\")),!0))}};e([s({readOnly:!0})],c.prototype,\"tiles\",null),e([s({readOnly:!0})],c.prototype,\"scaleEnabled\",null),e([s({readOnly:!0})],c.prototype,\"tilesCoveringView\",null),e([s({readOnly:!0})],c.prototype,\"tileInfo\",null),e([s({readOnly:!0})],c.prototype,\"tileSize\",null),e([s({constructOnly:!0})],c.prototype,\"view\",void 0),e([s({constructOnly:!0})],c.prototype,\"layer\",void 0),e([s()],c.prototype,\"pointOfInterest\",void 0),c=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D\")],c);export{c as FeatureServiceTiles2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../../core/HandleOwner.js\";import{isSome as r,isNone as i}from\"../../../../../../core/maybe.js\";import{init as s}from\"../../../../../../core/watchUtils.js\";import{property as o}from\"../../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../../core/has.js\";import\"../../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../../core/Logger.js\";import{subclass as l}from\"../../../../../../core/accessorSupport/decorators/subclass.js\";import{distanceToTile as n}from\"../../../../../interactive/snapping/featureSources/featureServiceSource/tileUtils.js\";let u=class extends t{constructor(e){super(e),this.pointOfInterest=null}get tiles(){const e=this.tilesCoveringView,t=this.effectivePointOfInterest;if(r(t)){const r=e.map((e=>n(t,e)));for(let i=1;i<r.length;i++)if(r[i-1]>r[i])return e.sort(((e,r)=>n(t,e)-n(t,r))),e.slice()}return e}get tilesCoveringView(){var e,t;return this.filterTiles(null==(e=this.view.featureTiles)||null==(t=e.tiles)?void 0:t.toArray()).map(a)}get tileInfo(){var e,t;return null!=(e=null==(t=this.view.featureTiles)?void 0:t.tilingScheme.toTileInfo())?e:null}get tileSize(){var e,t;return null!=(e=null==(t=this.view.featureTiles)?void 0:t.tileSize)?e:256}get effectivePointOfInterest(){var e;const t=this.pointOfInterest;return r(t)?t:null==(e=this.view.pointsOfInterest)?void 0:e.focus.location}initialize(){this.handles.add(s(this.view,\"featureTiles\",(e=>{this.handles.remove(p),e&&this.handles.add(e.addClient(),p)})))}filterTiles(e){if(i(e))return[];return e.filter((e=>Math.abs(e.measures.screenRect[3]-e.measures.screenRect[1])>c&&2===e.measures.visibility))}};function a({lij:[e,t,r],extent:i}){return{id:`${e}/${t}/${r}`,level:e,row:t,col:r,extent:i}}e([o({readOnly:!0})],u.prototype,\"tiles\",null),e([o({readOnly:!0})],u.prototype,\"tilesCoveringView\",null),e([o({readOnly:!0})],u.prototype,\"tileInfo\",null),e([o({readOnly:!0})],u.prototype,\"tileSize\",null),e([o({constructOnly:!0})],u.prototype,\"view\",void 0),e([o()],u.prototype,\"pointOfInterest\",void 0),e([o()],u.prototype,\"effectivePointOfInterest\",null),u=e([l(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D\")],u);const c=50,p=\"feature-tiles\";export{u as FeatureServiceTiles3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import s from\"../../Color.js\";import o from\"../../Graphic.js\";import t from\"../../core/Accessor.js\";import{lerp as r}from\"../../core/mathUtils.js\";import{isSome as l,isNone as i}from\"../../core/maybe.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../symbols/PointSymbol3D.js\";import p from\"../../symbols/SimpleFillSymbol.js\";import c from\"../../symbols/TextSymbol.js\";import y from\"../../symbols/TextSymbol3DLayer.js\";const m=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let b=class extends t{constructor(e){super(e),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=m.map((e=>new p({color:[e[0],e[1],e[2],.6],outline:{color:\"black\",width:1}}))),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.update())}update(){if(!this._enabled)return void this.clear();const e=e=>{if(l(e.label))return e.label;let s=e.lij.toString();return l(e.loadPriority)&&(s+=` (${e.loadPriority})`),s},t=this.getTiles(),a=new Array,n=new Set((this._labels.size,this._labels.keys()));t.forEach(((p,m)=>{const b=p.lij.toString();n.delete(b);const g=p.lij[0],d=p.geometry;if(this.enablePolygons&&!this._polygons.has(b)){const e=new o({geometry:d,symbol:this._symbols[g%this._symbols.length]});this._polygons.set(b,e),a.push(e)}if(this.enableLabels){const n=e(p),g=m/(t.length-1),u=r(0,200,g),_=r(20,6,g)/.75,f=l(p.loadPriority)&&p.loadPriority>=t.length,w=new s([u,f?0:u,f?0:u]),j=\"3d\"===this.view.type?()=>new h({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new y({text:n,halo:{color:\"white\",size:1/.75},material:{color:w},size:_})]}):()=>new c({text:n,haloColor:\"white\",haloSize:1/.75,color:w,size:_});if(this._labels.has(b)){const e=this._labels.get(b),s=j();(i(e.symbol)||JSON.stringify(s)!==JSON.stringify(e.symbol))&&(e.symbol=s)}else{const e=new o({geometry:d.extent.center,symbol:j()});this._labels.set(b,e),a.push(e)}}}));const p=new Array;n.forEach((e=>{this._polygons.has(e)&&(p.push(this._polygons.get(e)),this._polygons.delete(e)),this._labels.has(e)&&(p.push(this._labels.get(e)),this._labels.delete(e))})),this.view.graphics.removeMany(p),this.view.graphics.addMany(a)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};e([a({constructOnly:!0})],b.prototype,\"view\",void 0),e([a({readOnly:!0})],b.prototype,\"updating\",void 0),e([a()],b.prototype,\"enabled\",null),b=e([n(\"esri.views.support.TileTreeDebugger\")],b);export{b as TileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Handles.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../../geometry/Polygon.js\";import{toExtent as i}from\"../../../../geometry/support/aaBoundingRect.js\";import{TileTreeDebugger as n}from\"../../../support/TileTreeDebugger.js\";let d=class extends n{constructor(e){super(e),this.handles=new t}initialize(){const e=setInterval((()=>this.fetchDebugInfo()),2e3);this.handles.add(r((()=>clearInterval(e))))}destroy(){this.handles.destroy()}getTiles(){if(!this.debugInfo)return[];const e=new Map,t=new Map;this.debugInfo.storedTiles.forEach((t=>{e.set(t.data.id,t.featureCount)})),this.debugInfo.pendingTiles.forEach((r=>{e.set(r.data.id,r.featureCount),t.set(r.data.id,r.state)}));const r=r=>{var o;const s=t.get(r),a=null!=(o=e.get(r))?o:\"?\";return s?`${s}:${a}\\n${r}`:`store:${a}\\n${r}`},o=new Map;return this.debugInfo.storedTiles.forEach((e=>{o.set(e.data.id,e.data)})),this.debugInfo.pendingTiles.forEach((e=>{o.set(e.data.id,e.data)})),Array.from(o.values()).map((e=>({lij:[e.level,e.row,e.col],geometry:a.fromExtent(i(e.extent,this.view.spatialReference)),label:r(e.id)})))}fetchDebugInfo(){this.handle.getDebugInfo(null).then((e=>{this.debugInfo=e,this.update()}))}};e([o({constructOnly:!0})],d.prototype,\"handle\",void 0),d=e([s(\"esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger\")],d);export{d as WorkerTileTreeDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{isNone as i,isSome as r}from\"../../../../../core/maybe.js\";import{whenOrAbort as o}from\"../../../../../core/promiseUtils.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{WorkerHandle as s}from\"../../../../../core/workers/WorkerHandle.js\";import d from\"../../../../../geometry/Point.js\";import{featureGeometryTypeKebabDictionary as l}from\"../../../../../geometry/support/typeUtils.js\";let p=class extends t{constructor(e){super(e),this.availability=0,this.workerHandleUpdating=!0,this.editId=0}get updating(){return this.updatingHandles.updating||this.workerHandleUpdating}destroy(){this.workerHandle.destroy()}initialize(){this.workerHandle=new u(this.schedule),this.handles.add([this.workerHandle.on(\"notify-updating\",(({updating:e})=>this.workerHandleUpdating=e)),this.workerHandle.on(\"notify-availability\",(({availability:e})=>this._set(\"availability\",e)))])}async setup(e,t){const r=this.serviceInfoFromLayer(e.layer);if(i(r))return;const o={configuration:this.convertConfiguration(e.configuration),serviceInfo:r,spatialReference:e.spatialReference.toJSON()};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"setup\",o,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async configure(e,t){const i=this.convertConfiguration(e);await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"configure\",i,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async refresh(e){await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"refresh\",{},e)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},e))}async fetchCandidates(e,t){const i={distance:e.distance,point:e.coordinateHelper.toPoint(e.point,new d).toJSON(),types:e.types,filter:r(e.filter)?e.filter.createQuery().toJSON():null};return this.workerHandle.invoke(i,t)}async updateTiles(e,t){const i={tiles:e.tiles,tileInfo:r(e.tileInfo)?e.tileInfo.toJSON():null,tileSize:e.tileSize};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"updateTiles\",i,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}async applyEdits(e,t){var i,r,a,n,s,d;const l=this.editId++,p={id:l};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"beginApplyEdits\",p,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t));const u=await this.updatingHandles.addPromise(o(e.result,t)),c={id:l,edits:{addedFeatures:null!=(i=null==(r=u.addedFeatures)?void 0:r.map((({objectId:e})=>e)))?i:[],deletedFeatures:null!=(a=null==(n=u.deletedFeatures)?void 0:n.map((({objectId:e,globalId:t})=>({objectId:e,globalId:t}))))?a:[],updatedFeatures:null!=(s=null==(d=u.updatedFeatures)?void 0:d.map((({objectId:e})=>e)))?s:[]}};await this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"endApplyEdits\",c,t)),this.updatingHandles.addPromise(this.workerHandle.invokeMethod(\"whenNotUpdating\",{},t))}getDebugInfo(e){return this.workerHandle.invokeMethod(\"getDebugInfo\",{},e)}convertConfiguration(e){return{filter:r(e.filter)?e.filter.toJSON():null,customParameters:e.customParameters}}serviceInfoFromLayer(e){var t;return\"multipatch\"===e.geometryType||\"mesh\"===e.geometryType?null:{url:e.parsedUrl.path,fields:e.fields.map((e=>e.toJSON())),geometryType:l.toJSON(e.geometryType),capabilities:e.capabilities,objectIdField:e.objectIdField,globalIdField:e.globalIdField,spatialReference:e.spatialReference.toJSON(),timeInfo:null==(t=e.timeInfo)?void 0:t.toJSON()}}};e([a({constructOnly:!0})],p.prototype,\"schedule\",void 0),e([a({readOnly:!0})],p.prototype,\"updating\",null),e([a({readOnly:!0})],p.prototype,\"availability\",void 0),e([a()],p.prototype,\"workerHandleUpdating\",void 0),p=e([n(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorkerHandle\")],p);class u extends s{constructor(e){super(\"FeatureServiceSnappingSourceWorker\",\"fetchCandidates\",e,{strategy:\"dedicated\"})}getTransferList(){return[]}}export{p as FeatureServiceSnappingSourceWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import r from\"../../../../../core/Accessor.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../../geometry/Point.js\";import{fromValues as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import p from\"../../../../../layers/support/LOD.js\";import l from\"../../../../../layers/support/TileInfo.js\";let n=class extends r{constructor(e){super(e),this.pointOfInterest=null}get tiles(){return[{id:\"0/0/0\",level:0,row:0,col:0,extent:i(-1e8,-1e8,1e8,1e8)}]}get tileInfo(){return new l({origin:new s({x:-1e8,y:1e8,spatialReference:this.layer.spatialReference}),size:[512,512],lods:[new p({level:0,scale:1,resolution:390625})],spatialReference:this.layer.spatialReference})}get tileSize(){return this.tileInfo.size[0]}};e([t({readOnly:!0})],n.prototype,\"tiles\",null),e([t({readOnly:!0})],n.prototype,\"tileInfo\",null),e([t({readOnly:!0})],n.prototype,\"tileSize\",null),e([t({constructOnly:!0})],n.prototype,\"layer\",void 0),e([t()],n.prototype,\"pointOfInterest\",void 0),n=e([o(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTilesSimple\")],n);export{n as FeatureServiceTilesSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{HandleOwnerMixin as t}from\"../../../../core/HandleOwner.js\";import{destroyHandle as i}from\"../../../../core/handleUtils.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{init as o}from\"../../../../core/watchUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{reaction as l}from\"../../../../core/accessorSupport/trackingUtils.js\";import u from\"../../../../geometry/Point.js\";import{FeatureServiceTiles2D as p}from\"../../../2d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles2D.js\";import{FeatureServiceTiles3D as c}from\"../../../3d/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiles3D.js\";import{convertSnappingCandidate as d}from\"./queryEngineUtils.js\";import{WorkerTileTreeDebugger as h}from\"./WorkerTileTreeDebugger.js\";import{FeatureServiceSnappingSourceWorkerHandle as f}from\"./featureServiceSource/FeatureServiceSnappingSourceWorkerHandle.js\";import{FeatureServiceTilesSimple as m}from\"./featureServiceSource/FeatureServiceTilesSimple.js\";import y from\"../../../support/debugFlags.js\";let g=class extends(t(r)){constructor(e){super(e)}get updateTilesParameters(){return{tiles:this.tilesOfInterest.tiles,tileInfo:this.tilesOfInterest.tileInfo,tileSize:this.tilesOfInterest.tileSize}}get updating(){return this.workerHandle.updating||this.updatingHandles.updating}get configuration(){return{filter:this.layer.createQuery(),customParameters:this.layer.customParameters}}get availability(){return this.workerHandle.availability}get layer(){return this.layerSource.layer}initialize(){const e=this.view;if(s(e))switch(e.type){case\"2d\":this.tilesOfInterest=new p({view:e,layer:this.layer}),this.workerHandle=new f;break;case\"3d\":{const r=e.resourceController;this.tilesOfInterest=new c({view:e}),this.workerHandle=new f({schedule:e=>r.schedule(e)});break}}else this.tilesOfInterest=new m({layer:this.layer}),this.workerHandle=new f;this.handles.add([i(this.workerHandle)]),this.workerHandle.setup({layer:this.layer,spatialReference:this.spatialReference,configuration:this.configuration},null),this.updatingHandles.add(this,\"updateTilesParameters\",(()=>this.workerHandle.updateTiles(this.updateTilesParameters,null)),2),this.handles.add([l((()=>this.configuration),(e=>this.workerHandle.configure(e,null)))]),s(e)&&this.handles.add(o(y,\"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES\",(r=>{r&&!this.debug?(this.debug=new h({view:e,handle:this.workerHandle}),this.handles.add(i(this.debug),\"debug\")):!r&&this.debug&&this.handles.remove(\"debug\")}))),this.handles.add(this.layerSource.layer.on(\"apply-edits\",(e=>{this.workerHandle.applyEdits(e,null)})))}refresh(){this.workerHandle.refresh(null)}async fetchCandidates(e,r){return this.tilesOfInterest.pointOfInterest=e.coordinateHelper.toPoint(e.point,new u),(await this.workerHandle.fetchCandidates({...e,filter:null},r)).candidates.map((r=>d(r,e.coordinateHelper)))}getDebugInfo(e){return this.workerHandle.getDebugInfo(e)}};e([a({constructOnly:!0})],g.prototype,\"spatialReference\",void 0),e([a({constructOnly:!0})],g.prototype,\"layerSource\",void 0),e([a({constructOnly:!0})],g.prototype,\"view\",void 0),e([a()],g.prototype,\"tilesOfInterest\",void 0),e([a({readOnly:!0})],g.prototype,\"updateTilesParameters\",null),e([a({readOnly:!0})],g.prototype,\"updating\",null),e([a({readOnly:!0})],g.prototype,\"configuration\",null),e([a({readOnly:!0})],g.prototype,\"availability\",null),g=e([n(\"esri.views.interactive.snapping.featureSources.FeatureServiceSnappingSource\")],g);export{g as FeatureServiceSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import s from\"../core/Logger.js\";import{acosClamped as i}from\"../core/mathUtils.js\";import{ObjectStack as n}from\"../core/ObjectStack.js\";import{a as t,e as a,c as r,i as o}from\"./mat4.js\";import{c as e}from\"./mat4f64.js\";import{g as c,a as u,b as g,s as b,i as f,l,r as p,d as m,f as d,k as h,m as j,n as I,p as y}from\"./vec3.js\";import{c as P,a as v,f as N}from\"./vec3f64.js\";import{projectPointClamp as w,distance2 as M,create as S}from\"../geometry/support/lineSegment.js\";import{create as T,wrap as A,copy as V,fromVectorsAndPoint as _,normal as x,fromValues as k,intersectRay as E,intersectLineSegment as O,intersectLineSegmentClamp as U,isPointInside as q,projectPoint as B,setOffsetFromPoint as F}from\"../geometry/support/plane.js\";import{distance2 as R}from\"../geometry/support/ray.js\";import{projectPointSignedLength as Y}from\"../geometry/support/vector.js\";import{sv3d as C}from\"../geometry/support/vectorStacks.js\";const L=s.getLogger(\"esri.views.3d.support.geometryUtils.boundedPlane\");class z{constructor(){this.plane=T(),this.origin=P(),this.basis1=P(),this.basis2=P()}}function G(s=vs){return{plane:T(s.plane),origin:v(s.origin),basis1:v(s.basis1),basis2:v(s.basis2)}}function W(s,i,n){const t=Ss.get();return t.origin=s,t.basis1=i,t.basis2=n,t.plane=A(0,0,0,0),K(t),t}function D(s,i=G()){return J(s.origin,s.basis1,s.basis2,i)}function H(s,i){c(i.origin,s.origin),c(i.basis1,s.basis1),c(i.basis2,s.basis2),V(s.plane,i.plane)}function J(s,i,n,t=G()){return c(t.origin,s),c(t.basis1,i),c(t.basis2,n),K(t),ys(t,\"fromValues()\"),t}function K(s){_(s.basis2,s.basis1,s.origin,s.plane)}function Q(s,i,n){s!==n&&D(s,n);const t=u(C.get(),ms(s),i);return g(n.origin,n.origin,t),n.plane[3]-=i,n}function X(s,i,n){return Z(i,n),Q(n,gs(s,s.origin),n),n}function Z(s,i=G()){const n=(s[2]-s[0])/2,t=(s[3]-s[1])/2;return b(i.origin,s[0]+n,s[1]+t,0),b(i.basis1,n,0,0),b(i.basis2,0,t,0),k(0,0,1,0,i.plane),i}function $(s,i,n){return!!E(s.plane,i,n)&&hs(s,n)}function ss(s,i,n){if($(s,i,n))return n;const t=is(s,i,C.get());return g(n,i.origin,u(C.get(),i.direction,f(i.origin,t)/l(i.direction))),n}function is(s,n,t){const a=Ns.get();Ps(s,n,a,Ns.get());let r=Number.POSITIVE_INFINITY;for(const o of Ts){const e=Is(s,o,ws.get()),u=C.get();if(O(a,e,u)){const s=p(C.get(),n.origin,u),a=Math.abs(i(m(n.direction,s)));a<r&&(r=a,c(t,u))}}return r===Number.POSITIVE_INFINITY?ns(s,n,t):t}function ns(s,i,n){if($(s,i,n))return n;const t=Ns.get(),a=Ns.get();Ps(s,i,t,a);let r=Number.POSITIVE_INFINITY;for(const o of Ts){const e=Is(s,o,ws.get()),u=C.get();if(U(t,e,u)){const s=R(i,u);if(!q(a,u))continue;s<r&&(r=s,c(n,u))}}return rs(s,i.origin)<r&&ts(s,i.origin,n),n}function ts(s,i,n){const t=B(s.plane,i,C.get()),a=w(js(s,s.basis1),t,-1,1,C.get()),r=w(js(s,s.basis2),t,-1,1,C.get());return d(n,g(C.get(),a,r),s.origin),n}function as(s,i,n){const{origin:t,basis1:a,basis2:r}=s,o=d(C.get(),i,t),e=Y(a,o),c=Y(r,o),u=Y(ms(s),o);return b(n,e,c,u)}function rs(s,i){const n=as(s,i,C.get()),{basis1:t,basis2:a}=s,r=l(t),o=l(a),e=Math.max(Math.abs(n[0])-r,0),c=Math.max(Math.abs(n[1])-o,0),u=n[2];return e*e+c*c+u*u}function os(s,i){return Math.sqrt(rs(s,i))}function es(s,i){let n=Number.NEGATIVE_INFINITY;for(const t of Ts){const a=Is(s,t,ws.get()),r=M(a,i);r>n&&(n=r)}return Math.sqrt(n)}function cs(s,i){return q(s.plane,i)&&hs(s,i)}function us(s,i,n,t){return ds(s,n,t)}function gs(s,i){const n=-s.plane[3];return Y(ms(s),i)-n}function bs(s,i,n,t){const a=gs(s,i),r=u(Ms,ms(s),n-a);return g(t,i,r),t}function fs(s,i){return h(s.basis1,i.basis1)&&h(s.basis2,i.basis2)&&h(s.origin,i.origin)}function ls(s,i,n){return s!==n&&D(s,n),t(As,i),a(As,As),j(n.basis1,s.basis1,As),j(n.basis2,s.basis2,As),j(x(n.plane),x(s.plane),As),j(n.origin,s.origin,i),F(n.plane,n.origin,n.plane),n}function ps(s,i,n,t){return s!==t&&D(s,t),r(Vs,o(Vs),i,n),j(t.basis1,s.basis1,Vs),j(t.basis2,s.basis2,Vs),K(t),t}function ms(s){return x(s.plane)}function ds(s,i,n){switch(i){case 0:c(n,s.basis1),I(n,n);break;case 1:c(n,s.basis2),I(n,n);break;case 2:c(n,ms(s))}return n}function hs(s,i){const n=d(C.get(),i,s.origin),t=y(s.basis1),a=y(s.basis2),r=m(s.basis1,n),o=m(s.basis2,n);return-r-t<0&&r-t<0&&-o-a<0&&o-a<0}function js(s,i){const n=ws.get();return c(n.origin,s.origin),c(n.vector,i),n}function Is(s,i,n){const{basis1:t,basis2:a,origin:r}=s,o=u(C.get(),t,i.origin[0]),e=u(C.get(),a,i.origin[1]);g(n.origin,o,e),g(n.origin,n.origin,r);const c=u(C.get(),t,i.direction[0]),b=u(C.get(),a,i.direction[1]);return u(n.vector,g(c,c,b),2),n}function ys(s,i){Math.abs(m(s.basis1,s.basis2)/(l(s.basis1)*l(s.basis2)))>1e-6&&L.warn(i,\"Provided basis vectors are not perpendicular\"),Math.abs(m(s.basis1,ms(s)))>1e-6&&L.warn(i,\"Basis vectors and plane normal are not perpendicular\"),Math.abs(-m(ms(s),s.origin)-s.plane[3])>1e-6&&L.warn(i,\"Plane offset is not consistent with plane origin\")}function Ps(s,i,n,t){const a=ms(s);_(a,i.direction,i.origin,n),_(x(n),a,i.origin,t)}const vs={plane:T(),origin:N(0,0,0),basis1:N(1,0,0),basis2:N(0,1,0)},Ns=new n(T),ws=new n(S),Ms=P(),Ss=new n((()=>({origin:null,basis1:null,basis2:null,plane:null}))),Ts=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],As=e(),Vs=e();var _s=Object.freeze({__proto__:null,BoundedPlaneClass:z,create:G,wrap:W,copy:D,copyWithoutVerify:H,fromValues:J,updateUnboundedPlane:K,elevate:Q,setExtent:X,fromAABoundingRect:Z,intersectRay:$,intersectRayClosestSilhouette:ss,closestPointOnSilhouette:is,closestPoint:ns,projectPoint:ts,projectPointLocal:as,distance2:rs,distance:os,distanceToSilhouette:es,extrusionContainsPoint:cs,axisAt:us,altitudeAt:gs,setAltitudeAt:bs,equals:fs,transform:ls,rotate:ps,normal:ms,UP:vs});export{fs as A,z as B,vs as U,G as a,_s as b,D as c,H as d,cs as e,J as f,Z as g,os as h,$ as i,Q as j,ss as k,is as l,ns as m,ms as n,as as o,ts as p,rs as q,ps as r,X as s,ls as t,K as u,es as v,W as w,us as x,gs as y,bs as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../SnappingConstraint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointSnappingHint as r}from\"../hints/PointSnappingHint.js\";class i extends n{constructor(n){super({...n,constraint:new t(n.coordinateHelper,n.targetPoint)})}get hints(){return[new r(this.targetPoint)]}}export{i as VertexSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{EdgeSnappingCandidate as e}from\"../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as t}from\"../candidates/VertexSnappingCandidate.js\";function r(r,n){switch(r.type){case\"edge\":return new e({coordinateHelper:n,edgeStart:n.fromPoint(r.start),edgeEnd:n.fromPoint(r.end),targetPoint:n.fromPoint(r.target),objectId:r.objectId});case\"vertex\":return new t({coordinateHelper:n,targetPoint:n.fromPoint(r.target),objectId:r.objectId})}}export{r as convertSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import r from\"../Logger.js\";import{isSome as s}from\"../maybe.js\";import{throwIfAborted as i}from\"../promiseUtils.js\";import{open as o}from\"./workers.js\";const h=r.getLogger(\"esri.core.workers.WorkerHandle\");class n{constructor(e,t,r,s={}){this._mainMethod=t,this._listeners=[],this._promise=o(e,{...s,schedule:r}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,s.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>h.error(`Failed to initialize ${e} worker: ${t}`)))}on(r,i){const o={removed:!1,eventName:r,callback:i,threadHandle:null};return this._listeners.push(o),this._connectListener(o),t((()=>{o.removed=!0,e(this._listeners,o),this._thread&&s(o.threadHandle)&&o.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,r){if(this._thread){const s=this.getTransferList(t,e);return this._thread.invoke(e,t,{transferList:s,signal:r})}return this._promise?this._promise.then((()=>(i(r),this.invokeMethod(e,t,r)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{n as WorkerHandle};\n"],"sourceRoot":""}