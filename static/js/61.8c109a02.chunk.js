(this["webpackJsonpfirst-example"]=this["webpackJsonpfirst-example"]||[]).push([[61],{1017:function(t,e,r){"use strict";r.r(e),r.d(e,"ElevationSamplerWorker",(function(){return d}));var n=r(15),a=r(7),i=r.n(a),o=r(10),c=r(2),u=r(3),l=r(14),f=r(4),s=r(733),h=r(788),d=function(){function t(){Object(c.a)(this,t)}return Object(u.a)(t,[{key:"createIndex",value:function(){var t=Object(o.a)(i.a.mark((function t(e,r){var n,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=new Array,e.vertexAttributes&&e.vertexAttributes.position){t.next=3;break}return t.abrupt("return",new s.a);case 3:if(a=this.createMeshData(e),!Object(f.k)(r)){t.next=10;break}return t.next=7,r.invoke("createIndexThread",a,{transferList:n});case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=this.createIndexThread(a).result;case 11:return o=t.t0,t.abrupt("return",this.createPooledRBush().fromJSON(o));case 13:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"createIndexThread",value:function(t){var e=new Float64Array(t.position),r=this.createPooledRBush();return t.components?this.createIndexComponentsThread(r,e,t.components.map((function(t){return new Uint32Array(t)}))):this.createIndexAllThread(r,e)}},{key:"createIndexAllThread",value:function(t,e){for(var r=new Array(e.length/9),n=0,a=0;a<e.length;a+=9)r[n++]=p(e,a+0,a+3,a+6);return t.load(r),{result:t.toJSON()}}},{key:"createIndexComponentsThread",value:function(t,e,r){var a,i=0,o=Object(n.a)(r);try{for(o.s();!(a=o.n()).done;){i+=a.value.length/3}}catch(d){o.e(d)}finally{o.f()}var c,u=new Array(i),l=0,f=Object(n.a)(r);try{for(f.s();!(c=f.n()).done;)for(var s=c.value,h=0;h<s.length;h+=3)u[l++]=p(e,3*s[h+0],3*s[h+1],3*s[h+2])}catch(d){f.e(d)}finally{f.f()}return t.load(u),{result:t.toJSON()}}},{key:"createMeshData",value:function(t){var e=(t.transform?Object(h.b)({position:t.vertexAttributes.position,normal:null,tangent:null},t.transform,t.spatialReference).position:t.vertexAttributes.position).buffer;return!t.components||t.components.some((function(t){return!t.faces}))?{position:e}:{position:e,components:t.components.map((function(t){return t.faces}))}}},{key:"createPooledRBush",value:function(){return new s.a(9,Object(l.a)("csp-restrictions")?function(t){return t}:[".minX",".minY",".maxX",".maxY"])}}]),t}();function p(t,e,r,n){return{minX:Math.min(t[e+0],t[r+0],t[n+0]),maxX:Math.max(t[e+0],t[r+0],t[n+0]),minY:Math.min(t[e+1],t[r+1],t[n+1]),maxY:Math.max(t[e+1],t[r+1],t[n+1]),p0:[t[e+0],t[e+1],t[e+2]],p1:[t[r+0],t[r+1],t[r+2]],p2:[t[n+0],t[n+1],t[n+2]]}}e.default=d},690:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n,a,i={exports:{}};n=i,void 0!==(a=function(){function t(r,n,a,i,o){for(;i>a;){if(i-a>600){var c=i-a+1,u=n-a+1,l=Math.log(c),f=.5*Math.exp(2*l/3),s=.5*Math.sqrt(l*f*(c-f)/c)*(u-c/2<0?-1:1);t(r,n,Math.max(a,Math.floor(n-u*f/c+s)),Math.min(i,Math.floor(n+(c-u)*f/c+s)),o)}var h=r[n],d=a,p=i;for(e(r,a,n),o(r[i],h)>0&&e(r,a,i);d<p;){for(e(r,d,p),d++,p--;o(r[d],h)<0;)d++;for(;o(r[p],h)>0;)p--}0===o(r[a],h)?e(r,a,p):e(r,++p,i),p<=n&&(a=p+1),n<=p&&(i=p-1)}}function e(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function r(t,e){return t<e?-1:t>e?1:0}return function(e,n,a,i,o){t(e,n,a||0,i||e.length-1,o||r)}}())&&(n.exports=a);var o=i.exports},733:function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var n=r(5),a=r(6),i=r(15),o=r(2),c=r(3),u=r(109),l=r(4),f=r(126),s=r(690),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,r=arguments.length>1?arguments[1]:void 0;Object(o.a)(this,t),this.compareMinX=b,this.compareMinY=m,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),r&&("function"==typeof r?this.toBBox=r:this._initFormat(r)),this.clear()}return Object(c.a)(t,[{key:"destroy",value:function(){this.clear(),A.prune(),_.prune(),T.prune(),w.prune()}},{key:"all",value:function(t){this._all(this.data,t)}},{key:"search",value:function(t,e){var r=this.data,n=this.toBBox;if(M(t,r))for(A.clear();r;){for(var a=0,i=r.children.length;a<i;a++){var o=r.children[a],c=r.leaf?n(o):o;M(t,c)&&(r.leaf?e(o):x(t,c)?this._all(o,e):A.push(o))}r=A.pop()}}},{key:"collides",value:function(t){var e=this.data,r=this.toBBox;if(!M(t,e))return!1;for(A.clear();e;){for(var n=0,a=e.children.length;n<a;n++){var i=e.children[n],o=e.leaf?r(i):i;if(M(t,o)){if(e.leaf||x(t,o))return!0;A.push(i)}}e=A.pop()}return!1}},{key:"load",value:function(t){if(!t.length)return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var n=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var a=this.data;this.data=n,n=a}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this}},{key:"insert",value:function(t){return t&&this._insert(t,this.data.height-1),this}},{key:"clear",value:function(){return this.data=new Y([]),this}},{key:"remove",value:function(t){if(!t)return this;var e,r=this.data,n=null,a=0,i=!1,o=this.toBBox(t);for(T.clear(),w.clear();r||T.length>0;){var c;if(r||(r=Object(l.d)(T.pop()),n=T.data[T.length-1],a=null!=(c=w.pop())?c:0,i=!0),r.leaf&&-1!==(e=Object(u.e)(r.children,t,r.children.length,r.indexHint)))return r.children.splice(e,1),T.push(r),this._condense(T),this;i||r.leaf||!x(r,o)?n?(a++,r=n.children[a],i=!1):r=null:(T.push(r),w.push(a),a=0,n=r,r=r.children[0])}return this}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(t){return this.data=t,this}},{key:"_all",value:function(t,e){var r=t;for(_.clear();r;){var n;if(!0===r.leaf){var a,o=Object(i.a)(r.children);try{for(o.s();!(a=o.n()).done;){e(a.value)}}catch(c){o.e(c)}finally{o.f()}}else _.pushArray(r.children);r=null!=(n=_.pop())?n:null}}},{key:"_build",value:function(t,e,r,n){var a=r-e+1,i=this._maxEntries;if(a<=i){var o=new Y(t.slice(e,r+1));return d(o,this.toBBox),o}n||(n=Math.ceil(Math.log(a)/Math.log(i)),i=Math.ceil(a/Math.pow(i,n-1)));var c=new E([]);c.height=n;var u=Math.ceil(a/i),l=u*Math.ceil(Math.sqrt(i));B(t,e,r,l,this.compareMinX);for(var f=e;f<=r;f+=l){var s=Math.min(f+l-1,r);B(t,f,s,u,this.compareMinY);for(var h=f;h<=s;h+=u){var p=Math.min(h+u-1,s);c.children.push(this._build(t,h,p,n-1))}}return d(c,this.toBBox),c}},{key:"_chooseSubtree",value:function(t,e,r,n){for(;n.push(e),!0!==e.leaf&&n.length-1!==r;){for(var a=void 0,i=1/0,o=1/0,c=0,u=e.children.length;c<u;c++){var l=e.children[c],f=y(l),s=O(t,l)-f;s<o?(o=s,i=f<i?f:i,a=l):s===o&&f<i&&(i=f,a=l)}e=a||e.children[0]}return e}},{key:"_insert",value:function(t,e,r){var n=this.toBBox,a=r?t:n(t);T.clear();var i=this._chooseSubtree(a,this.data,e,T);for(i.children.push(t),v(i,a);e>=0&&T.data[e].children.length>this._maxEntries;)this._split(T,e),e--;this._adjustParentBBoxes(a,T,e)}},{key:"_split",value:function(t,e){var r=t.data[e],n=r.children.length,a=this._minEntries;this._chooseSplitAxis(r,a,n);var i=this._chooseSplitIndex(r,a,n);if(i){var o=r.children.splice(i,r.children.length-i),c=r.leaf?new Y(o):new E(o);c.height=r.height,d(r,this.toBBox),d(c,this.toBBox),e?t.data[e-1].children.push(c):this._splitRoot(r,c)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(t,e){this.data=new E([t,e]),this.data.height=t.height+1,d(this.data,this.toBBox)}},{key:"_chooseSplitIndex",value:function(t,e,r){var n,a,i;n=a=1/0;for(var o=e;o<=r-e;o++){var c=p(t,0,o,this.toBBox),u=p(t,o,r,this.toBBox),l=g(c,u),f=y(c)+y(u);l<n?(n=l,i=o,a=f<a?f:a):l===n&&f<a&&(a=f,i=o)}return i}},{key:"_chooseSplitAxis",value:function(t,e,r){var n=t.leaf?this.compareMinX:b,a=t.leaf?this.compareMinY:m;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,a)&&t.children.sort(n)}},{key:"_allDistMargin",value:function(t,e,r,n){t.children.sort(n);for(var a=this.toBBox,i=p(t,0,e,a),o=p(t,r-e,r,a),c=j(i)+j(o),u=e;u<r-e;u++){var l=t.children[u];v(i,t.leaf?a(l):l),c+=j(i)}for(var f=r-e-1;f>=e;f--){var s=t.children[f];v(o,t.leaf?a(s):s),c+=j(o)}return c}},{key:"_adjustParentBBoxes",value:function(t,e,r){for(var n=r;n>=0;n--)v(e.data[n],t)}},{key:"_condense",value:function(t){for(var e=t.length-1;e>=0;e--){var r=t.data[e];if(0===r.children.length)if(e>0){var n=t.data[e-1],a=n.children;a.splice(Object(u.e)(a,r,a.length,n.indexHint),1)}else this.clear();else d(r,this.toBBox)}}},{key:"_initFormat",value:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}]),t}();function d(t,e){p(t,0,t.children.length,e,t)}function p(t,e,r,n,a){a||(a=new Y([])),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var i,o=e;o<r;o++)i=t.children[o],v(a,t.leaf?n(i):i);return a}function v(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function b(t,e){return t.minX-e.minX}function m(t,e){return t.minY-e.minY}function y(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function j(t){return t.maxX-t.minX+(t.maxY-t.minY)}function O(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function g(t,e){var r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),a=Math.min(t.maxX,e.maxX),i=Math.min(t.maxY,e.maxY);return Math.max(0,a-r)*Math.max(0,i-n)}function x(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function M(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function B(t,e,r,n,a){for(var i=[e,r];i.length;){var o=Object(l.d)(i.pop()),c=Object(l.d)(i.pop());if(!(o-c<=n)){var u=c+Math.ceil((o-c)/n/2)*n;Object(s.a)(t,u,c,o,a),i.push(c,u,u,o)}}}var A=new f.a,_=new f.a,T=new f.a,w=new f.a({deallocator:void 0}),k=function(t){Object(n.a)(r,t);var e=Object(a.a)(r);function r(){var t;return Object(o.a)(this,r),(t=e.apply(this,arguments)).height=1,t.indexHint=new u.a,t}return r}((function t(){Object(o.a)(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0})),Y=function(t){Object(n.a)(r,t);var e=Object(a.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this)).children=t,n.leaf=!0,n}return r}(k),E=function(t){Object(n.a)(r,t);var e=Object(a.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this)).children=t,n.leaf=!1,n}return r}(k)},743:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return a}));var n=r(789);function a(t,e,r){if(t.count===e.count)for(var a=t.count,i=r[0],o=r[1],c=r[2],u=r[4],l=r[5],f=r[6],s=r[8],h=r[9],d=r[10],p=r[12],v=r[13],b=r[14],m=t.typedBuffer,y=t.typedBufferStride,j=e.typedBuffer,O=e.typedBufferStride,g=0;g<a;g++){var x=g*y,M=g*O,B=j[M],A=j[M+1],_=j[M+2];m[x]=i*B+u*A+s*_+p,m[x+1]=o*B+l*A+h*_+v,m[x+2]=c*B+f*A+d*_+b}else n.a.error("source and destination buffers need to have the same number of elements")}function i(t,e,r){if(t.count===e.count)for(var a=t.count,i=r[0],o=r[1],c=r[2],u=r[3],l=r[4],f=r[5],s=r[6],h=r[7],d=r[8],p=t.typedBuffer,v=t.typedBufferStride,b=e.typedBuffer,m=e.typedBufferStride,y=0;y<a;y++){var j=y*v,O=y*m,g=b[O],x=b[O+1],M=b[O+2];p[j]=i*g+u*x+s*M,p[j+1]=o*g+l*x+h*M,p[j+2]=c*g+f*x+d*M}else n.a.error("source and destination buffers need to have the same number of elements")}function o(t,e,r){for(var n=Math.min(t.count,e.count),a=t.typedBuffer,i=t.typedBufferStride,o=e.typedBuffer,c=e.typedBufferStride,u=0;u<n;u++){var l=u*i,f=u*c;a[l]=r*o[f],a[l+1]=r*o[f+1],a[l+2]=r*o[f+2]}}function c(t,e){for(var r=Math.min(t.count,e.count),n=t.typedBuffer,a=t.typedBufferStride,i=e.typedBuffer,o=e.typedBufferStride,c=0;c<r;c++){var u=c*a,l=c*o,f=i[l],s=i[l+1],h=i[l+2],d=Math.sqrt(f*f+s*s+h*h);if(d>0){var p=1/d;n[u]=p*f,n[u+1]=p*s,n[u+2]=p*h}}}function u(t,e,r){for(var n=Math.min(t.count,e.count),a=t.typedBuffer,i=t.typedBufferStride,o=e.typedBuffer,c=e.typedBufferStride,u=0;u<n;u++){var l=u*i,f=u*c;a[l]=o[f]>>r,a[l+1]=o[f+1]>>r,a[l+2]=o[f+2]>>r}}Object.freeze({__proto__:null,transformMat4:a,transformMat3:i,scale:o,normalize:c,shiftRight:u})},770:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return f})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return c})),r.d(e,"f",(function(){return u}));var n=r(40),a=r(480),i=r(291),o=r(11);function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return[t[0],t[1],t[2],t[3]]}function u(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return Object(o.k)(r,t),r[3]=e,r}function l(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return Object(a.h)(v,t,h(t)),Object(a.h)(b,e,h(e)),Object(a.f)(v,b,v),d(r,Object(n.q)(Object(a.b)(r,v)))}function f(t){return t}function s(t){return t[3]}function h(t){return Object(n.g)(t[3])}function d(t,e){return t[3]=e,t}var p=[0,0,1,0],v=Object(i.b)(),b=Object(i.b)();c()},771:function(t,e,r){"use strict";function n(t,e,r){for(var n=t.typedBuffer,a=t.typedBufferStride,i=e.typedBuffer,o=e.typedBufferStride,c=r?r.count:e.count,u=(r&&r.dstIndex?r.dstIndex:0)*a,l=(r&&r.srcIndex?r.srcIndex:0)*o,f=0;f<c;++f)n[u]=i[l],n[u+1]=i[l+1],n[u+2]=i[l+2],u+=a,l+=o}function a(t,e,r,n,a){for(var i,o,c=t.typedBuffer,u=t.typedBufferStride,l=null!=(i=null==a?void 0:a.count)?i:t.count,f=(null!=(o=null==a?void 0:a.dstIndex)?o:0)*u,s=0;s<l;++s)c[f]=e,c[f+1]=r,c[f+2]=n,f+=u}r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return a}));Object.freeze({__proto__:null,copy:n,fill:a})},772:function(t,e,r){"use strict";r.d(e,"a",(function(){return O})),r.d(e,"b",(function(){return y})),r.d(e,"c",(function(){return m})),r.d(e,"d",(function(){return A})),r.d(e,"e",(function(){return B})),r.d(e,"f",(function(){return j})),r.d(e,"g",(function(){return x})),r.d(e,"h",(function(){return g})),r.d(e,"i",(function(){return M}));var n=r(13),a=r(4),i=r(145),o=r(267),c=r(104),u=r(11),l=r(22),f=r(108),s=r(212),h=r(49),d=r(54),p=r(100),v=r(743),b=n.a.getLogger("esri.geometry.support.meshUtils.normalProjection");function m(t,e,r,n,a){return T(n)?(_(0,p.u.fromTypedArray(t),p.v.fromTypedArray(e),p.v.fromTypedArray(r),n,p.u.fromTypedArray(a)),a):(b.error("Cannot convert spatial reference to PCPF"),a)}function y(t,e,r,n,a){return T(n)?(_(1,p.u.fromTypedArray(t),p.v.fromTypedArray(e),p.v.fromTypedArray(r),n,p.u.fromTypedArray(a)),a):(b.error("Cannot convert to spatial reference from PCPF"),a)}function j(t,e,r){return Object(f.m)(t,e,0,r,Object(s.g)(e),0,t.length/3),r}function O(t,e,r){return Object(f.m)(t,Object(s.g)(r),0,e,r,0,t.length/3),e}function g(t,e,r){if(Object(a.j)(t))return e;var n=p.v.fromTypedArray(t),i=p.v.fromTypedArray(e);return Object(v.e)(i,n,r),e}function x(t,e,r){if(Object(a.j)(t))return e;Object(i.a)(X,r);var n=p.u.fromTypedArray(t),o=p.u.fromTypedArray(e);return Object(v.a)(o,n,X),Object(i.g)(X)||Object(v.c)(o,o),e}function M(t,e,r){if(Object(a.j)(t))return e;Object(i.a)(X,r);var n=p.u.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),o=p.u.fromTypedArray(e,4*Float32Array.BYTES_PER_ELEMENT);if(Object(v.a)(o,n,X),Object(i.g)(X)||Object(v.c)(o,o),t!==e)for(var c=3;c<t.length;c+=4)e[c]=t[c];return e}function B(t,e,r,n,a){if(!T(n))return b.error("Cannot convert spatial reference to PCPF"),a;_(0,p.u.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),p.v.fromTypedArray(e),p.v.fromTypedArray(r),n,p.u.fromTypedArray(a,4*Float32Array.BYTES_PER_ELEMENT));for(var i=3;i<t.length;i+=4)a[i]=t[i];return a}function A(t,e,r,n,a){if(!T(n))return b.error("Cannot convert to spatial reference from PCPF"),a;_(1,p.u.fromTypedArray(t,16),p.v.fromTypedArray(e),p.v.fromTypedArray(r),n,p.u.fromTypedArray(a,16));for(var i=3;i<t.length;i+=4)a[i]=t[i];return a}function _(t,e,r,n,a,o){if(e){var c=r.count,l=Object(s.g)(a);if(w(a))for(var h=0;h<c;h++)n.getVec(h,k),e.getVec(h,Y),Object(f.d)(l,k,E,l),Object(i.f)(X,E),1===t&&Object(i.m)(X,X),Object(u.x)(Y,Y,X),o.setVec(h,Y);else for(var p=0;p<c;p++){n.getVec(p,k),e.getVec(p,Y),Object(f.d)(l,k,E,l),Object(i.f)(X,E);var v=Object(d.h)(r.get(p,1)),b=Math.cos(v);0===t&&(b=1/b),X[0]*=b,X[1]*=b,X[2]*=b,X[3]*=b,X[4]*=b,X[5]*=b,1===t&&Object(i.m)(X,X),Object(u.x)(Y,Y,X),Object(u.r)(Y,Y),o.setVec(p,Y)}return o}}function T(t){return w(t)||function(t){return t.isWebMercator}(t)}function w(t){return t.isWGS84||Object(h.e)(t)||Object(h.h)(t)||Object(h.i)(t)}var k=Object(l.e)(),Y=Object(l.e)(),E=Object(c.d)(),X=Object(o.b)()},778:function(t,e,r){"use strict";function n(t,e){var r;return t.isGeographic||t.isWebMercator&&(null==(r=null==e?void 0:e.geographic)||r)}r.d(e,"a",(function(){return n}))},788:function(t,e,r){"use strict";r.d(e,"a",(function(){return b})),r.d(e,"b",(function(){return m})),r.d(e,"c",(function(){return y})),r.d(e,"d",(function(){return j})),r.d(e,"e",(function(){return O}));var n=r(4),a=r(61),i=r(267),o=r(78),c=r(104),u=r(145),l=r(108),f=r(212),s=r(815),h=r(100),d=r(743),p=r(778),v=r(772);function b(t,e,r){return Object(p.a)(e.spatialReference,r)?function(t,e,r){var n=e.spatialReference,a=A(e,r,k),i=new Float64Array(t.position.length),o=function(t,e,r,n){Object(d.e)(h.v.fromTypedArray(n),h.v.fromTypedArray(t),e);var a=new Float64Array(t.length);return Object(v.a)(n,a,r)}(t.position,a,n,i),c=Object(u.a)(E,a);return{position:o,normal:g(o,i,t.normal,c,n),tangent:x(o,i,t.tangent,c,n)}}(t,e,r):function(t,e,r){for(var n=new Float64Array(t.position.length),a=t.position,i=e.x,o=e.y,c=e.z||0,u=w(r?r.unit:null,e.spatialReference),l=u.horizontal,f=u.vertical,s=0;s<a.length;s+=3)n[s+0]=a[s+0]*l+i,n[s+1]=a[s+1]*l+o,n[s+2]=a[s+2]*f+c;return{position:n,normal:t.normal,tangent:t.tangent}}(t,e,r)}function m(t,e,r){var a=t.position,i=t.normal,o=t.tangent;if(Object(n.j)(e))return{position:a,normal:i,tangent:o};var c=e.localMatrix;return b({position:Object(v.h)(a,new Float64Array(a.length),c),normal:Object(n.k)(i)?Object(v.g)(i,new Float32Array(i.length),c):null,tangent:Object(n.k)(o)?Object(v.i)(o,new Float32Array(o.length),c):null},e.getOriginPoint(r),{geographic:e.geographic})}function y(t,e,r){var n;return null!=r&&r.useTransform?{vertexAttributes:{position:t.position,normal:t.normal,tangent:t.tangent},transform:new s.a({origin:[e.x,e.y,null!=(n=e.z)?n:0],geographic:Object(p.a)(e.spatialReference,r)})}:{vertexAttributes:b(t,e,r),transform:null}}function j(t,e,r){return Object(p.a)(e.spatialReference,r)?B(t,e,r):M(t,e,r)}function O(t,e,r,a){if(Object(n.j)(e))return j(t,r,a);var i=m(t,e,r.spatialReference);return r.equals(e.getOriginPoint(r.spatialReference))?M(i,r,a):Object(p.a)(r.spatialReference,a)?B(i,r,a):M(i,r,a)}function g(t,e,r,a,i){if(Object(n.j)(r))return null;var o=new Float32Array(r.length);return Object(d.a)(h.u.fromTypedArray(o),h.u.fromTypedArray(r),a),Object(v.b)(o,t,e,i,o),o}function x(t,e,r,a,i){if(Object(n.j)(r))return null;var o=new Float32Array(r.length);Object(d.a)(h.u.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT),h.u.fromTypedArray(r,4*Float32Array.BYTES_PER_ELEMENT),a);for(var c=3;c<o.length;c+=4)o[c]=r[c];return Object(v.d)(o,t,e,i,o),o}function M(t,e,r){for(var n=new Float64Array(t.position.length),a=t.position,i=e.x,o=e.y,c=e.z||0,u=w(r?r.unit:null,e.spatialReference),l=u.horizontal,f=u.vertical,s=0;s<a.length;s+=3)n[s+0]=(a[s+0]-i)/l,n[s+1]=(a[s+1]-o)/l,n[s+2]=(a[s+2]-c)/f;return{position:n,normal:t.normal,tangent:t.tangent}}function B(t,e,r){var n=e.spatialReference;A(e,r,k);var a=Object(o.a)(Y,k),i=new Float64Array(t.position.length),c=function(t,e,r,n){var a=Object(v.f)(t,e,n),i=h.v.fromTypedArray(a),o=new Float64Array(a.length),c=h.v.fromTypedArray(o);return Object(d.e)(c,i,r),o}(t.position,n,a,i),l=Object(u.a)(E,a);return{position:c,normal:_(t.normal,t.position,i,n,l),tangent:T(t.tangent,t.position,i,n,l)}}function A(t,e,r){Object(l.d)(t.spatialReference,[t.x,t.y,t.z||0],r,Object(f.g)(t.spatialReference));var n=w(e?e.unit:null,t.spatialReference),a=n.horizontal,i=n.vertical;return Object(o.s)(r,r,[a,a,i]),r}function _(t,e,r,a,i){if(Object(n.j)(t))return null;var o=Object(v.c)(t,e,r,a,new Float32Array(t.length)),c=h.u.fromTypedArray(o);return Object(d.a)(c,c,i),o}function T(t,e,r,a,i){if(Object(n.j)(t))return null;var o=Object(v.e)(t,e,r,a,new Float32Array(t.length)),c=h.u.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT);return Object(d.a)(c,c,i),o}function w(t,e){if(Object(n.j)(t))return X;var r=e.isGeographic?1:Object(a.c)(e),i=e.isGeographic?1:Object(a.e)(e),o=Object(a.b)(1,t,"meters");return{horizontal:o*r,vertical:o*i}}var k=Object(c.d)(),Y=Object(c.d)(),E=Object(i.b)(),X={horizontal:1,vertical:1}},789:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=r(13).a.getLogger("esri.views.3d.support.buffer.math")},815:function(t,e,r){"use strict";var n,a=r(24),i=r(2),o=r(3),c=r(5),u=r(6),l=r(0),f=r(21),s=r(4),h=r(1),d=(r(14),r(16),r(13),r(8)),p=r(78),v=r(104),b=r(11),m=r(22),y=r(39),j=r(108),O=r(212),g=r(770),x=r(100),M=r(743),B=r(771),A=n=function(t){Object(c.a)(r,t);var e=Object(u.a)(r);function r(t){var n;return Object(i.a)(this,r),(n=e.call(this,t)).origin=Object(m.e)(),n.translation=Object(m.e)(),n.rotation=Object(g.e)(),n.scale=Object(m.g)(1,1,1),n.geographic=!0,n}return Object(o.a)(r,[{key:"localMatrix",get:function(){var t=Object(v.d)();return Object(p.s)(t,t,this.scale),Object(p.c)(t,t,Object(g.b)(this.rotation),Object(g.c)(this.rotation)),Object(p.t)(t,t,this.translation),t}},{key:"localMatrixInverse",get:function(){return Object(p.a)(Object(v.d)(),this.localMatrix)}},{key:"applyLocal",value:function(t,e){return Object(b.q)(e,t,this.localMatrix)}},{key:"applyLocalInverse",value:function(t,e){return Object(b.q)(e,t,this.localMatrixInverse)}},{key:"project",value:function(t,e){var r=new Float64Array(t.length),n=x.v.fromTypedArray(r),a=x.v.fromTypedArray(t);if(this.geographic){var i=Object(O.h)(Object(O.e)(e)),o=Object(v.d)();return Object(j.d)(e,this.origin,o,i),Object(p.m)(o,o,this.localMatrix),Object(M.e)(n,a,o),Object(j.m)(r,i,0,r,e,0,r.length/3),r}var c=this.localMatrix,u=this.origin;Object(p.f)(c,v.a)?Object(B.a)(n,a):Object(M.e)(n,a,c);for(var l=0;l<r.length;l+=3)r[l+0]+=u[0],r[l+1]+=u[1],r[l+2]+=u[2];return r}},{key:"getOriginPoint",value:function(t){var e=Object(a.a)(this.origin,3),r=e[0],n=e[1],i=e[2];return new y.a({x:r,y:n,z:i,spatialReference:t})}},{key:"equals",value:function(t){return Object(s.k)(t)&&this.geographic===t.geographic&&Object(b.o)(this.origin,t.origin)&&Object(p.g)(this.localMatrix,t.localMatrix)}},{key:"clone",value:function(){var t={origin:Object(m.c)(this.origin),translation:Object(m.c)(this.translation),rotation:Object(g.e)(this.rotation),scale:Object(m.c)(this.scale),geographic:this.geographic};return new n(t)}}]),r}(f.a);Object(l.a)([Object(h.b)({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,"origin",void 0),Object(l.a)([Object(h.b)({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,"translation",void 0),Object(l.a)([Object(h.b)({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,"rotation",void 0),Object(l.a)([Object(h.b)({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,"scale",void 0),Object(l.a)([Object(h.b)({type:Boolean,nonNullable:!0,json:{write:!0}})],A.prototype,"geographic",void 0),Object(l.a)([Object(h.b)()],A.prototype,"localMatrix",null),Object(l.a)([Object(h.b)()],A.prototype,"localMatrixInverse",null);var _=A=n=Object(l.a)([Object(d.a)("esri.geometry.support.MeshTransform")],A);e.a=_}}]);
//# sourceMappingURL=61.8c109a02.chunk.js.map