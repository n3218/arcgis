{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/originGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/edgeOffsetUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/undoRecords.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateMeshAdapter.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateObjectSymbol3DAdapter.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolConfig.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/SlicePlaneVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/widgets/Slice/SlicePlane.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio.js","../node_modules/@arcgis/core/views/interactive/editGeometry/support/editPlaneUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js","../node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/heading-rotate-png.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/geometry/geometryAdapters/hydrated.js","../node_modules/@arcgis/core/geometry/geometryEngine.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/draw/support/createUtils.js"],"names":["s","main","t","selected","staged","outline","selectedOutline","n","r","e","i","clone","a","h","o","l","g","b","c","this","color","height","coneHeight","coneWidth","width","renderOccluded","d","size","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","setParameterValues","z","transparent","u","offset","hoverColor","minSquaredEdgeLength","p","vertex","edge","edgeOffset","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","w","shape","primitive","f","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","radius","heightFillColor","toUnitRGB","intersectsLineRadius","style","laserlineStyle","C","shadowStyle","m","O","extensionType","W","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","toUnitRGBA","A","visualElements","reshapeManipulators","zManipulator","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","recreate","createResources","layerView","view","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","renderer","removeGeometries","geometries","addGeometries","drapeSourceType","updatePolicy","constructOnly","prototype","readOnly","_attachmentOrigin","_","_attachmentOriginDirty","events","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","resources","length","material","spatialReference","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","console","error","destroy","updateAttached","laserlineAttached","visible","isDraped","laserlineEnabled","updateMaterial","S","vertexAttributes","get","indices","isClosed","data","P","I","renderCoordsHelper","fromRenderCoords","materialParameters","geometry","type","join","stippleIntegerRepeats","polygonOffset","normalizedRenderOccluded","createRenderGeometries","addGeometry","push","emit","G","forEach","lines","position","attributeData","removeDuplicateStartEnd","E","D","M","boundingSphere","Math","sqrt","Float64Array","j","elevationProvider","R","fromElevationInfo","elevationInfo","v","mode","y","mapPosition","pathVerticalPlane","shader","configuration","build","output","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","screenSizeEnabled","shadingEnabled","OITEnabled","transparencyPassType","multipassTerrainEnabled","cullAboveGround","rctx","shadingTint","shadingDirection","program","camera","projectionMatrix","setUniform4fv","setUniform2fv","nearFar","inverseViewport","blendColor","setUniform3fv","setUniformMatrix4fv","viewInverseTransposeMatrix","origin","rebindTextures","blending","culling","cullFace","depthTest","func","depthWrite","writeDepth","T","colorWrite","setPipelineState","arguments","count","Map","supportsEdges","techniqueConfig","_vertexAttributeLocations","params","applyToVertex","x","screenSize","computeRenderPixelSizeAt","applyToAabb","updateParameters","_technique","_techniqueRep","releaseAndAcquire","q","_material","getTechniqueConfig","_output","bindPass","getPassParameters","vec3f","vertexBufferLayout","createBuffer","transformation","invTranspTransformation","has","Error","getField","_vertices","_spatialReference","colorToVec4","_size","_outlineColor","_outlineSize","applyProps","updateOutlineMaterial","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","vertexGeometry","vertexOutlineGeometry","createSphereGeometry","tracking","displaying","EventedAccessor","drawOperation","_createGraphic","_createGraphicState","_outlineVisualElement","_verticesVisualElement","_activeVertexVisualElement","hasZ","defaultZ","snapToScene","snappingManager","geometryType","updating","_internalGraphicsLayer","listMode","internal","map","layers","add","manipulators","drawingMode","snapToSceneEnabled","sceneDrawSurface","elevationDrawSurface","hasM","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","complete","_destroyAllVisualisations","remove","_set","onInputEvent","operationComplete","stagedVertex","committedVertices","slice","coordinateHelper","pointToArray","splice","regularVertices","activeVertex","full","viewingMode","createPointFromArray","makeMapPoint","resolution","forceUniformSize","centered","V","rings","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","handles","L","_getCreateGeometry","apply","symbol","createGraphicSymbol","sourceLayer","graphicProperties","maskOccludee","graphic","trackGraphicState","notifyChange","interactive","_updateCreateGraphic","canRedo","redo","canUndo","undo","isCompleted","cancel","EventedMixin","nonNullable","value","screenToRender","unprojectFromRenderScreen","direction","Y","idHint","K","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","X","_elevationAlignedLocation","_elevationAlignedLocationDirty","selectable","grabbable","cursor","_grabbing","dragging","_hovering","_selected","_state","_focused","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_engineLayer","_materialIdReferences","state","copyFrom","_removeResourcesFromStage","_updateEngineObject","$","toRenderCoords","elevationAlignedLocation","ce","k","ee","Z","location","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","action","ensureScreenLocation","computeScreenPixelSizeAt","renderLocation","_calculateModelTransformOffset","_e","projectToRenderScreen","renderToScreen","available","te","_getCollisionRadius","screenLocation","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","ne","J","se","le","ie","oe","de","ue","ae","he","_calculateModelTransformPosition","manipulator3D","_stage","engineLayerId","Q","isPickable","id","getObject","engineLayerReferences","materialIdReferences","F","ge","extent","_getFocusedSize","focused","_ensureEngineResources","objectsByState","stateMask","objects","setVisible","Set","renderObjects","N","castShadow","transform","Array","isArray","set","layer","materials","_addResourcesToStage","addMany","removeMany","delete","re","isVisible","areAnyResourcesVisible","B","U","H","atan2","getViewForGraphic","computeAttachmentOrigin","anchor","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","watch","visualElement","writeDepthEnabled","angleCutoff","update","setStartEndFromWorldDownAtLocation","heightManifoldTarget","attachmentOrigin","onManipulatorsChanged","intersectsLineInfinite","intersectsWorldUpAtLocation","calculateMapBounds","ceil","PI","forEachManipulator3D","someManipulator","plane","screenStart","screenEnd","renderStart","renderEnd","ray","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","next","worldUpAtPosition","eye","execute","dxScreen","screenDeltaX","dyScreen","screenDeltaY","translationX","translationY","translationZ","_handles","_arrowManipulatorInfos","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","removeAll","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","createExtrudedTriangle","transformInPlace","_createArrowManipulator","displayScale","modelTransform","arrowManipulators","lastDragEvent","_enabled","snap","toMap","exclude","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","createCylinderGeometry","discManipulator","createManipulator","updateManipulator","createTubeGeometry","createConeGeometry","applyObjectTransform","computeRenderPixelSizeAtDist","abs","fullWidth","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","include","allGraphics","dx","dy","graphics","enableZ","_toolHandles","snappingPipeline","_refreshManipulators","updatingHandles","_moveManipulation","toArray","filter","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","radiusForSymbol","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","buildSnappingPipelineSteps","destroyed","toScreen","pointer","fromGeometry","visualizer","excludeFeature","snapOrigin","fromPoint","createSnapDragEventPipelineStep","snappingContext","edgeDirection","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_edgeOffsetManipulatorMaterial","_edgeOffsetManipulatorHoverMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_edgeOffsetManipulatorGeometryInside","_edgeOffsetManipulatorGeometryOutside","_manipulatorHandles","_manipulatorInfos","_editGeometryHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_snappingPipeline","_snappingPipelineHandle","_vertexLaserLineVisualElement","_clear","_recreateEditGeometryAndManipulators","enableZShape","enableZVertex","enableMoveGraphic","enableMidpoints","enableEdgeOffset","handle","_removeVertices","_removeManipulators","_resetGrabbingDragging","editGeometry","components","_createVertexOrEdgeManipulator","edges","_createGraphicMoveManipulators","_recreateManipulators","inputGeometry","_moveVertices","_updateEventState","mover","mapDeltaX","mapDeltaY","mapDeltaZ","info","_trackNumDragging","createUndoGroup","_perGraphicManipulatorDragAction","_cancelDragOperation","_watchAndUpdateGrabState","_clearSelection","pos","predicate","_updateMoveManipulationPosition","locationUpdateHandle","selectedIndex","visibilityManipulator","visibilityHandle","_getManipulatorInfoFromHandle","left","right","_updateEdgeOffsetManipulator","_initializeEdgeOffset","step","cleanup","_applyEdgeOffsetStep","shiftKey","_updateManipulatorPosition","requiresSplitEdgeLeft","_splitEdgeManipulator","requiresSplitEdgeRight","_cleanEdgeOffsetCollapsedEdges","operation","_offsetEdge","distance","_createEdgeOffsetManipulator","_computeVertexManipulatorSizeAndOutline","Vertex","Edge","_setTypeSpecificManipulatorSettings","isMultiVertexSelection","_perVertexManipulatorDragAction","_manipulatorClickCallback","doneSnapping","_updateSelection","indexOf","toPoint","splitEdge","createdVertex","_removeManipulator","component","coordinates","componentIndex","vertexIndex","index","added","orthogonalAvailable","canRemoveVertex","removeVertices","removedVertices","createdEdge","removed","moveVertices","signedDistanceToPoint","updateVertices","button","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_updateGeometryInternally","_onReshapeGeometryChanged","_updateGraphic","key","removeSelectedVertices","it","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","rt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","adapter","scale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","start","deltaTime","createRingManipulator","at","restart","initialAngle","angleDir","scaleDir","shortestSignedDiff","ot","onScaleChanged","nt","st","record","createUndoRecord","xScale","yScale","startAnimation","lt","ct","updateDelayedFocusedState","updateStateEnabled","cos","sin","tt","createPathExtrusionGeometry","round","concat","et","projectToScreen","ht","min","notifyGeometryChanged","clonePositional","previousAngle","previousScale","rotation","sign","geographic","rotate","initialSizes","findLayerView","getSymbolLayerSize","heading","updateSymbol","forEachObjectSymbolLayerPair","sizeFilter","depth","enableRotation","enableScaling","scaleRotate","moveManipulation","createGeometryUndoRecord","scaleRotateAdapter","createScaleRotateAdapter","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","updateManipulatorsInteractive","enforceNonZeroSize","allLayerViews","find","test","backgroundColor","gridColor","setUniform1f","gridWidth","constructionContext","opacity","stencilWrite","sceneHasOcludees","stencilTest","enableOffset","_occludeePipelineState","pipeline","relativeElevation","updateTexture","textureId","hasOccludees","_updateOccludeeState","bindTextures","bindTextureScale","getPipelineState","initTextureTransparent","tilt","equals","json","read","write","Number","range","max","normalize","getLogger","Ke","basis","basis1","basis2","Xe","Ye","Ze","Ue","createPolylineGeometry","we","Ae","Le","bt","padding","bothEnds","tipFocusMultiplier","tipLength","focusTipLength","tipRadius","part","tubeRadius","tubeFocusMultiplier","flat","thickness","normal","ft","dt","ut","adjustScaleFactors","factor1","factor2","dz","axis1","axis2","_preserveAspectRatio","inputState","moveZManipulator","resizeManipulators","rotateManipulator","outlineVisualElement","mapBounds","mapBoundsStart","displayBounds","displayBoundsStart","displayBoundsMarginStart","resizeHandles","editGeometryHelper","yt","graphicMoveManipulation","_createMoveXYGraphicDragPipeline","Me","addCap","Re","updateManipulatorAvailability","_createMoveZDragPipeline","_onResizeGrab","_createResizeDragPipeline","rotateManipulatorTexture","mipmap","preMultiplyAlpha","Se","Uint32Array","Te","exclusive","_onRotateGrab","_createRotateDragPipeline","updateDisplayBounds","updateAllManipulatorAvailability","graphicDrapedChanged","pointsOfInterest","focus","Bt","center","wt","pixelSizeAt","POSITIVE_INFINITY","NEGATIVE_INFINITY","vt","pt","displayBoundsMargin","updateManipulators","Gt","applyGraphicMoveSteps","mt","_moveDragUpdateGeometry","Mt","_calculatePickRay","screenPoint","_resizeDragRenderPlaneToFactors","_resizeDragUpdateGeometry","xt","scaleVertices","fromXYZ","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdateGeometry","rotateAngle","rotateAxis","rotateVertices","updateZMoveHandle","lastOperation","St","activeTool","gt","xoffset","yoffset","stops","maxSize","minSize","floor","event","pointerType","visualVariables","uniqueValueInfos","classBreakInfos","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","ymin","xmax","ymax","intersects","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","originalPoint","mapPoint","radiusPx","renderSpatialReference","convertToGEGeometry","cache","_geVersion","convertJSONToGeometry","exportPoint","getPointX","getPointY","getPointZ","getPointM","exportPolygon","exportPaths","exportPolyline","exportMultipoint","points","exportPoints","exportExtent","getXMin","getYMin","getXMax","getYMax","getZExtent","zmin","vmin","zmax","vmax","getMExtent","mmin","mmax","extendedSpatialReferenceInfo","clip","cut","contains","crosses","touches","within","disjoint","overlaps","relate","isSimple","simplify","convexHull","difference","symmetricDifference","intersect","union","buffer","geodesicBuffer","nearestCoordinate","nearestVertex","nearestVertices","constructor","fromJSON","flipHorizontal","flipVertical","generalize","densify","geodesicDensify","planarArea","planarLength","geodesicArea","geodesicLength","Blob","url","png","jpeg","jpg","bmp","gif","txt","xml","svg","zip","pbf","gz","origins","String","writer","verifyItemRelativeUrls","writtenUrls","rootPath","originIdOf","portalItem","resourceFromPath","path","toUpdate","toKeep","resource","pendingOperations","then","itemRelativeUrl","catch","toAdd","content","finish","JSON","stringify","toJSON","default","responseType","uniforms","code","perScreenPixelRatio","linearDepth","fragment","attributes","varyings","float","Object","freeze","__proto__","extensions","reverse","isSelfIntersecting","mapToLocalMultiple","localToMap","doUnnormalization","radiusUnit"],"mappings":"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","file":"static/js/9.03201055.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as e,toRGB as i}from\"../../../../core/colorUtils.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])},n=.3;function r(t,e){const i=t.clone();return i.a*=e,i}function h(t,o){const l=t.clone(),s=e(l);s.s*=o;const n=i(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function c(t,e){if(e)for(const i in e)t[i]=e[i]}class a{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,c(this,t)}}class d{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,c(this,t)}apply(t,e){const i=this[t];e.setParameterValues({color:z(i),transparent:\"color\"!==t||i.a<1,renderOccluded:this.renderOccluded})}}class u{constructor(t){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.color=r(s.main,.5),this.hoverColor=s.main,this.renderOccluded=2,this.minSquaredEdgeLength=900,c(this,t)}apply(t,e){const i=this[t];e.setParameterValues({color:z(i),transparent:i.a<1,renderOccluded:this.renderOccluded})}}class p{constructor(t){this.vertex=new d({color:s.main,outlineColor:s.outline}),this.edge=new d({color:h(r(s.main,2/3),.5),outlineColor:r(s.outline,.5),size:8,collisionPadding:8}),this.selected=new d({color:s.selected,outlineColor:s.outline}),this.edgeOffset=new u,c(this,t)}}class g{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,c(this,t)}apply(t){t.color=z(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=z(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=z(this.innerColor),t.renderOccluded=this.renderOccluded}}class w{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",c(this,t)}apply(t){t.color=z(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=z(this.outlineColor),t.primitive=this.shape}}class f{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=n,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,c(this,t)}apply(e,i=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*i,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in e?e.style=o:e.laserlineStyle=o}}class C{constructor(t){this.outline=new g({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new g({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),c(this,t)}}class m{constructor(t){this.outline=new w({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),c(this,t)}}class O extends g{constructor(t){super(),this.extensionType=2,c(this,t)}}class W{constructor(t){this.lineGraphics=new C,this.pointGraphics=new m,this.heightPlane=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new O({color:r(s.main,5*n/3),falloff:2,innerColor:r(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,c(this,t)}}class b{constructor(t){this.visualElements=new W,this.reshapeManipulators=new p,this.zManipulator=new a,c(this,t)}colorToVec4(t){return z(t)}}function z(e){return o(t.toUnitRGBA(e))}const A=new b;export{d as VertexManipulatorStyle,s as colors,A as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{IdentifiableMixin as s}from\"../../../../core/Identifiable.js\";import{isSome as t,isNone as o}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return t(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?o(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?o(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(o(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(o(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(o(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(s(r)){constructor(e){super(e),this.drapeSourceType=1,this.updatePolicy=1}};e([i({constructOnly:!0})],u.prototype,\"view\",void 0),e([i({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([c(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import{isSome as t,unwrap as r,isNone as s}from\"../../../../core/maybe.js\";import{s as i,b as a,a as o}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{g as l,c as h,s as c}from\"../../../../chunks/vec4.js\";import{f as d,a as u}from\"../../../../chunks/vec4f32.js\";import{projectBuffer as p}from\"../../../../geometry/projection.js\";import{empty as m,expandWithBuffer as f,create as g}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as _}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{getGeometryEffectiveElevationMode as y}from\"../../../../support/elevationInfoUtils.js\";import v from\"../../../../symbols/support/ElevationInfo.js\";import{DrapedVisualElementResources as w}from\"./DrapedVisualElementResources.js\";import{LaserlineVisualElement as O}from\"./LaserlineVisualElement.js\";import{VisualElementResources as C}from\"./VisualElementResources.js\";import{ElevationContext as R}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfoDraped as b,createGeometry as D,geometryToRenderInfo as j}from\"../../layers/graphics/lineUtils.js\";import{computeAttachmentOriginLines as P}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{RenderGeometry as E}from\"../../webgl-engine/lib/RenderGeometry.js\";import{RibbonLineMaterial as G}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class A{constructor(t){this.view=null,this._attachmentOrigin=_(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new e,this._isDraped=!1,this._geometry=null,this._width=1,this._color=d(1,0,1,1),this._innerWidth=0,this._innerColor=d(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new C({view:t.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=t.view.spatialReference,this.drapedResources=new w({view:t.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let r=!0;this._laserline=new O({view:t.view});for(const e in t)e in this?\"attached\"===e?r=t[e]:this[e]=t[e]:console.error(\"Cannot set unknown property\",e);this.attached=r}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&t(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){l(e,this._color)||(h(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){l(e,this._innerColor)||(h(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const r=t(e)!==t(this._stipplePattern);this._stipplePattern=e,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&l(e,this._stippleOffColor)||(this._stippleOffColor=e?u(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this.laserlineAttached,t(e)&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const e=t(this.resources.resources)?this.resources.resources.geometries:null;if(!e||0===e.length)return null;i(S,0,0,0);let s=0;for(const t of e){const e=t.vertexAttributes.get(\"position\"),i=t.indices.get(\"position\"),o=r(this.resources.resources).material.isClosed(e.data,i);P(e,i,o,I)&&(a(S,S,I),s++)}return 0===s?null:(o(S,S,1/s),this.view.renderCoordsHelper.fromRenderCoords(S,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){t(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),t(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return t(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new G(this.materialParameters),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new G(this.materialParameters);return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(s(t))return[];const r=b(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:s}of r.lines){const t={attributeData:{position:s},removeDuplicateStartEnd:this.isClosed?1:0},r=new E(D(t),e),a=m(M);f(a,s),c(r.boundingSphere,.5*(a[0]+a[3]),.5*(a[1]+a[4]),0,.5*Math.sqrt((a[3]-a[0])*(a[3]-a[0])+(a[4]-a[1])*(a[4]-a[1]))),i.push(r)}return i}calculateMapBounds(e){if(s(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.vertexAttributes.get(\"position\"),i=new Float64Array(s.data.length);p(s.data,t.spatialReference,0,i,this.view.spatialReference,0,s.data.length/3),f(e,i)}return!0}createRenderGeometries(){var e;const t=this.geometry;if(s(t))return[];const r=j(t,this.view.elevationProvider,this.view.renderCoordsHelper,R.fromElevationInfo(null!=(e=this.elevationInfo)?e:new v({mode:y(t,null)}))),i=[],a=[];for(const{position:s,mapPosition:o}of r.lines){const e={attributeData:{position:s,mapPosition:o},removeDuplicateStartEnd:this.isClosed?1:0};i.push(D(e)),a.push(s)}return this._laserline.pathVerticalPlane=a,i}}const M=g(),I=n(),S=n();export{A as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{c as r}from\"../../../../chunks/vec4f64.js\";import{bindScreenSizeScalingUniforms as i}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{bindSliceUniformsWithOrigin as t}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindMultipassTerrainTexture as o}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as s,bindView as a,bindCameraPosition as n}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as p}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as d,parameter as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as h,OITBlending as m,OITDepthWrite as u,OITPolygonOffset as g}from\"../lib/OrderIndependentTransparency.js\";import{Program as b}from\"../lib/Program.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{makePipelineState as v,cullingParams as y,defaultDepthWriteParams as T,defaultColorWriteParams as E}from\"../../../webgl/renderState.js\";class S extends p{initializeProgram(e){const r=S.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new b(e.rctx,t,P)}bindPass(e,r){const{screenSizeEnabled:t,shadingEnabled:a}=this.configuration,{color:n,shadingTint:l,shadingDirection:p}=e;s(this.program,r.camera.projectionMatrix),this.program.setUniform4fv(\"color\",n),r.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),o(this.program,r)),a&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(w,l,n)),this.program.setUniform3fv(\"shadingDirection\",p),this.program.setUniformMatrix4fv(\"viewNormal\",r.camera.viewInverseTransposeMatrix)),t&&i(this.program,e,r)}bindDraw(e){a(this.program,e),n(this.program,e.origin,e.camera.viewInverseTransposeMatrix),t(this.program,this.configuration,e),this.program.rebindTextures()}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return v({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:m(e),culling:y(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&T:u(e),colorWrite:E,polygonOffset:i||t?null:g})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}S.shader=new l(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends d{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([c({count:8})],j.prototype,\"output\",void 0),e([c({count:3})],j.prototype,\"cullFace\",void 0),e([c()],j.prototype,\"slicePlaneEnabled\",void 0),e([c()],j.prototype,\"transparent\",void 0),e([c()],j.prototype,\"writeDepth\",void 0),e([c()],j.prototype,\"screenSizeEnabled\",void 0),e([c()],j.prototype,\"shadingEnabled\",void 0),e([c({count:4})],j.prototype,\"transparencyPassType\",void 0),e([c()],j.prototype,\"multipassTerrainEnabled\",void 0),e([c()],j.prototype,\"cullAboveGround\",void 0);const P=new Map([[\"position\",0],[\"normal\",1],[\"offset\",2]]),w=r();export{S as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,P as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,a as r,b as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{center as a,scale as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as o}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import c from\"../lib/GLMaterial.js\";import{Material as h,materialParametersDefaults as f}from\"../lib/Material.js\";import{assert as l}from\"../lib/Util.js\";import{writeDefaultAttributes as p,writePosition as m}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as d}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as b,ShadedColorMaterialVertexAttrLocations as g,ShadedColorMaterialTechnique as q}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends h{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new b,this._vertexAttributeLocations=g}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!!t&&t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,s,o,u,c,h,f){if(this.params.screenSizeEnabled){const o=e.vertexAttributes.get(\"offset\"),l={applyToVertex:(e,s,a,n)=>{const c=t(P,o.data[3*n+0],o.data[3*n+1],o.data[3*n+2]),h=t(x,e,s,a);return r(c,c,this.params.screenSize*u.camera.computeRenderPixelSizeAt(c)),i(h,h,c),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=a(e,P);return n(e,this.params.screenSize*u.camera.computeRenderPixelSizeAt(t))}};d(e,s,u,c,h,l,f)}else d(e,s,u,c,h,void 0,f)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new E(e):void 0}createBufferWriter(){return new S(this.params.screenSizeEnabled)}}class E extends c{constructor(e){super(e),this.updateParameters()}updateParameters(e){this._technique=this._techniqueRep.releaseAndAcquire(q,this._material.getTechniqueConfig(this._output,e),this._technique)}beginSlot(e){if(4===this._output)return 3===e;let t=3;return this._technique.configuration.transparent&&(t=this._technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e){this._technique.bindPass(this._material.getPassParameters(),e)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:e(s(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class S{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(\"position\").vec3f(\"normal\");this.screenSizeEnabled&&t.vec3f(\"offset\"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,r,i){if(p(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!t.vertexAttributes.has(\"offset\"))throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");{const s=t.vertexAttributes.get(\"offset\"),a=t.indices.get(\"offset\");l(3===s.size);const n=r.getField(\"offset\",o);if(!n)throw new Error(\"unable to acquire view for offset\");m(a,s.data,e.invTranspTransformation,n,i)}}}}const P=s(),x=s();export{v as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{s as t}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import{settings as a}from\"../editingTools/settings.js\";import{Object3DVisualElement as l}from\"./Object3DVisualElement.js\";import{ElevationContext as o}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as n}from\"../../layers/graphics/pointUtils.js\";import c from\"../../webgl-engine/lib/GeometryUtil.js\";import{ShadedColorMaterial as h}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";class u extends l{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=a.colorToVec4(a.reshapeManipulators.vertex.color),this._size=a.reshapeManipulators.vertex.size,this._outlineColor=a.colorToVec4(a.reshapeManipulators.vertex.outlineColor),this._outlineSize=a.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const r=this.vertices;if(e(r)||0===r.length)return[];const i=.5,s=.5,a=n(r,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,o.fromElevationInfo(this.elevationInfo)),l=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const r=t(d,h[3*e+0],h[3*e+1],h[3*e+2]),a=p(i,r),o=p(s,r);l.push({vertexGeometry:a,vertexOutlineGeometry:o})}return l}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new h({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0}),this.vertexOutlineMaterial=new h({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const d=r();function p(e,t){return c.createSphereGeometry(e,16,16,{offset:t})}export{u as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Evented.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends o.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([s({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([s()],e.prototype,\"tracking\",void 0),r([s()],e.prototype,\"displaying\",void 0),r([s()],e.prototype,\"isDraped\",void 0),e=r([t(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../Graphic.js\";import\"../../../../../core/has.js\";import i from\"../../../../../core/Evented.js\";import{HandleOwnerMixin as r}from\"../../../../../core/HandleOwner.js\";import{unwrapOr as a,isSome as s,destroyMaybe as o,isNone as n}from\"../../../../../core/maybe.js\";import{init as l}from\"../../../../../core/watchUtils.js\";import{property as c}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import h from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as u}from\"../../../../../support/elevationInfoUtils.js\";import{settings as d}from\"../settings.js\";import{DrawOperation as m}from\"./DrawOperation.js\";import{SceneDrawSurface as v,ElevationDrawSurface as y}from\"./drawSurfaces.js\";import{OutlineVisualElement as _}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as w}from\"../../visualElements/VerticesVisualElement.js\";import{GraphicState as f}from\"../../../layers/graphics/GraphicState.js\";import{createSquare as V,createRectangle as g,createCircle as G,createEllipse as O,createPolygon as E,createPolyline as x}from\"../../../../draw/support/createUtils.js\";import{createViewAlignedCoordinateSystem as S}from\"../../../../draw/support/surfaceCoordinateSystems.js\";import{InteractiveToolBase as C}from\"../../../../interactive/InteractiveToolBase.js\";let b=class extends(r(i.EventedMixin(C))){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._activeVertexVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingManager=null,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}initialize(){const e=a(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new h({elevationInfo:e,listMode:\"hide\",internal:!0}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new m({view:this.view,manipulators:this.manipulators,geometryType:j(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,sceneDrawSurface:new v(this.view,e,[this._internalGraphicsLayer]),elevationDrawSurface:new y(e,this.defaultZ,this.view,this._internalGraphicsLayer),hasM:!1,elevationInfo:e,snappingManager:this.snappingManager}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e))),this.complete()}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const t=this.drawOperation.stagedVertex,i=this.drawOperation.committedVertices,r=i.slice();s(t)&&r.push(this.drawOperation.coordinateHelper.pointToArray(t));const a=s(t)?this.drawOperation.coordinateHelper.pointToArray(t):i.splice(-1)[0],o={regularVertices:null,activeVertex:null,full:null,outline:null},n=r.length,l=this.drawOperation.spatialReference,c=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":o.regularVertices=i,o.activeVertex=a,o.full=this.drawOperation.coordinateHelper.createPointFromArray(r[0]);break;case\"polyline\":o.regularVertices=i,o.activeVertex=a,n>0&&(o.full=x([r],l,c));break;case\"polygon\":o.regularVertices=i,o.activeVertex=a,n>0&&(o.full=E([r],l,c,!0));break;case\"circle\":if(n>0){const t=S(this.view,r[0]);if(1===n&&e.operationComplete){const e=r[0],i=t.makeMapPoint(e[0]+T*this.view.resolution,e[1]);o.full=G([e,i],t,!0)}else 2===n&&(o.full=this.forceUniformSize?G(r,t,this.centered):O(r,t,this.centered))}break;case\"rectangle\":if(n>0){const t=S(this.view,r[0]);if(1===n&&e.operationComplete){const e=r[0],i=t.makeMapPoint(e[0]+T*this.view.resolution,e[1]);o.full=V([e,i],t,!0)}else 2===n&&(o.full=this.forceUniformSize?V(r,t,this.centered):g(r,t,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":case\"polygon\":n>1&&(o.outline=x([r],l,c));break;case\"circle\":case\"rectangle\":s(o.full)&&\"polygon\"===o.full.type&&(o.outline=E(o.full.rings,l,c))}return o}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){s(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic=o(this._createGraphic)),this._createGraphicState=null,this.handles.remove(L)}_destroyOutlineVisualElement(){this._outlineVisualElement=o(this._outlineVisualElement)}_destroyVerticesVisualElement(){this._verticesVisualElement=o(this._verticesVisualElement)}_destroyStagedVerticesVisualElement(){this._activeVertexVisualElement=o(this._activeVertexVisualElement)}_updateCreateGraphic(){const e=this._getCreateGeometry();if(n(e))return void this._destroyAllVisualisations();const i=this._internalGraphicsLayer.elevationInfo;s(e.outline)?n(this._outlineVisualElement)?(this._outlineVisualElement=new _({view:this.view,geometry:e.outline,elevationInfo:i,isDraped:s(this._createGraphicState)?this._createGraphicState.isDraped:\"on-the-ground\"===u(this.hasZ,i),attached:!1}),d.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),d.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=e.outline:this._destroyOutlineVisualElement(),s(e.regularVertices)?n(this._verticesVisualElement)?(this._verticesVisualElement=new w({view:this.view,spatialReference:this.view.spatialReference,vertices:e.regularVertices,elevationInfo:i,renderOccluded:d.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=e.regularVertices:this._destroyVerticesVisualElement(),s(e.activeVertex)?n(this._activeVertexVisualElement)?(this._activeVertexVisualElement=new w({view:this.view,spatialReference:this.view.spatialReference,vertices:[e.activeVertex],elevationInfo:i,renderOccluded:d.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._activeVertexVisualElement.color=d.colorToVec4(d.reshapeManipulators.selected.color),this._activeVertexVisualElement.attached=!0):this._activeVertexVisualElement.vertices=[e.activeVertex]:this._destroyStagedVerticesVisualElement(),s(e.full)?n(this._createGraphic)?(this._createGraphic=new t({geometry:e.full,symbol:this.createGraphicSymbol,sourceLayer:this._internalGraphicsLayer,...this.graphicProperties}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this._createGraphicState=new f({graphic:this._createGraphic}),this.handles.add([this.view.trackGraphicState(this._createGraphicState),l(this._createGraphicState,\"isDraped\",(e=>{s(this._outlineVisualElement)&&(this._outlineVisualElement.isDraped=e)}))],L),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=e.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let i=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry({operationComplete:!0});s(e)&&(i=new t({geometry:e.full,symbol:this.createGraphicSymbol,sourceLayer:this._internalGraphicsLayer,...this.graphicProperties}))}this.emit(\"complete\",{graphic:i,...e})}};function j(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([c()],b.prototype,\"drawOperation\",void 0),e([c({readOnly:!0})],b.prototype,\"updating\",null),e([c({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),e([c()],b.prototype,\"createGraphicSymbol\",void 0),e([c()],b.prototype,\"createGraphic\",null),e([c({value:!0})],b.prototype,\"enabled\",null),e([c({value:!0})],b.prototype,\"centered\",null),e([c({value:!0})],b.prototype,\"forceUniformSize\",null),e([c({constructOnly:!0})],b.prototype,\"graphicProperties\",void 0),e([c({constructOnly:!0})],b.prototype,\"hasZ\",void 0),e([c({nonNullable:!0})],b.prototype,\"defaultZ\",void 0),e([c({constructOnly:!0})],b.prototype,\"elevationInfo\",void 0),e([c()],b.prototype,\"snapToScene\",void 0),e([c()],b.prototype,\"snappingManager\",void 0),e([c({constructOnly:!0})],b.prototype,\"mode\",void 0),e([c({constructOnly:!0})],b.prototype,\"geometryType\",void 0),e([c({readOnly:!0})],b.prototype,\"type\",void 0),b=e([p(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],b);const T=48,L=\"create-graphic\";export{b as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as e}from\"../../../../core/screenUtils.js\";import{c as n}from\"../../../../chunks/vec2.js\";import{f as o,g as t,s as c}from\"../../../../chunks/vec3.js\";import{create as i}from\"../../../../geometry/support/ray.js\";import{sv3d as s}from\"../../../../geometry/support/vectorStacks.js\";function u(r,n,o=i()){return m(r,r.screenToRender(n,e(s.get())),o)}function m(t,c,u=i()){const m=e(n(s.get(),c));if(m[2]=0,!t.unprojectFromRenderScreen(m,u.origin))return null;const g=e(n(s.get(),c));g[2]=1;const p=t.unprojectFromRenderScreen(g,s.get());return r(p)?null:(o(u.direction,p,u.origin),u)}function g(r,n,o=i()){return p(r,r.screenToRender(n,e(s.get())),o)}function p(e,n,u=i()){t(u.origin,e.eye);const m=c(s.get(),n[0],n[1],1),g=e.unprojectFromRenderScreen(m,s.get());return r(g)?null:(o(u.direction,g,u.origin),u)}export{m as fromRender,p as fromRenderAtEye,u as fromScreen,g as fromScreenAtEye};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as r,unwrap as n}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as u}from\"../../../chunks/mat3.js\";import{c as _}from\"../../../chunks/mat3f64.js\";import{d as g,h as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as v}from\"../../../chunks/mat4f64.js\";import{j as b}from\"../../../chunks/vec2.js\";import{b as y,t as j,m as L,a as S,g as R,h as w,s as O,f as T}from\"../../../chunks/vec3.js\";import{c as E,Z as A}from\"../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as D,projectPoint as F,sphericalPCPFtoLonLatElevation as z,computeLatLonToENURotation as k}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as P}from\"../../../geometry/projectionEllipsoid.js\";import{containsPointObject as I}from\"../../../geometry/support/aaBoundingRect.js\";import{distance2 as M,fromPoints as C,closestRayDistance2 as x,create as B}from\"../../../geometry/support/lineSegment.js\";import{fromPositionAndNormal as W,intersectRay as V,create as H}from\"../../../geometry/support/plane.js\";import{create as U}from\"../../../geometry/support/ray.js\";import{sv3d as G}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as Z}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as q}from\"../support/ElevationProvider.js\";import{fromScreen as J}from\"../support/geometryUtils/ray.js\";import K from\"../webgl-engine/lib/Camera.js\";import{Object3D as N}from\"../webgl-engine/lib/Object3D.js\";import{WebGLLayer as Q}from\"../webgl-engine/lib/WebGLLayer.js\";import X from\"../../../geometry/Point.js\";class Y{constructor(e){this.idHint=0,this.camera=new K,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=v(),this._worldFrame=null,this._renderLocation=E(),this._renderLocationDirty=!0,this._location=new X({x:0,y:0,z:0}),this._elevationAlignedLocation=new X,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){$(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=v()),ee(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){Z(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){Z(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if($(this._modelTransform)){const t=this._calculateModelTransformOffset(_e);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,te),r=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(b(this.screenLocation.screenPointArray,s)<r*r)return this.screenLocation.renderScreenPointArray[2]+n;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ne),a=r*this.screenLocation.pixelSize,c=J(this.camera,s,se);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],i);for(let t=1;t<s.length;t++){const o=L(le,s[t],i),r=x(C(e,o,ie),c);if(null!=r&&r<a*a){const t=y(G.get(),e,o);S(t,t,.5);const i=h(G.get());return this.camera.projectToRenderScreen(t,i),i[2]+n}R(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:A,i=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(i,ne),l=r*this.screenLocation.pixelSize,h=J(this.camera,s,se);if(o(h))return null;const d=u(oe,c),_=j(de,e,d),g=L(ue,t,c);W(g,_,ae);const m=he;if(V(ae,h,m)&&w(m,g)<l*l)return this.screenLocation.renderScreenPointArray[2]+n;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,ne),c=r*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=J(this.camera,s,se);if(o(l))return null;const d=u(oe,a),_=j(de,t,d),g=this._calculateModelTransformPosition(ue);W(g,_,ae);const m=he;if(!V(ae,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],a);for(let t=1;t<s.length;t++){const i=L(le,s[t],a),o=M(C(e,i,ie),m);if(null!=o&&o<c*c){const t=y(G.get(),e,i);S(t,t,.5);const s=h(G.get());return this.camera.projectToRenderScreen(t,s),s[2]+n}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const i=e.manipulator3D;if(o(i.engineLayerId)){const e=new Q({isPickable:!1,updatePolicy:1});this.view._stage.add(e),i.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(i.engineLayerId));i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),D(this._location.spatialReference,this.view.spatialReference)||(this.location=new X({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){F(this.location,ge,e.spatialReference),I(e.extent,ge)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(o(this.elevationInfo))return!1;let t=null,i=0;const s=r(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=r(q(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":i=r(q(this.view.elevationProvider,e,\"ground\"),0)+s;break;case\"relative-to-scene\":i=r(q(this.view.elevationProvider,e,\"scene\"),0)+s;break;case\"absolute-height\":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ne;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const e=!(0!=(15&r))||(s&r)==(15&r),i=!(0!=(65520&r))||(this.state&r)==(65520&r);if(e&&i)for(const s of n)s.setVisible(!0),s.transformation=t;else for(const t of n)t.setVisible(!1)}}_ensureEngineResources(){if(o(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new N({castShadow:!1});s(t,e);const i=e.stateMask||0,r=o.get(i)||[];r.push(t),o.set(i,r)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,re);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function $(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function ee(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=P(e.renderCoordsHelper.spatialReference);return z(t,0,ce,0,o.radius),k(i(ce[1]),i(ce[0]),s),!0}}}const te=a(),ie=B(),se=U(),oe=_(),re=v(),ne=v(),ae=H(),ce=E(),le=E(),he=E(),de=E(),ue=E(),_e=E(),ge=new X({x:0,y:0,z:0,spatialReference:null});export{Y as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/mat4.js\";import{f as n,c as o,m as c,n as a}from\"../../../chunks/vec3.js\";import{f as i}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as l}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as m}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as u}from\"./Manipulator3D.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import g from\"../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as f}from\"../webgl-engine/materials/ColorMaterial.js\";import{ShadedColorMaterial as h}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4,r=!0){const n=i(e[0],e[1],e[2],e.length>3?e[3]:1),o=e[3]<1;return r?new h({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t}):new f({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t})}function j(e,t=4){const r=i(e[0],e[1],e[2],4===e.length?e[3]:1);return new f({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t})}function w(e,t,r){return new u({view:e,renderObjects:[{geometry:g.createSphereGeometry(1,32,32),material:d(i(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,a,i){const m=n(s.get(),e,a),u=b(m,o(s.get(),i,m),a,l.get());r(u,u);const p=c(s.get(),t,u);return Math.atan2(p[1],p[0])}function b(e,t,r,n){const c=a(s.get(),e),i=a(s.get(),t),l=o(s.get(),c,i);return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function O(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(t,r,n){const o=O(t,n);e(o)?r.elevationAlignedLocation=o:F(r,n.geometry)}function F(e,r){if(t(r))return;const n=\"mesh\"===r.type?r.anchor:p(r);t(n)||(e.location=m(n))}export{y as calculateInputRotationTransform,b as calculateTranslateRotateFromBases,d as createManipulatorMaterial,j as createManipulatorOutlineMaterial,w as createSphereManipulator,O as getGraphicAttachmentOrigin,v as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e,destroyHandle as t,refHandle as a}from\"../../../../core/handleUtils.js\";import{deg2rad as n}from\"../../../../core/mathUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{s as l,b as s,a as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{Manipulator3D as p}from\"../Manipulator3D.js\";import{ManipulatorState as m}from\"./ManipulatorState.js\";import{settings as h}from\"./settings.js\";import{ExtendedLineVisualElement as u}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as d}from\"../visualElements/LaserlineVisualElement.js\";import{OutlineVisualElement as g}from\"../visualElements/OutlineVisualElement.js\";import{GraphicState as f}from\"../../layers/graphics/GraphicState.js\";function v(t){const{view:a,graphic:n}=t,i=new f({graphic:n}),l=y(t,i),s=[l,E(t,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>e(s).remove()}}function y(a,n){const{view:i,graphic:l}=a,s=new g({view:i,geometry:S(l)?l.geometry:null,elevationInfo:c(l),attached:!1});h.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};h.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=S(l)?l.geometry:null)),t(s)];return o(),{visualElement:s,remove:()=>e(r).remove()}}function E(i,l,s){const{graphic:o,view:r}=i,p=[],g=c(o),f=\"on-the-ground\"===g.mode||!g.offset&&\"absolute-height\"!==g.mode,v=new m,y=new u({view:r,extensionType:h.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});h.visualElements.pointGraphics.shadowStyle.apply(y);const E=n(h.visualElements.heightPlaneAngleCutoff),j=new d({view:r,attached:!1,angleCutoff:E});h.visualElements.heightPlane.apply(j);let M=1,G=1;const L=()=>{if(v.update(i),!s.displaying||f&&(s.isDraped||!S(o)||!o.geometry.hasZ))return l.laserlineEnabled=!1,y.attached=!1,void(j.attached=!1);l.laserlineEnabled=!0;{const e=4&v.grabbingState?h.visualElements.laserlineAlphaMultiplier:1;e!==M&&(M=e,h.visualElements.lineGraphics.shadowStyle.apply(l,e),h.visualElements.pointGraphics.shadowStyle.apply(y,e))}{const e=2&v.grabbingState?h.visualElements.laserlineAlphaMultiplier:1;e!==G&&(G=e,h.visualElements.heightPlane.apply(j,e))}w(y,v),b(i,l,j,v)};h.visualElements.zVerticalLine.apply(y),p.push(s.on(\"changed\",L),s.watch(\"displaying\",L),l.events.on(\"attachment-origin-changed\",L),t(y),t(j));const D=[],C=()=>{e(D).remove(),D.length=0,i.forEachManipulator((e=>D.push(e.events.on(\"grab-changed\",L)))),i.forEachManipulator((e=>D.push(e.events.on(\"select-changed\",L)))),L()};return C(),p.push(i.onManipulatorsChanged(C),a((()=>e(D)))),e(p)}function w(e,t){const a=1===t.numSelected?t.firstSelected:t.numSelected>1&&i(t.firstGrabbedXY)?t.firstGrabbedXY:null;i(a)?(e.setStartEndFromWorldDownAtLocation(a.renderLocation),e.attached=!0):e.attached=!1}function b(e,t,a,n){if(n.numSelected>0){l(j,0,0,0);let t=0;e.forEachManipulator(((e,a)=>{1===a&&e.selected&&e instanceof p&&(s(j,j,e.renderLocation),t++)})),t>0?(a.heightManifoldTarget=o(j,j,1/t),a.attached=!0):a.attached=!1}else{const n=t.attachmentOrigin;i(n)&&e.view.renderCoordsHelper.toRenderCoords(n,j)?(a.heightManifoldTarget=j,a.attached=!0):a.attached=!1}}function S(e){return i(e.geometry)&&(\"polygon\"===e.geometry.type||\"polyline\"===e.geometry.type)}const j=r();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e,destroyHandle as t,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";import{isNone as i,isSome as a}from\"../../../../core/maybe.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{containsXY as d}from\"../../../../geometry/support/aaBoundingRect.js\";import{getGraphicEffectiveElevationInfo as f}from\"../../../../support/elevationInfoUtils.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{settings as v}from\"./settings.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as E}from\"../visualElements/LaserlineVisualElement.js\";import{PointVisualElement as w}from\"../visualElements/PointVisualElement.js\";import{evaluateElevationAlignmentAtPoint as j}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as b}from\"../../layers/graphics/ElevationContext.js\";import{GraphicState as x}from\"../../layers/graphics/GraphicState.js\";function S(t){const{view:n,graphic:o}=t,i=new x({graphic:o}),a=[],s=P(t,i,a);return L(t,i,a,s),a.push(n.trackGraphicState(i)),{visualElement:s,remove(){e(a).remove()}}}function L(e,n,s,l){const{view:c,graphic:m}=e,d=new y({view:c,extensionType:v.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});v.visualElements.zVerticalLine.apply(d);const w=new E({view:c,intersectsLineInfinite:!0,attached:!1});v.visualElements.pointGraphics.shadowStyle.apply(w);const x=o(v.visualElements.heightPlaneAngleCutoff),S=new E({view:c,attached:!1,angleCutoff:x});v.visualElements.heightPlane.apply(S);const L=f(e.graphic),P=b.fromElevationInfo(L),C=\"on-the-ground\"===L.mode||!L.offset&&\"absolute-height\"!==L.mode,M=new g;let R=1,G=1;const V=()=>{M.update(e);const t=A(m),o=C&&(n.isDraped||i(t)||!t.hasZ);let s=!0;if(!o&&a(t)){const e=j(t,c.elevationProvider,P,c.renderCoordsHelper);r(U,t.x,t.y,e),p(U,t.spatialReference,U,c.renderCoordsHelper.spatialReference),d.setStartEndFromWorldDownAtLocation(U),w.intersectsWorldUpAtLocation=U}else s=!1;const f=2&M.grabbingState?v.visualElements.laserlineAlphaMultiplier:1;f!==R&&(R=f,v.visualElements.heightPlane.apply(S,f));const g=h(D);!o&&n.displaying&&l.calculateMapBounds(g)&&p(u(g,U),c.spatialReference,U,c.renderCoordsHelper.spatialReference)?(S.heightManifoldTarget=U,S.attached=!0):S.attached=!1;const y=4&M.grabbingState?v.visualElements.laserlineAlphaMultiplier:1;y!==G&&(G=y,v.visualElements.pointGraphics.shadowStyle.apply(w,y));const E=s&&n.displaying&&!o;w.attached=E,d.attached=E};s.push(n.watch([\"displaying\",\"isDraped\"],V),n.on(\"changed\",V)),e.forEachManipulator((e=>{s.push(e.events.on(\"grab-changed\",V))})),s.push(t(w)),s.push(t(d)),s.push(t(S)),V()}function P(e,n,o){const{view:i,graphic:a}=e,s=new w({view:i,geometry:A(a),elevationInfo:f(a),attached:!1});return C(e,s,n,o),o.push(t(s)),s}function A(e){const t=e.geometry;return i(t)?null:\"point\"===t.type?t:\"mesh\"===t.type?t.anchor.clone():null}function C(e,t,n,o){const i=()=>t.attached=n.displaying;M(e,t,n,o),v.visualElements.pointGraphics.outline.apply(t),o.push(s(n,\"displaying\",i))}function M(e,t,o,i){const{view:s,graphic:r}=e;let l=null;const p=e=>{a(l)&&(l.remove(),l=null),o.isDraped&&a(e)&&(l=R(s,e,(()=>{t.geometry=e})))},c=()=>{const e=A(r);p(e),t.geometry=e};i.push(o.on(\"changed\",c),n((()=>l))),c()}function R(e,t,n){const o=e.elevationProvider.spatialReference;c(t,U,o);const i=U[0],a=U[1];return e.elevationProvider.on(\"elevation-change\",(e=>{d(e.extent,i,a)&&n()}))}const U=l(),D=m();export{S as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as r}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as t}from\"./originGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":case\"mesh\":return t(i);case\"polygon\":case\"polyline\":return r(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(e/3*2),P=160,i=.5,l=24,n=9,p=P+30,r=P+53,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get renderLocation(){let a;return this.forEachManipulator3D((t=>{a||(a=t.renderLocation)})),a}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{sign as e}from\"../../../../core/mathUtils.js\";import{isSome as r,isNone as t,unwrapOr as n}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as o,castScreenPointArray as s,createScreenPointArray as c}from\"../../../../core/screenUtils.js\";import{g as l,l as a,f as i,d as u,a as p,b as m,c as d}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec3f64.js\";import{projectPoint as g}from\"../../../../geometry/projection.js\";import{intersectRay as y,fromPositionAndNormal as S,create as j}from\"../../../../geometry/support/plane.js\";import{create as E}from\"../../../../geometry/support/ray.js\";import{projectPoint as v}from\"../../../../geometry/support/vector.js\";import{sv2d as x}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b,getGraphicEffectiveElevationInfo as w}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as I}from\"../../support/geometryUtils/ray.js\";import{Intersector as C}from\"../../webgl-engine/lib/Intersector.js\";import{TERRAIN_ID as H}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as U}from\"../../../interactive/dragEventPipeline.js\";function P(e,r){return k(e,(()=>r))}function h(e){return k(e,(e=>e.plane))}function k(e,n){const c=f(),l=f();let a=!1;return i=>{const u=n(i);if(\"start\"===i.action){const t=o(i.screenStart,s(x.get())),n=I(e.state.camera,t,K);r(n)&&(a=y(u,n,c))}if(!a)return null;const p=o(i.screenEnd,s(x.get())),m=I(e.state.camera,p,K);return t(m)?null:y(u,m,l)?{...i,renderStart:c,renderEnd:l,plane:u,ray:m}:null}}function R(e,n,o,s=null,l=null){let a=null;return i=>{if(\"start\"===i.action&&(a=e.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenStart.x,i.screenStart.y),n,o,l),r(a)&&r(s)&&!g(a,a,s)))return null;if(t(a))return null;const u=e.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenEnd.x,i.screenEnd.y),n,o,l);return r(u)?r(s)&&!g(u,u,s)?null:{...i,mapStart:a,mapEnd:u}:null}}function M(e,r,t,n=null,o=null){return R(e,t,b(r,e,t),n,o)}function T(e,r,t,n=null,o=null){return M(e,t,w(r),n,o)}function F(e,t,n,o){const s=t.toMap(e.screenStart,{include:[n]});return r(s)?T(t,n,s,o):null}function A(e,r){const t=B,n=J,o=j();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=d(o,t,i(n,r,e.state.camera.eye));return d(s,s,t),S(r,s,o)}function D(e,r,t){let n=null;const o=new U;return o.next(P(e,A(e,r))).next(q(e,r)).next(G(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function q(r,t){const n=f(),o=a(t);r.renderCoordsHelper.worldUpAtPosition(t,n);const s=f(),c=f(),d=s=>{if(i(s,s,t),v(n,s,s),\"global\"===r.viewingMode){a(s)*e(u(n,s))<.001-o&&i(s,p(s,n,.001),t)}return m(s,s,t),s};return e=>(e.renderStart=d(l(s,e.renderStart)),e.renderEnd=d(l(c,e.renderEnd)),e)}function G(e,t){const n=e.renderCoordsHelper;return e=>{const o=n.fromRenderCoords(e.renderStart,t),s=n.fromRenderCoords(e.renderEnd,t);return r(o)&&r(s)?{...e,mapStart:o,mapEnd:s}:null}}function O(e){let t=null;return n=>{switch(n.action){case\"start\":t=e.disableDisplay();break;case\"end\":case\"cancel\":r(t)&&(t.remove(),t=null)}return n}}function z(e,s=null){const l=new C(e.state.viewingMode);l.options.selectionMode=!0,l.options.store=0,l.options.hud=!1;const a=c(),i={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=f(),p=n(s,e.spatialReference),m=r=>{e.map.ground&&e.map.ground.opacity<1?i.exclude.add(H):i.exclude.delete(H),e.sceneIntersectionHelper.intersectIntersectorScreen(o(r,a),l,i);const t=l.results.min;let n;if(t.getIntersectionPoint(u))n=\"TerrainRenderer\"===t.intersector?0:1;else{if(!l.results.ground.getIntersectionPoint(u))return null;n=0}return{location:e.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:n}};let d;return e=>{if(\"start\"===e.action){const t=m(e.screenStart);d=r(t)?t.location:null}if(t(d))return null;const n=m(e.screenEnd);return r(n)&&r(n.location)?{...e,mapStart:d,mapEnd:n.location,surfaceType:n.surfaceType}:null}}const B=f(),J=f(),K=E();export{G as convertToMapCoordinates,O as hideManipulatorWhileDragging,q as projectToWorldUp,z as screenToMap3D,M as screenToMapXYAtLocation,F as screenToMapXYForGraphic,T as screenToMapXYForGraphicAtLocation,P as screenToRenderPlane,h as screenToRenderPlaneFromEvent,D as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{dragGraphic as e,resetGraphic as n}from\"../../../../interactive/dragEventPipeline.js\";function r(t,r,a,c){const i=t.graphic,o=(t,e)=>r({action:t,graphic:i,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return a(((t,r,a)=>{const s=r.next((t=>(\"start\"===t.action&&o(\"start\",t),t))).next(e(i,c)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&o(\"update\",t);break;case\"end\":o(\"end\",t)}return t}));return a.next(n(i)).next((()=>{o(\"end\",{screenDeltaX:0,screenDeltaY:0})})),s}))}function a(e){if(t(e)||\"polyline\"!==e.type&&\"polygon\"!==e.type)return 0;const n=(\"polyline\"===e.type?e.paths:e.rings)[0];if(!n||n.length<2)return 0;const r=n[0],a=n[1];return Math.atan2(a[1]-r[1],a[0]-r[0])}export{r as createGraphicMoveDragPipeline,a as shapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import a from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{handlesGroup as e}from\"../../../../../core/handleUtils.js\";import{unwrap as i}from\"../../../../../core/maybe.js\";import{q as o,i as s,z as n,m as l,c as p,v as u}from\"../../../../../chunks/mat4.js\";import{c as h}from\"../../../../../chunks/mat4f64.js\";import{s as m}from\"../../../../../chunks/vec3.js\";import{f as c}from\"../../../../../chunks/vec3f64.js\";import{sv3d as d,sm4d as f}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as g}from\"../../Manipulator3D.js\";import{screenToMapXYAtLocation as M}from\"../dragEventPipeline3D.js\";import{colors as w}from\"../settings.js\";import{DISC_RADIUS as v,DISC_HEIGHT as j,DISC_TRANSLATE_ARROW_OFFSET as y,DISC_TRANSLATE_ARROW_SIZE as A}from\"./config.js\";import{Manipulation as I}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as T}from\"./moveUtils.js\";import b from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as D}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as x,dragAtLocation as P,constrainToMapAxis as k,addScreenDelta as E}from\"../../../../interactive/dragEventPipeline.js\";class S extends I{constructor(t){super(),this._handles=new r,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=v,this._updateAfterDrag=!1,this.events=new a,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(t,a,r){const e=a.graphic,o=_(e),s=i(e.geometry).spatialReference;return T(a,r,(a=>this.createDragPipeline(((r,e,i,o,s)=>a(r,t(r,e,i,o,s),i)),o,s,e)),this._view.state.viewingMode)}createDragPipeline(t,a,r,i){return e(this._arrowManipulatorInfos.map((({manipulator:e},o)=>x(e,((e,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:1}))).next(P(this._view,e.elevationAlignedLocation)).next(M(this._view,e.elevationAlignedLocation,a,r,i)).next(k(e.location,this.angle+(o+1)*Math.PI*.5)).next(E());t(e,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/v,i=A*e,p=i*Math.sqrt(3)/2,u=b.createExtrudedTriangle(p,i/2,i/2,j);b.transformInPlace(u,o(f.get(),m(d.get(),0,-p/3,0))),t.renderObjects=[{geometry:u,material:this._opaqueMaterial,stateMask:2},{geometry:u,material:this._transparentMaterial,stateMask:1}],t.radius=p/3*2*1.2;const h=s(f.get());n(h,r*Math.PI/2);const c=s(f.get());o(c,m(d.get(),0,y*e,0)),l(a,h,c)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=s(f.get());p(a,a,t,c(0,0,1));const r=u(f.get(),m(d.get(),this.displayScale,this.displayScale,this.displayScale)),e=s(f.get());l(e,r,a);for(const i of this._arrowManipulatorInfos){const t=l(f.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new g({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:c(0,0,1)}}),r={manipulator:a,transform:h()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(a=1){const r=t.toUnitRGBA(w.main);return r[3]*=a,new D({color:r,transparent:1!==a,cullFace:2,renderOccluded:2})}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{S as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import e from\"../../../../../core/Handles.js\";import{unwrap as i}from\"../../../../../core/maybe.js\";import{v as a}from\"../../../../../chunks/mat4.js\";import{c as r}from\"../../../../../chunks/mat4f64.js\";import{s}from\"../../../../../chunks/vec3.js\";import{f as o}from\"../../../../../chunks/vec3f64.js\";import{sv3d as n,sm4d as l}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as c}from\"../../Manipulator3D.js\";import{screenToMapXYAtLocation as m}from\"../dragEventPipeline3D.js\";import{colors as u}from\"../settings.js\";import{DISC_RADIUS as h,DISC_HEIGHT as d,GEOMETRY_SEGMENTS as _,DISC_COLLISION_RADIUS as f}from\"./config.js\";import{Manipulation as g}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as M}from\"./moveUtils.js\";import{SnapToScene as j}from\"../snapping/SnapToScene.js\";import v from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as S}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as y,dragAtLocation as T,addScreenDelta as w}from\"../../../../interactive/dragEventPipeline.js\";class b extends g{constructor(t){super(),this._handles=new e,this._snapToScene=new j,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=h,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(t,e,a){const r=e.graphic,s=p(r),o=i(r.geometry).spatialReference;return M(e,a,(e=>this.createDragPipeline(((i,a,r,s,o)=>e(i,t(i,a,r,s,o),r)),s,o,r)),this._view.state.viewingMode)}createDragPipeline(t,e,i,a){const r=this._view;return y(this._manipulator,((s,o,n,l,p)=>{const c=o.next(T(r,s.elevationAlignedLocation)).next(m(r,s.elevationAlignedLocation,e,i,a)).next(this._snapToScene.createDragEventPipelineStep(r,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(w());t(s,c,n,l,p)}))}_updateManipulatorTransform(){const t=a(l.get(),s(n.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new c({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:o(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=v.createCylinderGeometry(d,1,_,o(0,0,1),o(0,0,0)),e=a(r(),o(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=f*(this._radius/h)}_createMaterial(e=1){const i=t.toUnitRGBA(u.main);return i[3]*=e,new S({color:i,transparent:1!==e,cullFace:2,renderOccluded:2})}get test(){return{discManipulator:this._manipulator}}}export{b as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{darken as t}from\"../../../../../core/colorUtils.js\";import e from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{clamp as a}from\"../../../../../core/mathUtils.js\";import{unwrap as i}from\"../../../../../core/maybe.js\";import{t as o,b as s,s as n}from\"../../../../../chunks/mat4.js\";import{c as l}from\"../../../../../chunks/mat4f64.js\";import{j as m,f as p,n as u,d as c,c as h,a as d}from\"../../../../../chunks/vec3.js\";import{c as f,f as M}from\"../../../../../chunks/vec3f64.js\";import{Manipulator3D as _}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as g}from\"../../manipulatorUtils.js\";import{screenToZConstrained as y}from\"../dragEventPipeline3D.js\";import{settings as j}from\"../settings.js\";import{DISC_RADIUS as v}from\"./config.js\";import{Manipulation as w}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as k}from\"./moveUtils.js\";import z from\"../../../webgl-engine/lib/GeometryUtil.js\";import{createManipulatorDragEventPipeline as b,addScreenDelta as P}from\"../../../../interactive/dragEventPipeline.js\";class x extends w{constructor(t){super(),this._handles=new r,this._radius=v,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(t,e,r){const a=i(e.graphic.geometry).spatialReference;return k(e,r,(e=>this.createDragPipeline(((r,a,i,o,s)=>e(r,t(r,a,i,o,s),i)),a)),this._view.state.viewingMode)}createDragPipeline(t,e){const r=this._view;return b(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(y(r,a.renderLocation,e)).next(P());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const e=this._radius/v,r=j.zManipulator.height*e,a=j.zManipulator.coneHeight*e,i=j.zManipulator.coneWidth*e,m=j.zManipulator.width*e,p=[M(0,0,0),M(0,0,r)],u=z.createTubeGeometry(p,m/2,16,!1),c=z.createConeGeometry(a,i/2,16,!1),h=[M(0,0,0),M(0,0,r+a)],d=(t=>{const e=l();if(o(e,e,[0,0,r]),s(e,e,Math.PI/2),t){const r=1+2*t/i;n(e,e,[r,r,r])}return e})(0),f=(e,r)=>{const a=t(j.zManipulator.color,r);return[a.r/255,a.g/255,a.b/255,j.zManipulator.color.a*e]},_=g(f(1,.25),1),y=g(f(1,0),1),w=g(f(.7,0),j.zManipulator.renderOccluded),k=g(f(.85,0),j.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:c,transform:d,material:_,stateMask:1},{geometry:u,material:_,stateMask:1},{geometry:c,transform:d,material:y,stateMask:2},{geometry:u,material:y,stateMask:2},{geometry:c,transform:d,material:w,stateMask:1},{geometry:u,material:w,stateMask:1},{geometry:c,transform:d,material:k,stateMask:2},{geometry:u,material:k,stateMask:2}],this._manipulator.radius=m/2+2,this._manipulator.collisionType={type:\"line\",paths:[h]}}createManipulator(){const t=new _({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,r=D;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,r);const i=m(e.eye,r),o=e.computeRenderPixelSizeAtDist(i),s=p(E,r,e.eye);u(s,s);const n=O;this._view.renderCoordsHelper.worldUpAtPosition(D,n);const l=Math.abs(c(s,n)),f=h(E,s,n),M=h(E,f,n),_=a(l,.01,1),g=1-Math.sqrt(1-_*_)/_/e.fullWidth,y=this._radius/v,w=j.zManipulator.width*y;d(M,u(M,M),(1/g-1)*i+o*w),t[12]-=E[0],t[13]-=E[1],t[14]-=E[2]},this._manipulator=t,this.updateManipulator()}get test(){return{manipulator:this._manipulator}}}const D=f(),E=f(),O=f();export{x as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/Handles.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import t from\"../../../../../core/has.js\";import{isSome as e}from\"../../../../../core/maybe.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(a){super(),this._handles=new i,this._angleDeferred=null,this._interactive=!0;const{tool:t,view:e,snapToScene:n,radius:s}=a;this._view=e,this.xyManipulation=new l({tool:t,view:e,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:t,view:e,radius:s}),this.zManipulation=new p({tool:t,view:e,radius:s}),this.xyManipulation.available=a.xyAvailable,this.xyAxisManipulation.available=a.xyAxisAvailable,this.zManipulation.available=a.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,t,e){return a([this.xyManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),t,e),this.xyAxisManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),t,e),this.zManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),t,e)])}createDragPipeline(i,t,e,n){return a([this.xyManipulation.createDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),t,e,n),this.xyAxisManipulation.createDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),t,e,n),this.zManipulation.createDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const i=this.xyAxisManipulation,a=this.xyManipulation;if(t(\"esri-mobile\"))return;const n=[];a.forEachManipulator((i=>n.push(i))),i.forEachManipulator((i=>n.push(i)));const s=()=>{const a=[];this.xyAxisVisible?e(this._angleDeferred)&&(this.angle=this._angleDeferred()):i.forEachManipulator((i=>a.push(i.disableDisplay()))),this._handles.remove(u),this._handles.add(a,u)};for(const t of n)this._handles.add(t.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const a=e(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!a&&a.length>0&&a.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{isSome as i}from\"../../../../../core/maybe.js\";import{screenToMapXYForGraphic as e}from\"../dragEventPipeline3D.js\";import{Manipulation as r}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as a}from\"./moveUtils.js\";import{createManipulatorDragEventPipeline as o,addMapDelta as s,addScreenDelta as n}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as l}from\"../../../../interactive/GraphicManipulator.js\";class h extends r{constructor(i){super(),this._handles=new t,this._view=i.view,this._tool=i.tool,this._graphicState=i.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return a(this._graphicState,t,(t=>this.createDragPipeline(t)),this._view.state.viewingMode)}createDragPipeline(t){const r=this._view,a=this._graphicState.graphic,l=i(a.geometry)?a.geometry.spatialReference:null;return o(this._manipulator,((i,o,h,p,c)=>{const m=o.next(e(c,r,a,l)).next(s()).next(n());t(i,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new l({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Collection.js\";import i from\"../../../../../core/Evented.js\";import{HandleOwnerMixin as a}from\"../../../../../core/HandleOwner.js\";import n from\"../../../../../core/Handles.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import{unwrap as s,isNone as r,isSome as p}from\"../../../../../core/maybe.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{makeDehydratedPoint as c}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as m,getConvertedElevation as u}from\"../../../../../support/elevationInfoUtils.js\";import{getGraphicAttachmentOrigin as g}from\"../../manipulatorUtils.js\";import{SnappingPipeline as d}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as v}from\"../../SnappingVisualizer3D.js\";import{canMoveZ as f}from\"../manipulatorUtils.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{DISC_RADIUS as M}from\"../manipulations/config.js\";import{MoveManipulation as w}from\"../manipulations/MoveManipulation.js\";import{shapeOrientation as j}from\"../manipulations/moveUtils.js\";import{MoveXYGraphicManipulation as b}from\"../manipulations/MoveXYGraphicManipulation.js\";import{isSupportedGraphic as x}from\"./isSupportedGraphic.js\";import{OutlineVisualElement as S}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as E}from\"../../../layers/graphics/GraphicState.js\";import{dragGraphicMany as _,resetGraphicMany as P}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as A}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryHelper as D}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as G}from\"../../../../interactive/snapping/SnappingContext.js\";class H{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class z{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class O{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let X=class extends(a(i.EventedMixin(A))){constructor(t){super(t),this.graphics=new e,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new n,this.snappingPipeline=new d}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators(),this.complete()}destroy(){this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}get updating(){return this.updatingHandles.updating}reset(){}_refreshManipulators(){this.handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===x(t))).map((t=>new Y(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this.handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new b({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this.handles.add(e.manipulationXY.createDragPipeline(((e,i,a,n)=>this.buildDragEventPipeline(t,0,e,i,a,n))))}this.createMoveManipulation(t)}createMoveManipulation(t){const e=new w({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?w.radiusForSymbol(t[0].graphic.symbol):M});this._moveManipulation=e,e.elevationInfo={mode:\"absolute-height\",offset:0},e.forEachManipulator((t=>{this.handles.add(t.events.on(\"immediate-click\",(i=>{e.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...i,graphic:this.graphics.getItemAt(0)}),i.stopPropagation()})))}));const i=()=>this.updateMoveManipulation(t);for(const n of t)this.handles.add([n.state.on(\"changed\",i),n.state.watch(\"displaying\",i)]);const a=t[t.length-1];this.handles.add(a.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(a)))),this.handles.add(e.createDragPipeline(((e,i,a,n,o)=>this.buildDragEventPipeline(t,e,i,a,n,o)),m(a.graphic),s(a.graphic.geometry).spatialReference,a.graphic)),this.updateMoveManipulationAngle(a)}createVisualElements(t){for(const e of t){const i=e.graphic,a=y({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>o()});r(a)||(e.geometryRepresentation=a.visualElement,e.geometryRepresentation instanceof S&&this.handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this.handles.add(a))}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>j(t.graphic.geometry)}updateMoveManipulation(t){const e=c(0,0,0,this.view.spatialReference);let i=0,a=!1;const n=this._moveManipulation;for(const o of t){if(!o.state.displaying)continue;const t=o.state.graphic;this.enableZ&&f(t)&&(a=!0);const n=o.geometryRepresentation instanceof S&&!o.state.isDraped?o.geometryRepresentation.attachmentOrigin:g(this.view,t);p(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,i++)}i>0?(e.x/=i,e.y/=i,e.z/=i,n.location=e,n.xyManipulation.available=!0,n.xyAxisManipulation.available=!0,n.zManipulation.available=a):n.available=!1}buildDragEventPipeline(t,e,i,a,n,o){const s=[],r=[];let p=null,l=null;const h=()=>{for(const t of s)t.dragging=!1;s.length=0,r.length=0,p=null,l=null,this._moveManipulation.interactive=!0};if(1===t.length&&0===e){const e=t[0].graphic;a=this.buildSnappingPipelineSteps(e,m(e),a,n,o)}const c=a.next((e=>{if(\"start\"===e.action){s.length=0,r.length=0;for(const e of t)e.dragging||!e.manipulationXY.hasManipulator(i)&&e.manipulationXY.grabbing||(s.push(e),r.push(e.graphic),e.dragging=!0);if(0!==r.length&&(this._moveManipulation.interactive=!1,p=_(r,this.view.state.viewingMode),l=P(r),this.emit(\"graphic-move-start\",new H(r)),this.destroyed))return null}return 0!==r.length?e:null})).next((t=>p(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,n=i.y-e.y;if(this.emit(\"graphic-move\",new z(a,n,r)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new O(r)),this.destroyed)return null;h()}}));return n.next((t=>l(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new O(r)),this.destroyed)return null;h()})),c}buildSnappingPipelineSteps(t,e,i,a,n){const o=t.geometry;if(r(o)||\"point\"!==o.type&&\"mesh\"!==o.type)return i;const s=(\"point\"===o.type?o:o.anchor).clone(),p=new G({elevationInfo:e,pointer:n,geometry:D.fromGeometry(s,this.view.viewingMode),visualizer:new v,excludeFeature:t}),l=this.snappingManager;return i.next((e=>{s.z=u(this.view,s,m(t),{mode:\"absolute-height\",offset:0});return{...e,snapOrigin:p.coordinateHelper.fromPoint(s)}})).next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:p,snappingManager:l,cancel:a,updatingHandles:this.updatingHandles}),this.snappingPipeline.next)}};t([l({constructOnly:!0,nonNullable:!0})],X.prototype,\"view\",void 0),t([l({readOnly:!0})],X.prototype,\"graphics\",void 0),t([l({constructOnly:!0,nonNullable:!0})],X.prototype,\"enableZ\",void 0),t([l({constructOnly:!0})],X.prototype,\"snappingManager\",void 0),t([l({readOnly:!0})],X.prototype,\"type\",void 0),t([l({readOnly:!0})],X.prototype,\"updating\",null),X=t([h(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],X);class Y{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new E({graphic:t})}get graphic(){return this.state.graphic}}export{z as GraphicMoveEvent,H as GraphicMoveStartEvent,O as GraphicMoveStopEvent,X as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../core/maybe.js\";import{createRenderScreenPointArray3 as r}from\"../../../../../core/screenUtils.js\";import{f as o}from\"../../../../../chunks/mat4f64.js\";import{c as n,r as t,p as s,f as c}from\"../../../../../chunks/vec3.js\";import{c as i}from\"../../../../../chunks/vec3f64.js\";import{normal as d,fromPositionAndNormal as f,create as p}from\"../../../../../geometry/support/plane.js\";import{makeDehydratedPoint as m}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{OffsetEdgeVertex as u}from\"../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js\";function a(e,r,o){const n=\"on-the-ground\"===o.mode?1:0;return new u(e,n,r,0)}function l(r,o,t){const s=i();if(!r.renderCoordsHelper.toRenderCoords(o,s))return null;const c=j(r,o,d(t.plane)),m=j(r,o,t.edgeDirection);if(e(c)||e(m))return null;const u=n(i(),c,m);return f(s,u,p())}function j(e,r,o){const n=m(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),s=i(),c=i();return e.renderCoordsHelper.toRenderCoords(r,s)&&e.renderCoordsHelper.toRenderCoords(n,c)?t(c,s,c):null}function h(e,r,s){const c=d(e),f=t(i(),r,s),p=n(i(),f,c),m=n(i(),f,p);return o(f[0],f[1],f[2],0,p[0],p[1],p[2],0,m[0],m[1],m[2],0,0,0,0,1)}function y(e,o,n){const t=n.projectToRenderScreen(e,r()),i=n.projectToRenderScreen(o,r());return s(c(t,t,i))}export{l as createEdgeOffsetIntersectionPlane,a as createEdgeOffsetOperation,h as edgeOffsetRotationMatrix,y as screenEdgeLengthSquared};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import t from\"../../../../../core/Evented.js\";import{HandleOwner as i}from\"../../../../../core/HandleOwner.js\";import a from\"../../../../../core/Handles.js\";import{handlesGroup as r,destroyHandle as n}from\"../../../../../core/handleUtils.js\";import{isSome as o,destroyMaybe as s,isNone as l,unwrap as p,removeMaybe as h}from\"../../../../../core/maybe.js\";import{init as d}from\"../../../../../core/watchUtils.js\";import{property as u}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{I as m}from\"../../../../../chunks/mat4f64.js\";import{l as g,f as _,e as v,s as f,b as M,a as y}from\"../../../../../chunks/vec3.js\";import{f as x,c as G}from\"../../../../../chunks/vec3f64.js\";import b from\"../../../../../geometry/Polyline.js\";import{makeDehydratedPoint as H}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as O}from\"../../../../../support/elevationInfoUtils.js\";import{isVolumetricSymbol as E}from\"../../../../../symbols/support/utils.js\";import{Manipulator3D as S}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as I,createManipulatorOutlineMaterial as w,placeAtGraphic as V}from\"../../manipulatorUtils.js\";import{SnappingPipeline as D}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as P}from\"../../SnappingVisualizer3D.js\";import{screenToRenderPlaneFromEvent as k,convertToMapCoordinates as j,screenToMapXYForGraphicAtLocation as A}from\"../dragEventPipeline3D.js\";import{canMoveZ as L}from\"../manipulatorUtils.js\";import{settings as U,colors as z}from\"../settings.js\";import{createVisualElements as T}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as F}from\"../manipulations/config.js\";import{MoveManipulation as C}from\"../manipulations/MoveManipulation.js\";import{shapeOrientation as R}from\"../manipulations/moveUtils.js\";import{MoveXYGraphicManipulation as Z}from\"../manipulations/MoveXYGraphicManipulation.js\";import{createEdgeOffsetIntersectionPlane as N,createEdgeOffsetOperation as X,edgeOffsetRotationMatrix as Y,screenEdgeLengthSquared as q}from\"./edgeOffsetUtils.js\";import{OutlineVisualElement as K}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as W}from\"../../../layers/graphics/GraphicState.js\";import B from\"../../../webgl-engine/lib/GeometryUtil.js\";import{addMapDelta as J,createManipulatorDragEventPipeline as Q,dragAtLocation as $}from\"../../../../interactive/dragEventPipeline.js\";import{EditGeometryHelper as ee}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as te}from\"../../../../interactive/snapping/SnappingContext.js\";let ie=class extends(t.EventedMixin(i)){constructor(e){super(e),this._vertexManipulatorMaterial=I(U.colorToVec4(U.reshapeManipulators.vertex.color),U.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=w(U.colorToVec4(U.reshapeManipulators.vertex.outlineColor),U.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=w(U.colorToVec4(U.reshapeManipulators.vertex.hoverOutlineColor),U.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=I(U.colorToVec4(U.reshapeManipulators.edge.color),U.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=w(U.colorToVec4(U.reshapeManipulators.edge.outlineColor),U.reshapeManipulators.edge.renderOccluded),this._edgeOffsetManipulatorMaterial=I(U.colorToVec4(U.reshapeManipulators.edgeOffset.color),U.reshapeManipulators.edgeOffset.renderOccluded,!1),this._edgeOffsetManipulatorHoverMaterial=I(U.colorToVec4(U.reshapeManipulators.edgeOffset.hoverColor),U.reshapeManipulators.edgeOffset.renderOccluded,!1),this._selectedManipulatorMaterial=I(U.colorToVec4(U.reshapeManipulators.selected.color),U.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=w(U.colorToVec4(U.reshapeManipulators.selected.outlineColor),U.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=w(U.colorToVec4(U.reshapeManipulators.selected.hoverOutlineColor),U.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._edgeOffsetManipulatorGeometryInside=null,this._edgeOffsetManipulatorGeometryOutside=null,this._manipulatorHandles=new a,this._manipulatorInfos=[],this._editGeometryHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._snappingPipeline=new D,this._snappingPipelineHandle=new D,this._vertexLaserLineVisualElement=null}initialize(){const e=new W({graphic:this.graphic});this._graphicState=e,this.handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear()}get inputGeometry(){return o(this._editGeometryHelper)?this._editGeometryHelper.geometry:null}set inputGeometry(e){this._recreateEditGeometryAndManipulators(e)}get updating(){return this.updatingHandles.updating}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZShape(){return this.tool.enableZShape}get enableZVertex(){return this.tool.enableZVertex}get enableMoveGraphic(){return this.tool.enableMoveGraphic}get enableMidpoints(){return this.tool.enableMidpoints}get enableEdgeOffset(){return this.tool.enableEdgeOffset}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._removeManipulators(),this._resetGrabbingDragging(),this._editGeometryHelper=s(this._editGeometryHelper)}_removeManipulators(){this._moveManipulation=s(this._moveManipulation),this._graphicMoveManipulation=s(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[]}_resetGrabbingDragging(){this._numGrabbing=0,this._numDragging=0}_createManipulators(){if(l(this._editGeometryHelper))return;const e=O(this.graphic);for(const t of this._editGeometryHelper.editGeometry.components){for(const i of t.vertices)this._createVertexOrEdgeManipulator(i,e);for(const i of t.edges)this._createVertexOrEdgeManipulator(i,e)}this._createGraphicMoveManipulators(e)}get canRedo(){return o(this._editGeometryHelper)&&this._editGeometryHelper.canRedo}get canUndo(){return o(this._editGeometryHelper)&&this._editGeometryHelper.canUndo}redo(){if(l(this._editGeometryHelper))return null;const e=this._editGeometryHelper.redo();return o(e)&&(this.outputGeometry=this._editGeometryHelper.geometry,this._recreateManipulators()),e}undo(){if(l(this._editGeometryHelper))return null;this.emit(\"undo\");const e=this._editGeometryHelper.undo();return o(e)&&(this.outputGeometry=this._editGeometryHelper.geometry,this._recreateManipulators()),e}_recreateManipulators(){this._removeManipulators(),this._resetGrabbingDragging(),this._createManipulators()}_recreateEditGeometryAndManipulators(e=this.inputGeometry){this._clear(),l(e)||(s(this._editGeometryHelper),this._editGeometryHelper=ee.fromGeometry(e,this.view.viewingMode),this._createManipulators())}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;let i=0;const a=[],r=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),n=1===e&&r;for(const o of this._manipulatorInfos)re(o)&&(o.manipulator.grabbing||n&&!o.manipulator.selected||a.push(o),i++);if(0===a.length)return;this._moveVertices(a,t);if(a.length===i){if(this._updateEventState(1),this.destroyed)return;this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic})}else{if(this._updateEventState(2),this.destroyed)return;this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)re(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const{mapDeltaX:t,mapDeltaY:i,mapDeltaZ:a}=e;if(!t&&!i&&!a)return;const r=[];for(const n of this._manipulatorInfos)re(n)&&(n.manipulator.selected&&!n.manipulator.grabbing||n===e.info)&&r.push(n);this._moveVertices(r,e,1),this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){if(this._graphicMoveManipulation=new Z({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic){let e=null;this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((t,i,a)=>{i.next((e=>this._trackNumDragging(e))).next((t=>(\"start\"===t.action&&(e=p(this._editGeometryHelper).createUndoGroup()),t))).next((t=>{this._perGraphicManipulatorDragAction(0,t),\"end\"===t.action&&(e=h(e))})),a.next(this._cancelDragOperation((()=>e=h(e))))})))}else this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null}));this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\",{...e,graphic:this.graphic}),e.stopPropagation()}))]))),this._moveManipulation=new C({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&L(this.graphic),snapToScene:!1,radius:C.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this.handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const t=p(this.graphic.geometry).spatialReference;this.handles.add([this._moveManipulation.createDragPipeline(((t,i,a,r,n)=>{const o=a.next((e=>this._trackNumDragging(e))).next((e=>{const t=this._manipulatorInfos.filter((e=>re(e)&&e.manipulator.selected));return 1===e.manipulatorType&&1===t.length?{...e,info:t[0],snapOrigin:t[0].handle.pos}:{...e,info:null}})).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:e=>!!e.info,cancel:r,snappingManager:this.tool.snappingManager,snappingContext:new te({geometry:p(this._editGeometryHelper),elevationInfo:e,pointer:n,excludeFeature:this.graphic,visualizer:new P}),updatingHandles:this.updatingHandles}),this._snappingPipelineHandle.next).next(J()).next((e=>(this._perGraphicManipulatorDragAction(1,e),e)));return r.next(this._cancelDragOperation()),o}),e,t,this.graphic),d(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),d(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this.handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this.handles.remove(e)}))]),this._updateMoveManipulationPosition();const i=T({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){o(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});o(i)&&(this._outlineVisualElement=i.visualElement instanceof K?i.visualElement:null),o(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(i)}_createEdgeOffsetManipulator(e,t=O(this.graphic)){const i=U.reshapeManipulators.edgeOffset,a=i.size/2,n=a+i.collisionPadding;if(l(this._edgeOffsetManipulatorGeometryInside)||l(this._edgeOffsetManipulatorGeometryOutside)){const e=a/n,t=e*Math.sqrt(3)/2;this._edgeOffsetManipulatorGeometryInside=B.createExtrudedTriangle(t,e/2,e/2,i.height,i.offset),this._edgeOffsetManipulatorGeometryOutside=B.createExtrudedTriangle(-t,e/2,e/2,i.height,-i.offset)}const o=[{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorMaterial,stateMask:1},{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:2},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorMaterial,stateMask:1},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:2}],s=new S({view:this.view,renderObjects:o,elevationInfo:\"on-the-ground\"!==t.mode||E(this.graphic.symbol)?{mode:\"absolute-height\",offset:0}:t,worldOriented:!1,focusMultiplier:1,touchMultiplier:1,radius:n,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionType:{type:\"disc\",direction:x(0,0,1)},collisionPriority:1}),d=new S({view:this.view,renderObjects:[],worldSized:!0,worldOriented:!1,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionPriority:-10,cursor:\"default\"});d.grabbable=!1;const u={manipulator:s,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0,visibilityManipulator:d,elevationInfo:t,visibilityHandle:null},c=()=>{h(u.visibilityHandle);const e=()=>q(this._getManipulatorInfoFromHandle(u.handle.left).manipulator.renderLocation,this._getManipulatorInfoFromHandle(u.handle.right).manipulator.renderLocation,this.view.state.camera)<i.minSquaredEdgeLength;(!s.focused&&!d.focused||e())&&(s.grabbable=!1,u.visibilityHandle=r([s.disableDisplay(),{remove:()=>{s.grabbable=!0}}]))};this._manipulatorHandles.add([s.events.on(\"focus-changed\",(()=>c())),d.events.on(\"focus-changed\",(()=>c())),{remove:()=>{h(u.visibilityHandle),this.manipulators.remove(u.visibilityManipulator)}}],s),c(),this._updateEdgeOffsetManipulator(u);const m=this._getManipulatorInfoFromHandle(u.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateEdgeOffsetManipulator(u))),g=this._getManipulatorInfoFromHandle(u.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateEdgeOffsetManipulator(u)));u.locationUpdateHandle=r([m,g]),this._manipulatorHandles.add(u.locationUpdateHandle,s),this._manipulatorHandles.add(this._watchAndUpdateGrabState(s,!0),s);const _=Q(s,((e,i,a)=>{this._clearSelection();const{step:r,cleanup:n}=this._initializeEdgeOffset(u,t);i.next((e=>this._trackNumDragging(e))).next($(this.view,e.elevationAlignedLocation)).next(r).next(k(this.view)).next(j(this.view,p(this._editGeometryHelper).editGeometry.coordinateHelper.spatialReference)).next(J()).next(this._applyEdgeOffsetStep(u)).next((e=>{\"end\"===e.action&&n()})),a.next((e=>(n(),e))).next(this._cancelDragOperation())}));return this._manipulatorHandles.add(_,s),this._manipulatorHandles.add([s.events.on(\"immediate-click\",(e=>{e.shiftKey||this._clearSelection(),e.stopPropagation()})),d.events.on(\"immediate-click\",(e=>this.emit(\"immediate-click\",{...e,graphic:this.graphic})))],s),this._manipulatorInfos.push(u),this.manipulators.add(s),this.manipulators.add(d),this.emit(\"manipulators-changed\"),u}_updateEdgeOffsetManipulator(e){this._updateManipulatorPosition(e);const t=p(this._editGeometryHelper).editGeometry.coordinateHelper,i=N(this.view,e.manipulator.elevationAlignedLocation,X(t,e.handle,p(e.manipulator.elevationInfo))),a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator.renderLocation,r=this._getManipulatorInfoFromHandle(e.handle.right).manipulator.renderLocation,n=o(i)?Y(i,a,r):m;e.manipulator.modelTransform=n,e.visibilityManipulator.elevationAlignedLocation=e.manipulator.elevationAlignedLocation,e.visibilityManipulator.modelTransform=n;const s=g(_(se,a,r))/2;e.visibilityManipulator.collisionType={type:\"line\",paths:[[[-s,0,0],[s,0,0]]]}}_initializeEdgeOffset(e,t){const i=p(this._editGeometryHelper),a=X(i.editGeometry.coordinateHelper,e.handle,t),o=i.createUndoGroup(),s=N(this.view,e.manipulator.elevationAlignedLocation,a);a.requiresSplitEdgeLeft&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(e.handle.left.left),1),a.requiresSplitEdgeRight&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(e.handle.right.right),0);const d=()=>new b({paths:[[e.handle.left.pos,e.handle.right.pos]],spatialReference:p(this._editGeometryHelper).editGeometry.coordinateHelper.spatialReference}),u=new K({view:this.view,isDraped:this._graphicState.isDraped,geometry:d(),elevationInfo:e.elevationInfo,width:U.visualElements.lineGraphics.outline.width,color:U.colorToVec4(z.main),attached:!0});let c;const m=()=>{this._cleanEdgeOffsetCollapsedEdges(e),c=h(c)},g=this.on(\"undo\",m);return c=r([n(u),this._graphicState.watch(\"isDraped\",(e=>u.isDraped=e)),this._graphicState.on(\"changed\",(()=>u.geometry=d())),o,g]),{step:e=>l(a)||l(s)?(m(),null):{...e,operation:a,plane:s},cleanup:m}}_applyEdgeOffsetStep(e){return t=>{if(this.destroyed||l(t.operation))return t;this._updateEventState(2);const{mapDeltaX:i,mapDeltaY:a,mapDeltaZ:r}=t;return(i||a||r)&&(this._offsetEdge(e,t),this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})),t}}_cleanEdgeOffsetCollapsedEdges(e){var t,i;const a=null==(t=e.handle.left.left)?void 0:t.left,r=e.handle.left,n=null==(i=e.handle.right.right)?void 0:i.right,o=e.handle.right,s=p(this._editGeometryHelper).editGeometry.coordinateHelper,l=1e-6,h=[];a&&s.distance(a.pos,r.pos)<l&&h.push(this._getManipulatorInfoFromHandle(r)),(s.distance(r.pos,o.pos)<l||n&&s.distance(n.pos,o.pos)<l)&&h.push(this._getManipulatorInfoFromHandle(o)),h.length&&this._removeVertices(h)}_computeVertexManipulatorSizeAndOutline(e){const t=e.size/2,i=t+e.collisionPadding;return{size:t/i,outlineSize:(t+e.outlineSize)/i}}_createVertexOrEdgeManipulator(e,t=O(this.graphic)){if(\"edge\"===e.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(e,t);if(!this.enableMidpoints)return null}if(l(this._vertexManipulatorGeometry)||l(this._vertexManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(U.reshapeManipulators.vertex);this._vertexManipulatorGeometry=B.createSphereGeometry(e,16,16),this._vertexManipulatorOutlineGeometry=B.createSphereGeometry(t,16,16)}if(l(this._edgeManipulatorGeometry)||l(this._edgeManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(U.reshapeManipulators.edge);this._edgeManipulatorGeometry=B.createSphereGeometry(e,16,16),this._edgeManipulatorOutlineGeometry=B.createSphereGeometry(t,16,16)}const i=o(this.graphic.geometry)&&\"point\"===this.graphic.geometry.type?[]:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|le.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|le.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|le.Vertex},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}];this.enableMidpoints&&i.push({geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|le.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|le.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|le.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|le.Edge});const a=new S({view:this.view,renderObjects:i,elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(a,e,t);const n=\"edge\"===e.type?{manipulator:a,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:a,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(n),this.manipulators.add(a),this._updateManipulatorPosition(n),\"edge\"===n.type){const e=this._getManipulatorInfoFromHandle(n.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n))),t=this._getManipulatorInfoFromHandle(n.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n)));n.locationUpdateHandle=r([e,t]),this._manipulatorHandles.add(n.locationUpdateHandle,a)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(a,!0),a);const s=Q(a,((e,i,a,r)=>{let o=null;i.next((e=>this._trackNumDragging(e))).next((e=>{if(\"start\"===e.action&&(o=p(this._editGeometryHelper).createUndoGroup()),ne(n)){const t=this._splitEdgeManipulator(n);return{...e,info:t,snapOrigin:t.handle.pos}}return{...e,info:n,snapOrigin:n.handle.pos}})).next($(this.view,e.elevationAlignedLocation)).next(A(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this.isMultiVertexSelection(),cancel:a,snappingManager:this.tool.snappingManager,snappingContext:new te({geometry:p(this._editGeometryHelper),elevationInfo:t,pointer:r,excludeFeature:this.graphic,visualizer:new P}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(J()).next((e=>{this._perVertexManipulatorDragAction(e),\"end\"===e.action&&(o=h(o))})),a.next(this._cancelDragOperation((()=>o=h(o))))}));return this._manipulatorHandles.add(s,a),this._manipulatorHandles.add([a.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,n))),a.events.on(\"select-changed\",(()=>{n.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))],a),this.emit(\"manipulators-changed\"),n}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(e){return()=>{switch(this._numDragging--,this.undo(),this.outputGeometry=o(this._editGeometryHelper)?this._editGeometryHelper.geometry:null,o(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}e&&e(),this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=le.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=U.reshapeManipulators.vertex.size/2+U.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i,e.interactive=o(this.graphic.geometry)&&\"point\"!==this.graphic.geometry.type;break;case\"edge\":e.state=le.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=U.reshapeManipulators.edge.size/2+U.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"!==i.mode||E(this.graphic.symbol)?{mode:\"absolute-height\",offset:0}:i}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const t=p(this._editGeometryHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=t.editGeometry.coordinateHelper.toPoint(e.handle.pos,oe),e.manipulator.grabbing&&o(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const i=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,a=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(o(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const r=i.location,n=a.location,o=.5,s=r.x+o*(n.x-r.x),l=r.y+o*(n.y-r.y),p=r.hasZ&&n.hasZ?0:void 0;e.manipulator.location=H(s,l,p,t.geometry.spatialReference)}else v(se,i.renderLocation,a.renderLocation,.5),e.manipulator.renderLocation=se}}_splitEdgeManipulator(e,t=.5){const i=p(this._editGeometryHelper),a=p(i.splitEdge(e.handle,t).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const r=O(this.graphic);let n;this.enableEdgeOffset?(this._removeManipulator(e),n=this._createVertexOrEdgeManipulator(a)):(n=e,n.handle=a,n.type=\"vertex\",this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,r)),a.left&&this._createVertexOrEdgeManipulator(a.left),a.right&&this._createVertexOrEdgeManipulator(a.right),this.outputGeometry=i.geometry,this._updateManipulatorPosition(n),this._updateSelection(e.manipulator);const o=this._updateEventState(2),s=i.editGeometry.coordinateHelper.toArray(n.handle.pos),l=i.editGeometry.components.indexOf(a.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:p(a.index)}],added:s}),o&&this._updateEventState(0),n}_updateMoveManipulationPosition(){const e=f(se,0,0,0);let t=0,i=!1,a=null,r=null;for(const n of this._manipulatorInfos)re(n)&&(n.manipulator.selected?(t++,M(e,e,n.manipulator.renderLocation),l(a)||n.selectedIndex>a.selectedIndex?(r=a,a=n):(l(r)||n.selectedIndex>r.selectedIndex)&&(r=n)):i=!0);if(0!==t){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZVertex&&L(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==t}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZShape&&L(this.graphic)}if(0!==t){let e=0;if(o(a)){const t=a.handle.pos,i=o(r)?r.handle.pos:a.handle.left&&a.handle.left.left?a.handle.left.left.pos:null,n=!o(r)&&a.handle.right&&a.handle.right.right?a.handle.right.right.pos:null;i&&n?this._moveManipulation.xyAxisManipulation.available=!1:i?e=ae(i,t):n&&(e=ae(t,n))}this._moveManipulation.angle=e,this._moveManipulation.radius=F}else this._moveManipulation.angleDeferred=()=>R(p(this.graphic.geometry)),this._moveManipulation.radius=C.radiusForSymbol(this.graphic.symbol);0!==t&&i?(y(e,e,1/t),oe.spatialReference=p(this._editGeometryHelper).geometry.spatialReference,oe.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,oe),this._moveManipulation.elevationAlignedLocation=oe):o(this._outlineVisualElement)&&!this._graphicState.isDraped&&o(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:V(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=p(this._editGeometryHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=p(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createVertexOrEdgeManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.editGeometry.components.indexOf(e.component);return{coordinates:i.editGeometry.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:p(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_moveVertices(e,t,i=(\"start\"===t.action?0:1)){const a=p(this._editGeometryHelper);a.moveVertices(e.map((e=>e.handle)),t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i),this.outputGeometry=a.geometry;for(const r of e)this._updateManipulatorPosition(r)}_offsetEdge(e,t){if(l(t.operation))return;const i=p(this._editGeometryHelper),a=t.operation.clone();a.distance=t.operation.signedDistanceToPoint(t.mapEnd),i.updateVertices([e.handle.left,e.handle.right],a),this.outputGeometry=i.geometry,this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.left)),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.right))}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),ne(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function ae(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function re(e){return\"vertex\"===e.handle.type}function ne(e){return\"edge\"===e.handle.type}e([u({constructOnly:!0})],ie.prototype,\"tool\",void 0),e([u()],ie.prototype,\"inputGeometry\",null),e([u()],ie.prototype,\"outputGeometry\",void 0),e([u({readOnly:!0})],ie.prototype,\"updating\",null),ie=e([c(\"esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation\")],ie);const oe=H(0,0,null,null),se=G();var le;!function(e){e.Vertex=16,e.Edge=32}(le||(le={}));export{ie as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{destroyMaybe as o,isSome as n,isNone as a}from\"../../../../../core/maybe.js\";import{init as i}from\"../../../../../core/watchUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{geometryOfSupportedGraphic as h,isSupportedGraphic as l}from\"./isSupportedGraphic.js\";import{ReshapeOperation as c}from\"./ReshapeOperation.js\";import{InteractiveToolBase as d}from\"../../../../interactive/InteractiveToolBase.js\";let m=class extends(t.EventedMixin(d)){constructor(e){super(e),this._handles=new r,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZShape=!0,this.enableZVertex=!0,this.enableMoveGraphic=!0,this.enableMidpoints=!0,this.enableEdgeOffset=!1,this.type=\"reshape-3d\",this.snappingManager=null}destroy(){this._handles.removeAll(),this._reshapeOperation=o(this._reshapeOperation),this._set(\"view\",null),this._set(\"graphic\",null)}get updating(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.updating)&&e}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=h(this.graphic);this._reshapeOperation.inputGeometry=n(e)?e.clone():null}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==l(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_updateGeometryInternally(e){this._internalGeometryUpdate=!0,this.graphic.geometry=e,this._internalGeometryUpdate=!1}_onReshapeGeometryChanged(){a(this.graphic)||this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}initialize(){this._reshapeOperation=new c({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(e=>this.emit(\"immediate-click\",e))),this.view.on(\"pointer-down\",[\"Shift\"],(e=>{e.stopPropagation()})),i(this,\"graphic\",(()=>{this._updateGraphic()}),!0)]),this.complete()}get canUndo(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.canUndo)&&e}undo(){n(this.snappingManager)&&this.snappingManager.doneSnapping(),n(this._reshapeOperation.undo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}get canRedo(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.canRedo)&&e}redo(){n(this.snappingManager)&&this.snappingManager.doneSnapping(),n(this._reshapeOperation.redo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager}}};e([s()],m.prototype,\"_reshapeOperation\",void 0),e([s({constructOnly:!0,nonNullable:!0})],m.prototype,\"view\",void 0),e([s({constructOnly:!0})],m.prototype,\"graphic\",void 0),e([s({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableZShape\",void 0),e([s({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableZVertex\",void 0),e([s({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableMoveGraphic\",void 0),e([s({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableMidpoints\",void 0),e([s({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableEdgeOffset\",void 0),e([s({readOnly:!0})],m.prototype,\"type\",void 0),e([s({constructOnly:!0})],m.prototype,\"snappingManager\",void 0),e([s({readOnly:!0})],m.prototype,\"updating\",null),m=e([p(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],m);export{m as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Evented.js\";import e from\"../../../../../core/Handles.js\";import{clamp as a,rad2deg as i}from\"../../../../../core/mathUtils.js\";import{isSome as r}from\"../../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../../core/scheduling.js\";import{createScreenPointArray as s}from\"../../../../../core/screenUtils.js\";import{init as n}from\"../../../../../core/watchUtils.js\";import{i as l,c,v as h,m as d,s as g}from\"../../../../../chunks/mat4.js\";import{c as p}from\"../../../../../chunks/mat4f64.js\";import{s as u,f as m,l as f,h as M,c as D,b as S}from\"../../../../../chunks/vec3.js\";import{a as y,f as v}from\"../../../../../chunks/vec3f64.js\";import{fromPositionAndNormal as R,create as b,normal as k}from\"../../../../../geometry/support/plane.js\";import{wrap as _,distance2 as j}from\"../../../../../geometry/support/ray.js\";import{sv3d as A,sm4d as w}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as F}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as I}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as E}from\"../../manipulatorUtils.js\";import{screenToRenderPlane as P}from\"../dragEventPipeline3D.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as U,SCALE_INDICATOR_DIRECTION_BUFFER as T,RING_HEIGHT as x,ROTATE_INDICATOR_ARROW_TIP_LENGTH as L,ROTATE_INDICATOR_ARROW_TIP_RADIUS as O,RING_THICKNESS as C,DRAG_THRESHOLD_PX as G,RING_INDICATOR_DELAY_MS as H,INDICATOR_THICKNESS as q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as z,HANDLE_COLOR as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_RADIUS as K,ROTATE_INDICATOR_ARC_LENGTH as N,INNER_INDICATOR_RADIUS as Q,OUTER_INDICATOR_RADIUS as V,SCALE_INDICATOR_OFFSET1 as W,SCALE_INDICATOR_OFFSET2 as X,GEOMETRY_SEGMENTS as Y,SCALE_INDICATOR_ARC_LENGTH as Z}from\"../manipulations/config.js\";import{cyclicalPI as $}from\"../../../support/mathUtils.js\";import tt from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as et}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as at}from\"../../../../interactive/dragEventPipeline.js\";var it;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(it||(it={}));class rt{constructor(a){this.mode=null,this._handles=new e,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new t,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>r(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this.adapter.scale:1,this.tool=a.tool,this.mode=a.mode,this.adapter=a.adapter,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}get angle(){return this.adapter.angle}get scale(){return this.adapter.scale}set location(t){this.ringManipulator.location=t}set elevationAlignedLocation(t){this.ringManipulator.elevationAlignedLocation=t}get grabbing(){return this.ringManipulator.grabbing}set interactive(t){this.ringManipulator.interactive=t}destroy(){r(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=o({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){r(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,4)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const t=this.ringManipulator,e=this.tool.graphicState.graphic,o=at(t,((t,o,s)=>{this._scaleRotateDragData=null,this.adapter.restart();const n={mode:\"none\",origin:y(t.renderLocation),initialAngle:this.adapter.angle,angle:0,angleDir:0,scaleDir:0};this._scaleRotateDragData=n,this.updateDragState();const l=A.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(t.renderLocation,l),o.next(P(this.tool.view,R(t.renderLocation,l,b()))).next((t=>{const o=k(t.plane),s=E(t.renderStart,t.renderEnd,n.origin,o),l=$.shortestSignedDiff(n.angle,s);n.angleDir=a(n.angleDir+l,-U,U),n.angle=s;const c=ot(n,t),h=c-this.adapter.scale;if(n.scaleDir=a(n.scaleDir+h,-T,T),this.onScaleChanged(),\"none\"===n.mode){const a=this.mode||st(t,t.plane,n.origin,this.tool.view.state.camera);if(r(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:e,angle:0}),this.tool.emit(\"record-undo\",{record:this.adapter.createUndoRecord()});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:e,xScale:1,yScale:1}),this.tool.emit(\"record-undo\",{record:this.adapter.createUndoRecord()})}n.mode=a}}switch(n.mode){case\"rotate\":this.adapter.angle=n.initialAngle+s;break;case\"scale\":this.adapter.scale=c,this.onScaleChanged()}switch(this.updateDragState(),this.updateManipulatorTransform(),t.action){case\"start\":case\"update\":switch(n.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:e,angle:i(n.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:e,xScale:c,yScale:c})}break;case\"end\":switch(n.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:e,angle:i(n.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:e,xScale:c,yScale:c});break;default:case\"none\":}}\"end\"===t.action&&(this.startAnimation(lt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),s.next((()=>{if(this.adapter.cancel(),r(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:e,angle:0});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:e,xScale:1,yScale:1})}this.startAnimation(lt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState()}}))}));this._handles.add(o),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(ct(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),n(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t))])}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(it.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(it.Unlocked,!(r(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),r(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(it.ScaleIn|it.ScaleOut,!1),this.ringManipulator.updateStateEnabled(it.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(it.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(it.RotateLeft|it.RotateRight,!1),this.ringManipulator.updateStateEnabled(it.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(it.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(it.ScaleIn|it.ScaleOut|it.RotateLeft|it.RotateRight,!1)}updateManipulatorTransform(){const t=l(w.get()),e=this.adapter.angle;c(t,t,e,v(0,0,1));const a=this.getScale(),i=h(w.get(),u(A.get(),a,a,a)),r=l(w.get());d(r,i,t),this.ringManipulator.modelTransform=r}createRingManipulator(){const t=(t,e,a)=>{const i=[],r=Math.ceil(Y*(e-t)/(2*Math.PI));for(let o=0;o<r+1;o++){const s=t+o*(e-t)/r;i.push(v(a*Math.cos(s),a*Math.sin(s),0))}return i},e=e=>t(0,2*Math.PI,e),a=t=>[[-t/2,0],[t/2,0],[t/2,x/2],[-t/2,x/2]],i=(t,e)=>tt.createPathExtrusionGeometry(a(e),t,[],[],!1),r=e(K),o=i(r,C),s={left:[],right:[]},n=[];for(let v=0;v<2;v++){const e=v*Math.PI-Math.PI/4,a=Math.PI/2-N,r=e+a,o=e+Math.PI/2-a,l=t(r,o,Q),h=i(l,q);n.push(l),n.push(t(r,o,V-C/2)),s.left.push(h),s.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=p();if(e){g(a,a,[1,-1,1]),c(a,a,-r,[0,0,1]);const t=Math.round(z*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}else{c(a,a,o,[0,0,1]);const t=Math.round((1-z)*(l.length-1));a[12]=l[t][0],a[13]=l[t][1],a[14]=l[t][2]}const i=tt.createExtrudedTriangle(L,0,O,x);tt.transformInPlace(i,a),(e?s.left:s.right).push(i)}}const l=[];for(let c=0;c<2;c++){const e=c*Math.PI-Math.PI/4,a=Math.PI/2-Z,r=e+a,o=e+Math.PI/2-a,s=t(r,o,V);l.push(i(s,q))}const h=e(K+W),d=e(K+X),u=i(h,q),m=i(d,q),f=e(K-W),M=e(K-X),D=i(f,q),S=i(M,q),y=this.createMaterial(),R=this.createMaterial(.66),b=this.createMaterial(.5),k=this.createMaterial(.33);let _=[{geometry:o,material:y,stateMask:it.DelayedFocused},{geometry:o,material:b,stateMask:0}];this.mode&&\"scale\"!==this.mode||(_=_.concat([{geometry:l,material:y,stateMask:it.DelayedFocused|it.Unlocked},{geometry:u,material:R,stateMask:it.DelayedFocused|it.ScaleIn},{geometry:m,material:k,stateMask:it.DelayedFocused|it.ScaleIn},{geometry:D,material:R,stateMask:it.DelayedFocused|it.ScaleOut},{geometry:S,material:k,stateMask:it.DelayedFocused|it.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(_=_.concat([{geometry:s.right,material:y,stateMask:it.DelayedFocused|it.Unlocked},{geometry:s.left,material:y,stateMask:it.DelayedFocused|it.RotateLeft},{geometry:s.right,material:y,stateMask:it.DelayedFocused|it.RotateRight}]));const j=[r,...n];return new I({view:this.tool.view,renderObjects:_,autoScaleRenderObjects:!1,worldOriented:!0,radius:C,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:F(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:j,direction:v(0,0,1)}})}createMaterial(t=1){const e=[...B,t];return new et({color:e,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{ringManipulator:this.ringManipulator}}}function ot(t,e){const a=m(A.get(),e.renderStart,t.origin),i=m(A.get(),e.renderEnd,t.origin),r=f(a),o=f(i);return 0===r?0:o/r}function st(t,e,a,i){const{renderStart:r,renderEnd:o}=t,s=nt(r,i,A.get()),n=nt(o,i,A.get());if(M(s,n)<G*G)return null;const l=m(A.get(),r,a),c=D(A.get(),l,k(e)),h=r,d=S(A.get(),h,c),g=nt(a,i,A.get()),p=s,u=nt(d,i,A.get()),f=m(A.get(),u,p),y=m(A.get(),s,g),v=_(p,f),R=_(g,y);return j(v,n)<j(R,n)?\"rotate\":\"scale\"}function nt(t,e,a){return e.projectToScreen(t,ht),u(a,ht[0],ht[1],0)}function lt(t,e){let a=null,i=1;const r=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=r,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}function ct(t,e){let a=0,i=null;const r=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=r,a=0,e()},update:t=>(a+=t,!i()||a>H?1:0),destroy:()=>{t.getFocused=i,e()}}}const ht=s();export{rt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,none as t}from\"../../../../../core/maybe.js\";function r(t){return e(t.geometry)&&\"mesh\"===t.geometry.type?o(t.geometry):n(t)}function o(t){return e(t.transform)?m(t,t.transform):i(t)}function n(e){let r=e.geometry,o=t;return{undo(e){o=e.geometry,e.geometry=r},redo(e){r=e.geometry,e.geometry=o}}}function m(t,r){let o=r.clone(),n=null;return{undo:r=>{n=e(t.transform)?t.transform.clone():null,t.transform=o,r.notifyGeometryChanged()},redo:r=>{o=e(t.transform)?t.transform.clone():null,t.transform=n,r.notifyGeometryChanged()}}}function i(e){let t,r=e.vertexAttributes.clonePositional();return{undo:o=>{t=e.vertexAttributes.clonePositional(),e.vertexAttributes=r,o.notifyGeometryChanged()},redo:o=>{r=e.vertexAttributes.clonePositional(),e.vertexAttributes=t,o.notifyGeometryChanged()}}}export{r as createGraphicGeometryUndoRecord};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{deg2rad as s,rad2deg as o}from\"../../../../../core/mathUtils.js\";import{isSome as r}from\"../../../../../core/maybe.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{reaction as c}from\"../../../../../core/accessorSupport/trackingUtils.js\";import{axis as n,angle as p}from\"../../../../../geometry/support/axisAngleDegrees.js\";import{createGraphicGeometryUndoRecord as h}from\"./undoRecords.js\";let l=class extends t{constructor(e){super(e),this.angle=0,this.scale=1,this.initialAngle=0,this.previousAngle=0,this.previousScale=1}initialize(){this.restart()}restart(){this.handles.remove(g);const e=this.geometry.transform;if(this.scale=1,r(e)){const t=n(e.rotation)[2];Math.abs(t)>.999999&&(this.angle=s(p(e.rotation))*Math.sign(t))}this.initialAngle=this.angle,this.previousAngle=this.angle,this.previousScale=this.scale,this.handles.add(c((()=>({angle:this.angle,scale:this.scale})),(e=>this.update(e))),g)}cancel(){this.scale=1,this.angle=this.initialAngle}createUndoRecord(){return h(this.graphic)}update({scale:e,angle:t}){const s=this.geometry.anchor,r=1===this.viewingMode;e!==this.previousScale&&(this.geometry.scale(e/this.previousScale,{origin:s,geographic:r}),this.previousScale=e,this.graphic.notifyGeometryChanged()),t!==this.previousAngle&&(this.geometry.rotate(0,0,o(t-this.previousAngle),{origin:s,geographic:r}),this.previousAngle=t,this.graphic.notifyGeometryChanged())}};e([i({constructOnly:!0})],l.prototype,\"graphic\",void 0),e([i({constructOnly:!0})],l.prototype,\"geometry\",void 0),e([i({constructOnly:!0})],l.prototype,\"viewingMode\",void 0),e([i()],l.prototype,\"angle\",void 0),e([i()],l.prototype,\"scale\",void 0),l=e([a(\"esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateMeshAdapter\")],l);const g=\"scale-heading-update-key\";export{l as ScaleRotateMeshAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as e}from\"../../../../../core/HandleOwner.js\";import{deg2rad as s,rad2deg as i}from\"../../../../../core/mathUtils.js\";import{isSome as o,none as r,isNone as a,unwrapOr as l}from\"../../../../../core/maybe.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{reaction as n}from\"../../../../../core/accessorSupport/trackingUtils.js\";let p=class extends e{constructor(t){super(t),this.angle=0,this.scale=1,this.symbol=null,this.initialAngle=0}initialize(){this.restart()}restart(){this.handles.remove(y);const t=o(this.graphic.symbol)&&\"point-3d\"===this.graphic.symbol.type?this.graphic.symbol:r;if(this.symbol=o(t)?t.clone():null,this.initialSizes=[],o(t)){const e=this.findLayerView();o(e)&&(this.initialSizes=t.symbolLayers.map((s=>\"object\"===s.type?e.getSymbolLayerSize(t,s):null)).toArray())}this.angle=0,o(t)&&t.symbolLayers.some((t=>!(\"object\"!==t.type||!o(t.heading))&&(this.angle=-s(t.heading),!0))),this.initialAngle=this.angle,this.scale=1,this.handles.add(n((()=>({angle:this.angle,scale:this.scale})),(t=>this.updateSymbol(t))),y)}cancel(){this.graphic.symbol=this.symbol}createUndoRecord(){let t=this.graphic.symbol,e=null;return{undo:s=>{e=s.symbol,s.symbol=t,this.restart()},redo:s=>{t=s.symbol,s.symbol=e,this.restart()}}}updateSymbol({scale:t,angle:e}){const s=this.graphic.symbol;if(a(this.symbol)||a(s)||\"point-3d\"!==s.type)return;const r=s.clone(),h=-i(e-this.initialAngle);let c=!1;this.forEachObjectSymbolLayerPair(this.symbol,r,((e,s,i)=>{const r=l(e.heading,0)+h;s.heading!==r&&(s.heading=r,c=!0);const a=this.initialSizes[i];if(o(a)&&\"width\"in a){a.width=this.sizeFilter(a.width),a.height=this.sizeFilter(a.height),a.depth=this.sizeFilter(a.depth);const e=a.width*t;s.width!==e&&(s.width=e,c=!0);const i=a.depth*t;s.depth!==i&&(s.depth=i,c=!0);const o=a.height*t;s.height!==o&&(s.height=o,c=!0)}})),c&&(this.graphic.symbol=r)}forEachObjectSymbolLayerPair(t,e,s){t.symbolLayers.forEach(((t,i)=>{const o=e.symbolLayers.getItemAt(i);\"object\"===t.type&&\"object\"===o.type&&s(t,o,i)}))}};t([h()],p.prototype,\"angle\",void 0),t([h()],p.prototype,\"scale\",void 0),t([h({constructOnly:!0})],p.prototype,\"graphic\",void 0),t([h()],p.prototype,\"symbol\",void 0),t([h({constructOnly:!0})],p.prototype,\"findLayerView\",void 0),t([h({constructOnly:!0})],p.prototype,\"sizeFilter\",void 0),p=t([c(\"esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateObjectSymbol3DAdapter\")],p);const y=\"scale-heading-update-key\";export{p as ScaleRotateObjectSymbol3DAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Evented.js\";import{HandleOwnerMixin as a}from\"../../../../../core/HandleOwner.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{isSome as o,isNone as n,destroyMaybe as s}from\"../../../../../core/maybe.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../../geometry/Point.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as c}from\"../../Manipulator3D.js\";import{placeAtGraphic as m}from\"../../manipulatorUtils.js\";import{SnappingPipeline as d}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as g}from\"../../SnappingVisualizer3D.js\";import{canMoveZ as u}from\"../manipulatorUtils.js\";import{createVisualElements as v}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as M}from\"../manipulations/config.js\";import{MoveManipulation as y}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as f}from\"./GraphicScaleRotateTransform.js\";import{ScaleRotateMeshAdapter as S}from\"./ScaleRotateMeshAdapter.js\";import{ScaleRotateObjectSymbol3DAdapter as R}from\"./ScaleRotateObjectSymbol3DAdapter.js\";import{createGraphicGeometryUndoRecord as w}from\"./undoRecords.js\";import{GraphicState as b}from\"../../../layers/graphics/GraphicState.js\";import{InteractiveToolBase as j}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryHelper as A}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as x}from\"../../../../interactive/snapping/SnappingContext.js\";let G=class extends(a(e.EventedMixin(j))){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.scaleRotate=null,this.snappingPipeline=new d}initialize(){this.graphicState=new b({graphic:this.graphic}),this.moveManipulation=new y({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&u(this.graphic),radius:y.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:this.graphicState.graphic}),t.stopPropagation()}))))),this.moveManipulation.elevationInfo=h(this.graphic);const t=this.graphic.geometry;if(this.moveManipulation.createGraphicDragPipeline(((e,a,i,n,s)=>(o(t)&&0===e&&(i=i.next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new x({elevationInfo:h(this.graphic),pointer:s,geometry:A.fromGeometry(new p({spatialReference:t.spatialReference}),this.view.viewingMode),visualizer:new g,excludeFeature:this.graphic}),snappingManager:this.snappingManager,updatingHandles:this.updatingHandles,cancel:n}),this.snappingPipeline.next)),i)),this.graphicState,(t=>{const{action:e,graphic:a,dxScreen:i,dyScreen:o}=t,n={graphic:a,dxScreen:i,dyScreen:o};switch(e){case\"start\":this.emit(\"graphic-translate-start\",n),this.emit(\"record-undo\",{record:this.createGeometryUndoRecord()});break;case\"update\":this.emit(\"graphic-translate\",n);break;case\"end\":this.emit(\"graphic-translate-stop\",n)}})),this.moveManipulation.angle=o(this.scaleRotate)?this.scaleRotate.angle:0,this.scaleRotateAdapter=this.createScaleRotateAdapter(),this.handles.add(this.scaleRotateAdapter.watch(\"angle\",(()=>this.updateMoveAngle()))),this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new f({tool:this,mode:t,adapter:this.scaleRotateAdapter}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([v({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>i()}),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged(),this.updateMoveAngle(),this.forEachManipulator((t=>{t instanceof c&&this.handles.add(t.events.on(\"grab-changed\",(()=>this.updateManipulatorsInteractive())))})),this.complete()}updateManipulatorsInteractive(){n(this.scaleRotate)||(this.scaleRotate.interactive=!this.moveManipulation.grabbing,this.moveManipulation.interactive=!this.scaleRotate.grabbing)}createScaleRotateAdapter(){return o(this.graphic.geometry)&&\"mesh\"===this.graphic.geometry.type?new S({graphic:this.graphic,geometry:this.graphic.geometry,viewingMode:this.view.state.viewingMode}):new R({graphic:this.graphic,sizeFilter:t=>this.enforceNonZeroSize(t),findLayerView:()=>this.view.allLayerViews.find((t=>t.layer===this.graphic.layer))})}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),o(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((e=>e.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&u(this.graphic)}))}createGeometryUndoRecord(){return w(this.graphic)}destroy(){this.moveManipulation.destroy(),this.scaleRotate=s(this.scaleRotate),this.scaleRotateAdapter=s(this.scaleRotateAdapter),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get updating(){return this.updatingHandles.updating}set location(t){this.moveManipulation.location=t,o(this.scaleRotate)&&(this.scaleRotate.location=t)}set elevationAlignedLocation(t){this.moveManipulation.elevationAlignedLocation=t,o(this.scaleRotate)&&(this.scaleRotate.elevationAlignedLocation=t)}reset(){}onDetach(){o(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){o(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(n(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<M?this.moveManipulation.angle=this.scaleRotateAdapter.angle:this.moveManipulation.angle=0}onGeometryChanged(){m(this.view,this,this.graphic)}enforceNonZeroSize(t){return t||this.view.state.camera.computeRenderPixelSizeAt(this.moveManipulation.renderLocation)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,zManipulator:this.moveManipulation.zManipulation.test.manipulator,ringManipulator:o(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([r({constructOnly:!0,nonNullable:!0})],G.prototype,\"view\",void 0),t([r({constructOnly:!0,nonNullable:!0})],G.prototype,\"graphic\",void 0),t([r({constructOnly:!0,nonNullable:!0})],G.prototype,\"enableZ\",void 0),t([r()],G.prototype,\"enableRotation\",void 0),t([r()],G.prototype,\"enableScaling\",void 0),t([r({value:!1})],G.prototype,\"snapToScene\",null),t([r({constructOnly:!0})],G.prototype,\"snappingManager\",void 0),t([r({readOnly:!0})],G.prototype,\"type\",void 0),t([r({readOnly:!0})],G.prototype,\"updating\",null),G=t([l(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],G);export{G as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport o from\"../../../../../core/has.js\";import{deg2rad as t}from\"../../../../../core/mathUtils.js\";const r=o(\"mac\")?\"Meta\":\"Control\",s=\"Shift\",a=2,c=1.15,m=1.15,h=1.1,e=2500,i=.02,f=Math.cos(t(45)),p=Math.cos(t(5)),M=.95,j=.3,l=.7,n=[1,.5,0],x=2,C=1,S=[...n,l],U=[0,0,0,.04],b=[...n,.5],d=[...n,1],g=[1,1,1,1],k=[1,.8,.6,1],q=[1,.93,.86,1],u=[...n,1],v=[...n,1],w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=4,F=1,G=.3,H=6,I=4,J=12,K=40,L=27,N=1600,O=.4;export{a as DISPLAY_FOCUS_MULTIPLIER,b as GRID_COLOR,n as HANDLE_COLOR,l as HANDLE_OPACITY,i as INITIAL_DEPTH_OFFSET_FRAC,O as INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION,U as PLANE_BACKGROUND_COLOR,N as PLANE_MIN_BASIS_SCREEN_LEN2,S as PLANE_OUTLINE_COLOR,C as PLANE_OUTLINE_WIDTH,x as PLANE_PREVIEW_OUTLINE_WIDTH,e as POINTER_MOVE_TIMER_MS,M as PREVIEW_FADE_DOT_THRESHOLD,j as PREVIEW_FADE_DURATION_SECONDS,H as RESIZE_HANDLE_CORNER_INPUT_RADIUS,E as RESIZE_HANDLE_CORNER_WIDTH,I as RESIZE_HANDLE_EDGE_INPUT_RADIUS,G as RESIZE_HANDLE_EDGE_PADDING_FRAC,F as RESIZE_HANDLE_EDGE_WIDTH,d as ROTATE_HEADING_CALLOUT_COLOR,L as ROTATE_HEADING_DISC_RADIUS,h as ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,K as ROTATE_HEADING_OFFSET_DISTANCE,J as ROTATE_HEADING_TIP_LENGTH,k as SHIFT_RESTART_ARROW_CAP_COLOR,B as SHIFT_RESTART_ARROW_LENGTH,D as SHIFT_RESTART_ARROW_OUTLINE_WIDTH,g as SHIFT_RESTART_ARROW_TIP_COLOR,u as SHIFT_RESTART_CALLOUT_COLOR,A as SHIFT_RESTART_OFFSET_DISTANCE,v as SHIFT_RESTART_OUTLINE_COLOR,m as SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,z as SHIFT_RESTART_TIP_LENGTH,y as SHIFT_RESTART_TIP_RADIUS,q as SHIFT_RESTART_TUBE_COLOR,c as SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,w as SHIFT_RESTART_TUBE_RADIUS,p as SMALL_ANGLE_DOT_THRESHOLD,f as VERTICAL_DOT_THRESHOLD,r as forceHorizontalModifier,s as forceVerticalModifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{i as r,t as s}from\"../../../../chunks/mat4.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{s as o}from\"../../../../chunks/vec3.js\";import{Z as n,c as l}from\"../../../../chunks/vec3f64.js\";import{g as h,c as a}from\"../../../../chunks/vec4.js\";import{f as p,c as d,a as f}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as _}from\"./Object3DVisualElement.js\";import{createGeometry as c}from\"../../layers/graphics/lineUtils.js\";import{RibbonLineMaterial as u}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class m extends _{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=p(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stippleIntegerRepeats=!1,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromExtent(e){const t=this.view.spatialReference,r=l(),s=l(),i=100,n=[];o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,o=.5,n=l(),h=l(),a=l(),p=l();n[0]=r[0]-s[0]*o-i[0]*o,n[1]=r[1]-s[1]*o-i[1]*o,n[2]=r[2]-s[2]*o-i[2]*o,h[0]=r[0]-s[0]*o+i[0]*o,h[1]=r[1]-s[1]*o+i[1]*o,h[2]=r[2]-s[2]*o+i[2]*o,a[0]=r[0]+s[0]*o+i[0]*o,a[1]=r[1]+s[1]*o+i[1]*o,a[2]=r[2]+s[2]*o+i[2]*o,p[0]=r[0]+s[0]*o-i[0]*o,p[1]=r[1]+s[1]*o-i[1]*o,p[2]=r[2]+s[2]*o-i[2]*o,t.push([n[0],n[1],n[2]]),t.push([h[0],h[1],h[2]]),t.push([a[0],a[1],a[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;r(g),s(g,g,t),this.transform=g;const{points:i}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[i]}setGeometryFromSegments(e,t=n){r(g),s(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(a(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&h(r,this._innerColor)||(this._innerColor=a(d(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!h(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?f(r):null,this._updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){this._stippleIntegerRepeats!==e&&(this._stippleIntegerRepeats=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new u(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=c(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameterValues(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=i();export{m as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{bindProjectionMatrix as r,bindView as e}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as a}from\"../lib/Program.js\";import{S as s}from\"../../../../chunks/SlicePlaneMaterial.glsl.js\";import{makePipelineState as l,separateBlendingParams as n,defaultColorWriteParams as m}from\"../../../webgl/renderState.js\";class d extends o{initializeProgram(r){const e=d.shader.get().build();return new a(r.rctx,e,t)}bindPass(e,i){r(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"backgroundColor\",e.backgroundColor),this.program.setUniform4fv(\"gridColor\",e.gridColor),this.program.setUniform1f(\"gridWidth\",e.gridWidth)}bindDraw(r){e(this.program,r),this.program.rebindTextures()}initializePipeline(){return l({blending:n(1,1,771,771),depthTest:{func:513},colorWrite:m})}}d.shader=new i(s,(()=>import(\"./SlicePlaneMaterial.glsl.js\")));export{d as SlicePlaneMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{autoDispose as r}from\"../lib/AutoDisposable.js\";import e from\"../lib/GLMaterial.js\";import{Material as i,materialParametersDefaults as s}from\"../lib/Material.js\";import{DefaultBufferWriter as o,PositionUVLayout as a}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as n}from\"./internal/MaterialUtil.js\";import{SlicePlaneMaterialTechnique as u}from\"../shaders/SlicePlaneMaterialTechnique.js\";class l extends i{constructor(t){super(t,m)}intersect(t,r,e,i,s,o,a){return n(t,r,i,s,o,void 0,a)}createBufferWriter(){return new o(a)}getGLMaterial(t){return 0===t.output?new c(t):void 0}}class c extends e{constructor(t){super(t),this._technique=new u(this._techniqueRep.constructionContext,null),this.updateParameters()}updateParameters(){}beginSlot(t){return 8===t}bind(t){this._technique.bindPass(this._material.params,t)}}t([r()],c.prototype,\"_technique\",void 0);const m={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...s};export{l as SlicePlaneMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../../../core/maybe.js\";import{c as e}from\"../../../../chunks/vec4.js\";import{f as t}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as i}from\"./Object3DVisualElement.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{SlicePlaneMaterial as s}from\"../../webgl-engine/materials/SlicePlaneMaterial.js\";class d extends i{constructor(r){super(r),this._material=null,this._renderOccluded=4,this._gridWidth=1,this._gridColor=t(1,0,0,1),this._backgroundColor=t(1,0,0,1),this.applyProps(r)}get renderOccluded(){return this._renderOccluded}set renderOccluded(r){r!==this._renderOccluded&&(this._renderOccluded=r,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(r){this._gridWidth!==r&&(this._gridWidth=r,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(r){e(this._gridColor,r),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){e(this._backgroundColor,r),this._updateMaterial()}createExternalResources(){this._material=new s(this.materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){r(this._material)&&e(this._material)}createGeometries(e){if(r(this._material)){const r=a.createSquareGeometry();e.addGeometry(r,this._material)}}get materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){r(this._material)&&this._material.setParameterValues(this.materialParameters)}}export{d as SlicePlaneVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{bindSliceUniformsWithOrigin as t}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindMultipassTerrainTexture as r}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as i,bindView as s}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as a}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as n,parameter as l}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as p}from\"../lib/DefaultVertexAttributeLocations.js\";import{OITBlending as c,OITDepthTest as u,OITDepthWrite as d,getOITPolygonOffset as h}from\"../lib/OrderIndependentTransparency.js\";import{Program as m}from\"../lib/Program.js\";import{stencilWriteMaskOn as b,stencilToolMaskBaseParams as f,stencilBaseAllZerosParams as g}from\"../lib/StencilUtils.js\";import{I as y}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as T,cullingParams as P,defaultDepthWriteParams as v,defaultColorWriteParams as j,simpleBlendingParams as S}from\"../../../webgl/renderState.js\";class E extends o{initializeProgram(e){const t=E.shader.get(),r=this.configuration,i=t.build({output:r.output,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,OITEnabled:0===r.transparencyPassType,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new m(e.rctx,i,p)}bindPass(e,t){i(this.program,t.camera.projectionMatrix),this.program.setUniform1f(\"opacity\",e.opacity),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),r(this.program,t))}bindDraw(e){s(this.program,e),t(this.program,this.configuration,e),this.program.rebindTextures()}setPipelineState(e,t){const r=this.configuration,i=3===e,s=2===e;return T({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?w:c(e),culling:P(r.cullFace),depthTest:{func:u(e)},depthWrite:i?r.writeDepth&&v:d(e),colorWrite:j,stencilWrite:r.sceneHasOcludees?b:null,stencilTest:r.sceneHasOcludees?t?f:g:null,polygonOffset:i||s?null:h(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}E.shader=new a(y,(()=>import(\"./ImageMaterial.glsl.js\")));const w=S(1,771);class O extends n{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([l({count:8})],O.prototype,\"output\",void 0),e([l({count:3})],O.prototype,\"cullFace\",void 0),e([l()],O.prototype,\"slicePlaneEnabled\",void 0),e([l()],O.prototype,\"transparent\",void 0),e([l()],O.prototype,\"enableOffset\",void 0),e([l()],O.prototype,\"writeDepth\",void 0),e([l()],O.prototype,\"sceneHasOcludees\",void 0),e([l({count:4})],O.prototype,\"transparencyPassType\",void 0),e([l()],O.prototype,\"multipassTerrainEnabled\",void 0),e([l()],O.prototype,\"cullAboveGround\",void 0);export{E as ImageMaterialTechnique,O as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{clone as e}from\"../../core/lang.js\";import{isSome as i}from\"../../core/maybe.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as h}from\"../../core/accessorSupport/ensureType.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import{cyclicalDeg as n}from\"../../views/3d/support/mathUtils.js\";import m from\"../../geometry/Point.js\";var l;let c=l=class extends o{constructor(t){super(t),this.type=\"plane\",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}clone(){return new l({position:e(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})}equals(t){return this.heading===t.heading&&this.tilt===t.tilt&&i(this.position)&&i(t.position)&&this.position.equals(t.position)&&this.width===t.width&&this.height===t.height}};t([r({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,\"type\",void 0),t([r({type:m}),a()],c.prototype,\"position\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),a(),s((t=>n.normalize(h(t),0,!0)))],c.prototype,\"heading\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),a(),s((t=>n.normalize(h(t),0,!0)))],c.prototype,\"tilt\",void 0),t([r({type:Number,nonNullable:!0}),a()],c.prototype,\"width\",void 0),t([r({type:Number,nonNullable:!0}),a()],c.prototype,\"height\",void 0),c=l=t([p(\"esri.widgets.Slice.SlicePlane\")],c);var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterialTexture.js\";import{Material as t,materialParametersDefaults as i}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as s}from\"../lib/OrderIndependentTransparency.js\";import{DefaultBufferWriter as a,PositionUVLayout as r}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as n}from\"./internal/MaterialUtil.js\";import{ImageMaterialTechniqueConfiguration as u,ImageMaterialTechnique as h}from\"../shaders/ImageMaterialTechnique.js\";class c extends t{constructor(e){super(e,p),this.supportsEdges=!0,this.techniqueConfig=new u}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.enableOffset=!t||t.camera.relativeElevation<s,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!!t&&t.cullAboveGround,this.techniqueConfig}intersect(e,t,i,s,a,r,u){n(e,t,s,a,r,void 0,u)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new l(e):void 0}createBufferWriter(){return new a(r)}}class l extends e{constructor(e){super({...e,...e.material.params}),this.updateParameters()}updateParameters(e){const t=this._material.params;this.updateTexture(t.textureId),this._technique=this._techniqueRep.releaseAndAcquire(h,this._material.getTechniqueConfig(this._output,e),this._technique)}beginSlot(e){if(4===this._output)return 3===e;return e===(this._technique.configuration.transparent?this._technique.configuration.writeDepth?5:8:3)}_updateOccludeeState(e){e.hasOccludees!==this._material.params.sceneHasOcludees&&(this._material.setParameterValues({sceneHasOcludees:e.hasOccludees}),this.updateParameters(e))}ensureParameters(e){0!==this._output&&7!==this._output||this._updateOccludeeState(e),this.updateParameters(e)}bind(e){this.bindTextures(this._technique.program),this.bindTextureScale(this._technique.program),this._technique.bindPass(this._material.params,e)}getPipelineState(e,t){return this._technique.getPipelineState(t)}}const p={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,...i};export{c as ImageMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../../geometry.js\";import{neverReached as e}from\"../../../../../core/compilerUtils.js\";import t from\"../../../../../core/Logger.js\";import{rad2deg as s,deg2rad as i}from\"../../../../../core/mathUtils.js\";import{isSome as r,isNone as o}from\"../../../../../core/maybe.js\";import{castRenderScreenPointArray3 as n}from\"../../../../../core/screenUtils.js\";import{r as a,i as c,s as l,m,b as g,t as d,w as u}from\"../../../../../chunks/mat4.js\";import{c as p}from\"../../../../../chunks/mat4f64.js\";import{r as f}from\"../../../../../chunks/quat.js\";import{a as b,g as h,d as w,c as y,n as j,b as M,l as k,f as P,p as v,s as O}from\"../../../../../chunks/vec3.js\";import{a as T,c as U,f as R}from\"../../../../../chunks/vec3f64.js\";import{r as S,f as L,a as A,n as E,u as F,i as G}from\"../../../../../chunks/boundedPlane.js\";import{fromVectorsAndPoint as C,fromPositionAndNormal as I}from\"../../../../../geometry/support/plane.js\";import{create as x}from\"../../../../../geometry/support/ray.js\";import{angleAroundAxis as z}from\"../../../../../geometry/support/vector.js\";import{sv3d as D,sm4d as B,sq4d as V}from\"../../../../../geometry/support/vectorStacks.js\";import{Manipulator3D as q}from\"../../Manipulator3D.js\";import{calculateTranslateRotateFromBases as H}from\"../../manipulatorUtils.js\";import{SMALL_ANGLE_DOT_THRESHOLD as N,RESIZE_HANDLE_EDGE_PADDING_FRAC as W,PLANE_MIN_BASIS_SCREEN_LEN2 as $,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as J,SHIFT_RESTART_OFFSET_DISTANCE as K,SHIFT_RESTART_ARROW_TIP_COLOR as Q,SHIFT_RESTART_ARROW_CAP_COLOR as X,SHIFT_RESTART_TUBE_COLOR as Y,SHIFT_RESTART_OUTLINE_COLOR as Z,SHIFT_RESTART_CALLOUT_COLOR as _,SHIFT_RESTART_TIP_RADIUS as ee,ROTATE_HEADING_CALLOUT_COLOR as te,PLANE_OUTLINE_COLOR as se,PLANE_OUTLINE_WIDTH as ie,PLANE_BACKGROUND_COLOR as re,GRID_COLOR as oe,RESIZE_HANDLE_CORNER_INPUT_RADIUS as ne,RESIZE_HANDLE_EDGE_INPUT_RADIUS as ae,ROTATE_HEADING_TIP_LENGTH as ce,VERTICAL_DOT_THRESHOLD as le,SHIFT_RESTART_TUBE_RADIUS as me,SHIFT_RESTART_TIP_LENGTH as ge,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as de,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as ue,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as pe,ROTATE_HEADING_OFFSET_DISTANCE as fe,ROTATE_HEADING_DISC_RADIUS as be,ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER as he,HANDLE_COLOR as we,DISPLAY_FOCUS_MULTIPLIER as ye,RESIZE_HANDLE_EDGE_WIDTH as je,SHIFT_RESTART_ARROW_LENGTH as Me,RESIZE_HANDLE_CORNER_WIDTH as ke}from\"./sliceToolConfig.js\";import{LineVisualElement as Pe}from\"../../visualElements/LineVisualElement.js\";import{SlicePlaneVisualElement as ve}from\"../../visualElements/SlicePlaneVisualElement.js\";import{fromRender as Oe}from\"../../../support/geometryUtils/ray.js\";import{Geometry as Te}from\"../../../webgl-engine/lib/Geometry.js\";import Ue from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as Re}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{ImageMaterial as Se}from\"../../../webgl-engine/materials/ImageMaterial.js\";import{NativeLineMaterial as Le}from\"../../../webgl-engine/materials/NativeLineMaterial.js\";import{RibbonLineMaterial as Ae}from\"../../../webgl-engine/materials/RibbonLineMaterial.js\";import Ee from\"../../../../../widgets/Slice/SlicePlane.js\";import Fe from\"../../../../../geometry/Point.js\";const Ge=t.getLogger(\"esri.views.3d.interactive.analysisTools.slice.sliceToolUtils\");function Ce(e,t,s,i,r,o,n,a){return Ie(t,n.worldUpAtPosition(e,D.get()),r,o,a.basis1,a.basis2),b(a.basis1,a.basis1,s),b(a.basis2,a.basis2,i),h(a.origin,e),C(a.basis2,a.basis1,a.origin,a.plane),a}function Ie(e,t,s,i,r,o){const n=w(e,t),a=D.get(),c=D.get();switch(0===i?Math.abs(n)>le?1:2:i){case 2:{const i=Math.abs(n)<=N?e:s.viewUp;y(a,i,t),h(c,t);break}case 1:y(a,s.viewUp,t),y(c,t,a);break;case 3:{const i=Math.abs(n)<=N?t:s.viewUp;y(a,i,e),y(c,e,a);break}}const l=y(D.get(),a,c);w(l,s.viewForward)>0&&b(c,c,-1),j(r,a),j(o,c)}function xe(e,t,s){const i=t.worldUpAtPosition(e.origin,D.get()),r=e.basis1,o=ct(e,i),n=Math.round(o/ft)*ft;return S(e,n-o,r,s)}function ze(e,t,s,i,r,o){const n=h(D.get(),r.origin);M(n,n,b(D.get(),r.basis1,e.direction[0]<0?1:-1)),M(n,n,b(D.get(),r.basis2,e.direction[1]<0?1:-1));const a=k(r.basis1),c=k(r.basis2),l=P(D.get(),s,n),m=P(D.get(),t,n);let g=0,d=0;if(Ze(e)){const t=Ye(r),s=Ye(o);g=a-.5*e.direction[0]*w(r.basis1,m)/a,d=c-.5*e.direction[1]*w(r.basis2,m)/c;const i=s/t;g*=i,d*=i}const u=g+.5*e.direction[0]*w(r.basis1,l)/a,p=d+.5*e.direction[1]*w(r.basis2,l)/c,f=b(D.get(),r.basis1,u/a),y=b(D.get(),r.basis2,p/c);(u<=0||Qe(o.origin,f,i)<=$)&&h(f,o.basis1),(p<=0||Qe(o.origin,y,i)<=$)&&h(y,o.basis2);const j=h(D.get(),n);return M(j,j,b(D.get(),f,e.direction[0]<0?-1:1)),M(j,j,b(D.get(),y,e.direction[1]<0?-1:1)),L(j,f,y,o)}function De(e,t){return J*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function Be(e,t,s,i){const r=y(D.get(),t,s);return y(r,r,t),I(e,r,i)}function Ve(e,t){return H(e.basis1,e.basis2,e.origin,t)}function qe(e,t,s,i){const r=t.worldUpAtPosition(e.origin,D.get()),o=D.get();switch(s){case 1:h(o,r);break;case 2:h(o,e.basis1)}return I(e.origin,o,i)}function He(e,t,s,i){const r=Ke(s,2),o=B.get();a(o,t,r.edge*Math.PI/2);const c=j(D.get(),r.basis);let l=b(D.get(),c,r.direction*i.computeScreenPixelSizeAt(r.position)*K);M(l,l,r.position);const m=i.projectToRenderScreen(l,n(D.get())),g=Ne(i,m);Oe(i,m,pt),j(pt.direction,pt.direction);const d=D.get();!g&&G(s,pt,d)&&(l=d),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=T(l),g?e.state|=ut:e.state&=~ut}function Ne(e,t){const[s,i,r,o]=e.viewport,n=Math.min(r,o)/16;let a=!0;return t[0]<s+n?(t[0]=s+n,a=!1):t[0]>s+r-n&&(t[0]=s+r-n,a=!1),t[1]<i+n?(t[1]=i+n,a=!1):t[1]>i+o-n&&(t[1]=i+o-n,a=!1),a}function We(e,t,s,i){const r=k(i.basis1),o=k(i.basis2),n=Xe(i),g=Ye(i),d=O(D.get(),0,0,0);M(d,b(D.get(),i.basis1,t.direction[0]),b(D.get(),i.basis2,t.direction[1])),M(d,i.origin,d);let u=0,p=1;if(Ze(t))1===t.direction[0]&&-1===t.direction[1]?u=ft:1===t.direction[0]&&1===t.direction[1]?u=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(u=3*Math.PI/2),p=g;else{const e=0!==t.direction[0]?1:2;u=1===e?ft:0,p=(1===e?o:r)-n}const f=c(B.get());a(f,f,u),l(f,f,O(D.get(),p,p,p)),m(f,s,f),f[12]=0,f[13]=0,f[14]=0,e.modelTransform=f,e.renderLocation=d}function $e(e,t,s,i){const r=i.worldUpAtPosition(s.origin,D.get()),o=Ke(s,0),n=c(B.get());a(n,n,o.edge*Math.PI/2),g(n,n,-ct(s,r)),m(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=o.position}function Je(e,t,s){const i=Ke(s,1),r=c(B.get());a(r,r,i.edge*Math.PI/2),g(r,r,ft),m(r,t,r),r[12]=0,r[13]=0,r[14]=0,e.modelTransform=r,e.renderLocation=i.position}function Ke(e,t){switch(t){case 0:return{basis:e.basis1,direction:1,position:M(D.get(),e.origin,e.basis1),edge:t};case 1:return{basis:e.basis2,direction:1,position:M(D.get(),e.origin,e.basis2),edge:t};case 2:return{basis:e.basis1,direction:-1,position:P(D.get(),e.origin,e.basis1),edge:t};case 3:return{basis:e.basis2,direction:-1,position:P(D.get(),e.origin,e.basis2),edge:t}}}function Qe(e,t,s){const i=s.projectToRenderScreen(M(D.get(),e,t),n(D.get())),r=s.projectToRenderScreen(P(D.get(),e,t),n(D.get()));return v(P(i,i,r))}function Xe(e){const t=k(e.basis1),s=k(e.basis2);return W*Math.min(t,s)}function Ye(e){return Xe(e)}function Ze(e){return 0!==e.direction[0]&&0!==e.direction[1]}function _e(e,t=1){const s=0===t?K:0,i=[R(s,0,-Me/2),R(s,0,Me/2)],r=nt(i,!0),o=(e,t)=>rt(i,i,{tubeRadius:me,tipRadius:ee,tipLength:ge,tubeFocusMultiplier:de,tipFocusMultiplier:ue,padding:e,bothEnds:!0,flat:null,focusTipLength:!0,addCap:t}),n=o(0,!1),a=o(pe,!0),c=new Re({color:Q,cullFace:2,renderOccluded:16}),l=new Re({color:X,cullFace:2,renderOccluded:16}),m=new Re({color:Y,cullFace:2,renderOccluded:16}),g=new Re({color:Z,transparent:!0,writeDepth:!1,cullFace:1,renderOccluded:2}),d=Ue.createPolylineGeometry([[s,0,0],[s-K,0,0]]),u=Ue.createPolylineGeometry([[s,0,0],[s-K,0,0]]),p=new Le({color:_,renderOccluded:4});return new q({view:e,renderObjects:[...n.normal.map((({part:e,geometry:t,transform:s})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:m,transform:s,stateMask:1|dt}))),...a.normal.map((({geometry:e,transform:t})=>({geometry:e,material:g,transform:t,stateMask:1|dt}))),{geometry:d,material:p,stateMask:1|dt|ut},...n.focused.map((({part:e,geometry:t,transform:s})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:m,transform:s,stateMask:2|dt}))),...a.focused.map((({geometry:e,transform:t})=>({geometry:e,material:g,transform:t,stateMask:2|dt}))),{geometry:u,material:p,stateMask:2|dt|ut}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[r]},collisionPriority:1,radius:ee,state:dt})}function et(e,t){const s=new Se({transparent:!0,writeDepth:!1,textureId:t.id,renderOccluded:16}),i=fe,r=be,o=r*he,n=e=>{const t=new Uint32Array([0,1,2,2,3,0]);return new Te([[\"position\",{size:3,data:[i-e,-e,0,i+e,-e,0,i+e,e,0,i-e,e,0],exclusive:!0}],[\"uv0\",{size:2,data:[0,0,1,0,1,1,0,1]}]],[[\"position\",t],[\"uv0\",t]])},a=Ue.createPolylineGeometry([[0,0,0],[i-r,0,0]]),c=Ue.createPolylineGeometry([[0,0,0],[i-o,0,0]]),l=new Le({color:te,renderOccluded:4}),m=[{geometry:n(r),material:s,stateMask:1|dt},{geometry:a,material:l,stateMask:1|dt},{geometry:n(o),material:s,stateMask:2|dt},{geometry:c,material:l,stateMask:2|dt}];return new q({view:e,renderObjects:m,autoScaleRenderObjects:!1,collisionType:{type:\"disc\",direction:[0,0,1],offset:[i,0,0]},collisionPriority:1,radius:r/2,state:dt})}function tt(e){return new Pe({view:e,attached:!0,color:se,width:ie,writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}function st(e){return new ve({view:e,attached:!0,backgroundColor:[...re],gridColor:oe,gridWidth:4,renderOccluded:4})}function it(e,t){const s=Ze(t),i=s?[R(1,0,0),R(0,0,0),R(0,1,0)]:[R(1,0,0),R(-1,0,0)],r=Ue.createPolylineGeometry(i),o=[...we,1],n=e=>new Ae({color:o,width:e,renderOccluded:4}),a=()=>new Le({color:o,renderOccluded:4}),c=s?ke:je,l=c*ye,m=je,g=e=>e>1?n(e):a(),d=[{geometry:r,material:g(c),stateMask:1|bt},{geometry:r,material:g(l),stateMask:2|bt},{geometry:r,material:g(m),stateMask:ht}],u=new q({view:e,renderObjects:d,collisionType:{type:\"line\",paths:[i]},autoScaleRenderObjects:!1,worldSized:!0,radius:s?ne:ae,idHint:s?1:2});return u.state=bt,u}function rt(e,t,s){const i=i=>{const o=(i?t:e).slice(0),n=P(D.get(),o[0],o[1]);j(n,n);const a=P(D.get(),o[o.length-1],o[o.length-2]);if(j(a,a),s.padding>0){const e=b(U(),a,-s.padding);if(o[o.length-1]=M(e,e,o[o.length-1]),s.bothEnds){const e=b(U(),n,-s.padding);o[0]=M(e,e,o[0])}}const g=i?s.tipFocusMultiplier:1,h=s.tipLength*(s.focusTipLength?g:1),w=s.tipRadius*g,y=c(B.get());if(s.padding>0){const e=h/4,t=O(D.get(),0,e,0),i=1+s.padding/e;d(y,y,t),l(y,y,O(D.get(),i,i,i)),d(y,y,b(t,t,-1/i))}const k=c(p()),v=R(0,1,0),T=u(p(),f(V.get(),v,a));T[12]=o[o.length-1][0],T[13]=o[o.length-1][1],T[14]=o[o.length-1][2],m(T,T,y);const S=[{part:\"tube\",geometry:ot(s.tubeRadius*(i?s.tubeFocusMultiplier:1)+s.padding,s.flat,o),transform:k}];let L,A;if(r(s.flat)?L=Ue.createExtrudedTriangle(h,w,w,s.flat.thickness):(L=Ue.createConeGeometry(h,w,24,!1,!1,!0),A=Ue.createConeGeometry(h,w,24,!1,!0,!1)),S.push({part:\"tip\",geometry:L,transform:T}),A&&S.push({part:\"cap\",geometry:A,transform:T}),s.bothEnds){const e=u(p(),f(V.get(),v,n));e[12]=o[0][0],e[13]=o[0][1],e[14]=o[0][2],m(e,e,y),S.push({part:\"tip\",geometry:L,transform:e}),A&&S.push({part:\"cap\",geometry:A,transform:e})}return S};return{normal:i(!1),focused:i(!0)}}function ot(e,t,s){const i=[];if(r(t))i.push([e,t.thickness/2],[-e,t.thickness/2],[-e,-t.thickness/2],[e,-t.thickness/2]);else{const t=12;for(let s=0;s<t;s++){const r=s/t*2*Math.PI;i.push([Math.cos(r)*e,Math.sin(r)*e])}}return Ue.createPathExtrusionGeometry(i,s,[],[],!1)}function nt(e,t){const s=P(U(),e[e.length-1],e[e.length-2]);if(j(s,s),b(s,s,ce),M(s,s,e[e.length-1]),t){const t=P(U(),e[0],e[1]);return j(t,t),b(t,t,ce),M(t,t,e[0]),[t,...e,s]}return[...e,s]}function at(e,t,i,n=new Ee){if(o(e))return null;const a=r(n.position)?n.position:new Fe;t.fromRenderCoords(e.origin,a,i),n.position=a;const c=t.worldUpAtPosition(e.origin,D.get()),l=t.worldBasisAtPosition(e.origin,1,D.get());return n.width=2*k(e.basis1),n.height=2*k(e.basis2),n.tilt=s(ct(e,c)),n.heading=s(lt(e,c,l)),n}function ct(e,t){return z(t,e.basis2,e.basis1)+ft}function lt(e,t,s){return z(e.basis1,s,t)-ft}function mt(e,t,s=A()){return o(e)||o(e.position)?null:t.toRenderCoords(e.position,s.origin)?(t.worldBasisAtPosition(s.origin,0,s.basis1),t.worldBasisAtPosition(s.origin,1,s.basis2),C(s.basis2,s.basis1,s.origin,s.plane),S(s,-i(e.heading),E(s),s),S(s,i(e.tilt),s.basis1,s),b(s.basis1,s.basis1,e.width/2),b(s.basis2,s.basis2,e.height/2),F(s),s):(Ge.error(`Failed to project slice plane position, projection from ${e.position.spatialReference.wkid} is not supported`),null)}function gt(t){switch(t.type){case\"building-scene\":case\"csv\":case\"direct-line-measurement\":case\"area-measurement\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"kml\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"point-cloud\":case\"route\":case\"slice\":case\"scene\":case\"stream\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(t.type),!1}}const dt=16,ut=32,pt=x(),ft=Math.PI/2,bt=16,ht=32;export{dt as DidPointerMoveRecentlyFlag,ut as IsShiftEdgeOnScreenFlag,nt as addArrowTips,Ve as calculateBoundedPlaneTranslateRotate,Ye as calculateDiagonalResizeHandleScale,De as calculatePlaneHalfSize,Xe as calculateResizeHandlePadding,Qe as calculateScreenSpaceBasisLength2,rt as createArrowGeometry,st as createGridVisualElement,tt as createOutlineVisualElement,Ce as createPlane,it as createResizeManipulator,et as createRotateManipulator,qe as createRotatePlane,_e as createShiftManipulator,Be as createShiftPlane,xe as forceHorizontalOrVertical,gt as isAlwaysDrapedLayer,Ze as isDiagonalResizeHandle,Ie as normalToBases,at as planeToShape,bt as resizeNormal,ht as resizeOutlineOnly,ze as resizePlane,mt as shapeToPlane,We as updateResizeHandle,$e as updateRotateHeadingHandle,Je as updateRotateTiltHandle,He as updateShiftRestartHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{isDiagonalResizeHandle as a}from\"../../analysisTools/slice/sliceToolUtils.js\";import{EventPipeline as e}from\"../../../../interactive/dragEventPipeline.js\";class s{constructor(){this.lastDragEvent=null,this.next=new e,this._enabled=!1}get enabled(){return this._enabled}set enabled(a){if(this._enabled!==a&&t(this.lastDragEvent)){const t={...this.lastDragEvent,action:\"update\"};a&&this.adjustScaleFactors(t),this.next.execute(t)}this._enabled=a}createDragEventPipelineStep(){return this.lastDragEvent=null,t=>(this.lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this.adjustScaleFactors(t),t)}adjustScaleFactors(t){const e=a(t.handle)?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.handle.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}get test(){return{adjustScaleFactors:t=>this.adjustScaleFactors(t)}}}export{s as PreserveAspectRatio};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{a as s,b as o,h as i,p as n,s as r,u as t,w as a,i as e}from\"../../../../chunks/vec2.js\";import{b as c,G as b,a as g,f,e as u,c as p,n as m,d as I,l as d}from\"../../../../chunks/vec3.js\";import{f as N,Z as j}from\"../../../../chunks/vec3f64.js\";import{a as E,u as T}from\"../../../../chunks/boundedPlane.js\";import{sv2d as V,sv3d as h}from\"../../../../geometry/support/vectorStacks.js\";import{MoveVertex as x}from\"../operations/MoveVertex.js\";import{RotateVertex as v}from\"../operations/RotateVertex.js\";import{ScaleVertex as R}from\"../operations/ScaleVertex.js\";import{UpdateVertices as k}from\"../operations/UpdateVertices.js\";function l(s,o){return F(s,o,!1)}function C(s,o){return F(s,o,!0)}function F(s,o,i){if(s instanceof k){if(s.operation instanceof x)return S(s.operation,o,i),!0;if(s.operation instanceof v)return Y(s.operation,o,i),!0;if(s.operation instanceof R)return _(s.operation,o,i),!0}return!1}function S(s,o,i=!1){const n=i?-1:1,r=N(n*s.dx,n*s.dy,n*s.dz);c(o.origin,o.origin,r)}function Y(s,o,i=!1){const n=i?-s.angle:s.angle;b(o.basis1,o.basis1,j,n),b(o.basis2,o.basis2,j,n)}function _(s,o,i=!1){const n=i?1/s.factor1:s.factor1,r=i?1/s.factor2:s.factor2;g(o.basis1,o.basis1,n),g(o.basis2,o.basis2,r),G(o.origin,s.origin,s.axis1,n),G(o.origin,s.origin,s.axis2,r)}function G(r,t,a,e){const c=V.get(),b=s(c,r,t),g=o(c,a,i(a,b));n(r,r,g,e-1)}function P(n,c,b,g){g||(g=E());const f=r(V.get(),n[1],-n[0]),u=r(V.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),p=r(V.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),m=V.get();c.components.forEach((s=>s.vertices.forEach((s=>{const o=s.pos;r(m,i(n,o),i(f,o)),t(u,u,m),a(p,p,m)}))));const I=1e-6,d=r(V.get(),p[0]-u[0]<I?b/2:0,p[1]-u[1]<I?b/2:0);return s(u,u,d),e(p,p,d),o(g.basis1,n,(p[0]-u[0])/2),o(g.basis2,f,(p[1]-u[1])/2),r(g.origin,u[0]*n[0]+u[1]*f[0],u[0]*n[1]+u[1]*f[1]),e(g.origin,g.origin,g.basis1),e(g.origin,g.origin,g.basis2),g}function y(s,o,i,n=0,r){r||(r=E()),o.toRenderCoords(s.origin,i,r.origin);const t=h.get();c(t,s.origin,s.basis1),c(t,t,s.basis2),o.toRenderCoords(t,i,t);const a=h.get();c(a,s.origin,s.basis1),f(a,a,s.basis2),o.toRenderCoords(a,i,a);const e=h.get();f(e,s.origin,s.basis1),f(e,e,s.basis2),o.toRenderCoords(e,i,e);const b=h.get();f(b,s.origin,s.basis1),c(b,b,s.basis2),o.toRenderCoords(b,i,b);const N=u(h.get(),t,a,.5);f(N,N,r.origin);const j=u(h.get(),e,b,.5);f(j,r.origin,j),u(r.basis1,N,j,.5);const V=u(h.get(),b,t,.5);f(V,V,r.origin);const x=u(h.get(),a,e,.5);f(x,r.origin,x),u(r.basis2,V,x,.5);const v=p(h.get(),r.basis1,r.basis2),R=p(v,v,r.basis1);return m(R,R),g(r.basis2,R,I(r.basis2,R)),g(r.basis1,r.basis1,1+n/d(r.basis1)),g(r.basis2,r.basis2,1+n/d(r.basis2)),T(r),r}export{l as apply,P as calculateOrientedBounds,y as mapPlaneToRenderPlane,C as unapply};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Evented.js\";import i from\"../../../../../core/Handles.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{rad2deg as s}from\"../../../../../core/mathUtils.js\";import{isSome as r,unwrapOr as o,isNone as n,unwrap as p}from\"../../../../../core/maybe.js\";import{screenPointObjectToArray as h}from\"../../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as l}from\"../../../../../core/unitUtils.js\";import{init as c}from\"../../../../../core/watchUtils.js\";import{property as d}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as u}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{r as m}from\"../../../../../chunks/mat4.js\";import{a as g,f as y,s as v}from\"../../../../../chunks/vec2.js\";import{a as f}from\"../../../../../chunks/vec2f64.js\";import{s as M,g as S,F as b,f as B,n as G,l as w,d as x}from\"../../../../../chunks/vec3.js\";import{a as D,c as j}from\"../../../../../chunks/vec3f64.js\";import{containsXY as R}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a as H,c as _}from\"../../../../../chunks/boundedPlane.js\";import{intersectRay as E,create as A,normal as P}from\"../../../../../geometry/support/plane.js\";import{create as z}from\"../../../../../geometry/support/ray.js\";import{sv2d as U,sv3d as Z,sm4d as k}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as T}from\"../../../../../support/elevationInfoUtils.js\";import{getGraphicAttachmentOrigin as O,calculateInputRotationTransform as C}from\"../../manipulatorUtils.js\";import{createShiftManipulator as V,IsShiftEdgeOnScreenFlag as X,createResizeManipulator as Y,createRotateManipulator as I,resizeNormal as F,resizeOutlineOnly as L,isDiagonalResizeHandle as N,calculateDiagonalResizeHandleScale as q,createRotatePlane as J,calculateBoundedPlaneTranslateRotate as K,updateRotateHeadingHandle as Q,updateResizeHandle as W}from\"../../analysisTools/slice/sliceToolUtils.js\";import $ from\"../../analysisTools/slice/images/heading-rotate-png.js\";import{screenToZConstrained as tt,screenToRenderPlane as et}from\"../dragEventPipeline3D.js\";import{canMoveZ as it}from\"../manipulatorUtils.js\";import{createVisualElements as at}from\"../visualElementUtils.js\";import{MoveXYGraphicManipulation as st}from\"../manipulations/MoveXYGraphicManipulation.js\";import{PreserveAspectRatio as rt}from\"./PreserveAspectRatio.js\";import{OutlineVisualElement as ot}from\"../../visualElements/OutlineVisualElement.js\";import{evaluateElevationAlignmentAtPoint as nt}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as pt}from\"../../../layers/graphics/ElevationContext.js\";import{GraphicState as ht}from\"../../../layers/graphics/GraphicState.js\";import{fromScreen as lt}from\"../../../support/geometryUtils/ray.js\";import{Texture as ct}from\"../../../webgl-engine/lib/Texture.js\";import{createManipulatorDragEventPipeline as dt,addScreenDelta as ut,addMapDelta as mt}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as gt}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryHelper as yt}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{calculateOrientedBounds as vt,mapPlaneToRenderPlane as ft,apply as Mt,unapply as St}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";let bt=class extends(e.EventedMixin(gt)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this._preserveAspectRatio=new rt,this.grabbing=!1,this.inputState=null,this.type=\"transform-3d\",this.handles=new i,this.moveZManipulator=null,this.resizeManipulators=null,this.rotateManipulator=null,this.attachmentOrigin=null,this.outlineVisualElement=null,this.mapBounds=H(),this.mapBoundsStart=H(),this.displayBounds=H(),this.displayBoundsStart=H(),this.displayBoundsMarginStart=0,this.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}]}initialize(){this.graphicState=new ht({graphic:this.graphic});const t=this.graphic.geometry;this.editGeometryHelper=yt.fromGeometry(t,this.view.viewingMode),this.graphicMoveManipulation=new st({tool:this,view:this.view,graphicState:this.graphicState}),this.handles.add(this._createMoveXYGraphicDragPipeline()),this.moveZManipulator=V(this.view,0),this.moveZManipulator.state|=X,this.handles.add(this.watch(\"enableZ\",(()=>this.updateManipulatorAvailability(this.moveZManipulator,0)))),this.handles.add(this._createMoveZDragPipeline()),this.manipulators.add(this.moveZManipulator),this.resizeManipulators=this.resizeHandles.map((t=>{const e=Y(this.view,t);return this.handles.add(this.watch(\"enableScaling\",(()=>this.updateManipulatorAvailability(e,2)))),e.events.on(\"grab-changed\",(t=>this._onResizeGrab(t))),this.handles.add(this._createResizeDragPipeline(e,t)),e})),this.manipulators.addMany(this.resizeManipulators),this.rotateManipulatorTexture=new ct($,{width:64,height:64,mipmap:!0,preMultiplyAlpha:!0}),this.view._stage&&this.view._stage.add(this.rotateManipulatorTexture),this.rotateManipulator=I(this.view,this.rotateManipulatorTexture),this.handles.add(this.watch(\"enableRotation\",(()=>this.updateManipulatorAvailability(this.rotateManipulator,3)))),this.rotateManipulator.events.on(\"grab-changed\",(t=>{this._onRotateGrab(t)})),this.handles.add(this._createRotateDragPipeline(this.rotateManipulator)),this.manipulators.add(this.rotateManipulator),this.calculateMapBounds(),this.updateDisplayBounds(this.mapBounds);const e=at({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>a()});r(e)&&(this.outlineVisualElement=e.visualElement instanceof ot?e.visualElement:null),r(this.outlineVisualElement)&&this.handles.add(this.outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>this.updateDisplayBounds(this.mapBounds)))),this.handles.add(e),this.handles.add([this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.graphicState.watch(\"displaying\",(()=>this.updateAllManipulatorAvailability())),c(this.graphicState,\"isDraped\",(()=>this.graphicDrapedChanged())),this.view.trackGraphicState(this.graphicState)]);const i=this.view.pointsOfInterest;i&&this.handles.add(i.focus.watch(\"location\",(()=>this.updateDisplayBounds(this.mapBounds))));const s=t=>{this.handles.add(t.events.on(\"grab-changed\",(()=>{this.grabbing=t.grabbing,this.updateAllManipulatorAvailability()})))};this.forEachManipulator(s),this.graphicMoveManipulation.forEachManipulator(s);const o=(t,e)=>{this.handles.add(t.events.on(\"immediate-click\",(t=>{1===e&&this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()})))};this.forEachManipulator(o),this.graphicMoveManipulation.forEachManipulator(o),this.onGeometryChanged(),this.updateAllManipulatorAvailability(),this.complete()}graphicDrapedChanged(){this.handles.remove(Bt),this.updateDisplayBounds(this.mapBounds),this.graphicState.isDraped&&this.handles.add(this.view.elevationProvider.on(\"elevation-change\",(t=>{r(this.attachmentOrigin)&&R(t.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this.updateDisplayBounds(this.mapBounds)})),Bt)}updateAllManipulatorAvailability(){this.forEachManipulator(((t,e)=>this.updateManipulatorAvailability(t,e)))}updateManipulatorAvailability(t,e){const i=this.graphicState.displaying,a=this.grabbing&&!t.grabbing;t.interactive=!a;const s=this.enableZ&&it(this.graphic);switch(e){case 3:t.available=i&&this.enableRotation;break;case 2:t.available=i&&(this.enableScaling||this.enableRotation||s),t.interactive=!a&&this.enableScaling,t.state=this.enableScaling?F:L;break;case 0:t.available=i&&s;break;default:t.available=i}}forEachManipulator(t){this.resizeManipulators.forEach((e=>t(e,2))),t(this.rotateManipulator,3),t(this.moveZManipulator,0)}destroy(){this.view._stage&&this.view._stage.remove(this.rotateManipulatorTexture),this.handles.destroy(),this.graphicMoveManipulation.destroy(),this.editGeometryHelper.destroy(),this._set(\"view\",null),this._set(\"graphic\",null)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set(\"preserveAspectRatio\",t)}reset(){}onDetach(){this.mapBounds=null,this.displayBounds=null}onGeometryChanged(){this.updateDisplayBounds(this.mapBounds)}calculateMapBounds(){const t=this.graphic.geometry,e=this.editGeometryHelper.editGeometry,i=e.components[0].edges[0],a=g(U.get(),i.left.pos,i.right.pos);y(a,a);const s=o(O(this.view,this.graphic),t.extent.center);let r=wt*this.view.pixelSizeAt(s);const n=this.view.spatialReference;n!==t.spatialReference&&(r*=l(n)/l(t.spatialReference)),vt(a,e,r,this.mapBounds)}updateDisplayBounds(t){const e=this.graphic.geometry,i=r(this.outlineVisualElement)&&!this.graphicState.isDraped&&r(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:O(this.view,this.graphic);this.attachmentOrigin=o(i,e.extent.center);const a=r(i)?i.z:nt(t.origin,this.view.elevationProvider,pt.fromElevationInfo(T(this.graphic)),this.view.renderCoordsHelper),s=_(t);M(s.origin,t.origin[0],t.origin[1],a),ft(s,this.view.renderCoordsHelper,e.spatialReference,this.displayBoundsMargin(),this.displayBounds),this.updateManipulators()}displayBoundsMargin(){const t=this.view.pointsOfInterest,e=t?t.focus.location:this.editGeometryHelper.geometry.extent.center;return Gt*this.view.pixelSizeAt(e)}_createMoveXYGraphicDragPipeline(){return this.graphicMoveManipulation.createDragPipeline(((t,e,i)=>this.applyGraphicMoveSteps(e,i)))}_createMoveZDragPipeline(){const t=this.view,e=this.editGeometryHelper.geometry.spatialReference;return dt(this.moveZManipulator,((i,a,s)=>{const r=D(i.renderLocation),o=a.next(tt(t,r,e)).next(ut());this.applyGraphicMoveSteps(o,s)}))}applyGraphicMoveSteps(t,e){const i=t.next((t=>(\"start\"===t.action&&(this.inputState={type:\"move\"},_(this.mapBounds,this.mapBoundsStart),this.emit(\"graphic-translate-start\",{graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next(mt()).next(this._moveDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case\"start\":case\"update\":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||t.mapEnd.z-t.mapStart.z)&&this.emit(\"graphic-translate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-translate-stop\",e)}return t}));return e.next((()=>{r(this.inputState)&&this.emit(\"graphic-translate-stop\",{graphic:this.graphic,dxScreen:0,dyScreen:0}),this.cancel()})),i}_moveDragUpdateGeometry(){return t=>{if(n(this.inputState)||\"move\"!==this.inputState.type)return t;const e=[];for(const s of this.editGeometryHelper.editGeometry.components)e.push(...s.vertices);const i=\"start\"===t.action?0:1,a=this.editGeometryHelper.moveVertices(e,t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i);return Mt(a,this.mapBounds),this.graphic.geometry=this.editGeometryHelper.geometry,t}}_onResizeGrab(t){if(\"start\"!==t.action)return;const e=this._calculatePickRay(t.screenPoint);E(this.displayBounds.plane,e,Z.get())&&(_(this.displayBounds,this.displayBoundsStart),_(this.mapBounds,this.mapBoundsStart),this.displayBoundsMarginStart=this.displayBoundsMargin(),this.inputState={type:\"resize\"})}_createResizeDragPipeline(t,e){return dt(t,((t,i,a)=>{n(this.inputState)||(i.next((t=>(\"start\"===t.action&&this.emit(\"graphic-scale-start\",{graphic:this.graphic,xScale:1,yScale:1}),t))).next(et(this.view,this.displayBoundsStart.plane)).next((t=>({...t,handle:e}))).next(this._resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this._resizeDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,xScale:t.factor1,yScale:t.factor2};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-scale\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-scale-stop\",e)}return t})),a.next((()=>{r(this.inputState)&&this.emit(\"graphic-scale-stop\",{graphic:this.graphic,xScale:1,yScale:1}),this.cancel()})))}))}_resizeDragRenderPlaneToFactors(){return t=>{const e=this.displayBoundsStart,i=t.handle.direction,a=this.displayBoundsMargin(),s=this.displayBoundsMarginStart,r=S(Z.get(),e.origin);b(r,r,e.basis1,-i[0]),b(r,r,e.basis2,-i[1]);const o=B(Z.get(),t.renderEnd,r),n=B(Z.get(),t.renderStart,r),p=N(t.handle),h=q(e),l=q(this.displayBounds)/h,c=(t,e)=>{if(0===t)return 1;let i=w(e),r=.5*t*x(e,o)/i;const h=r<0?-1:1;if(p){r+=(i-.5*t*x(e,n)/i)*h*l}const c=i<1.5*s?1:xt;return i=Math.max(i-s,xt),h>0&&(r-=a),h*Math.max(h*(r/i),c)};return{...t,factor1:c(i[0],e.basis1),factor2:c(i[1],e.basis2)}}}_resizeDragUpdateGeometry(){return t=>{const e=S(j(),this.mapBoundsStart.origin);b(e,e,this.mapBoundsStart.basis1,-t.handle.direction[0]),b(e,e,this.mapBoundsStart.basis2,-t.handle.direction[1]);const i=v(f(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);y(i,i);const a=[];for(const o of this.editGeometryHelper.editGeometry.components)a.push(...o.vertices);const s=\"start\"===t.action?0:1,r=this.editGeometryHelper.scaleVertices(a,this.editGeometryHelper.editGeometry.coordinateHelper.fromXYZ(e),i,t.factor1,t.factor2,s,1);return _(this.mapBoundsStart,this.mapBounds),Mt(r,this.mapBounds),this.graphic.geometry=this.editGeometryHelper.geometry,t}}_onRotateGrab(t){if(\"start\"!==t.action)return;const e=J(this.displayBounds,this.view.renderCoordsHelper,1,A()),i=this._calculatePickRay(t.screenPoint);E(e,i,Z.get())&&(_(this.displayBounds,this.displayBoundsStart),_(this.mapBounds,this.mapBoundsStart),this.inputState={type:\"rotate\",rotatePlane:e})}_createRotateDragPipeline(t){return dt(t,((t,e,i)=>{const a=this.inputState;n(a)||(e.next((t=>(\"start\"===t.action&&this.emit(\"graphic-rotate-start\",{graphic:this.graphic,angle:0}),t))).next(et(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,angle:s(t.rotateAngle)};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-rotate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-rotate-stop\",e)}return t})),i.next((()=>{r(this.inputState)&&this.emit(\"graphic-rotate-stop\",{graphic:this.graphic,angle:0}),this.cancel()})))}))}_rotateDragRenderPlaneToRotate(t){return e=>{const i=P(t.rotatePlane),a=C(e.renderStart,e.renderEnd,this.displayBounds.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdateGeometry(){return t=>{const e=S(j(),this.mapBoundsStart.origin),i=[];for(const r of this.editGeometryHelper.editGeometry.components)i.push(...r.vertices);const a=\"start\"===t.action?0:1,s=this.editGeometryHelper.rotateVertices(i,this.editGeometryHelper.editGeometry.coordinateHelper.fromXYZ(e),t.rotateAngle,a,1);return _(this.mapBoundsStart,this.mapBounds),Mt(s,this.mapBounds),this.graphic.geometry=this.editGeometryHelper.geometry,t}}_calculatePickRay(t){const e=z(),i=h(t);return lt(this.view.state.camera,i,e),G(e.direction,e.direction),e}updateManipulators(){if(!this.visible)return;const t=K(this.displayBounds,k.get());Q(this.rotateManipulator,t,this.displayBounds,this.view.renderCoordsHelper),this.updateZMoveHandle(this.moveZManipulator,t),this.resizeManipulators.forEach(((e,i)=>{W(e,this.resizeHandles[i],t,this.displayBounds)}))}updateZMoveHandle(t,e){const i=this.displayBounds,a={basis:i.basis1,direction:-1,position:B(Z.get(),i.origin,i.basis1),edge:2},s=k.get();m(s,e,a.edge*Math.PI/2),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=a.position}cancel(){const t=this.editGeometryHelper.editGeometry.lastOperation;n(t)||(this.editGeometryHelper.undo(),this.graphic.geometry=this.editGeometryHelper.geometry,St(t,this.mapBounds),this.updateDisplayBounds(this.mapBounds),this.inputState=null)}get canUndo(){return this.editGeometryHelper.canUndo}undo(){if(r(this.inputState))this.view.activeTool=null;else if(this.canUndo){const t=this.editGeometryHelper.undo();this.graphic.geometry=this.editGeometryHelper.geometry,St(p(t),this.mapBounds),this.updateDisplayBounds(this.mapBounds)}}get canRedo(){return this.editGeometryHelper.canRedo}redo(){if(this.canRedo){const t=this.editGeometryHelper.redo();this.graphic.geometry=this.editGeometryHelper.geometry,Mt(p(t),this.mapBounds),this.updateDisplayBounds(this.mapBounds)}}get test(){return{resizeManipulators:this.resizeManipulators,rotateManipulator:this.rotateManipulator,moveZManipulator:this.moveZManipulator}}};t([d({constructOnly:!0,nonNullable:!0})],bt.prototype,\"view\",void 0),t([d({constructOnly:!0,nonNullable:!0})],bt.prototype,\"graphic\",void 0),t([d({constructOnly:!0,nonNullable:!0})],bt.prototype,\"enableZ\",void 0),t([d()],bt.prototype,\"enableRotation\",void 0),t([d()],bt.prototype,\"enableScaling\",void 0),t([d()],bt.prototype,\"preserveAspectRatio\",null),t([d()],bt.prototype,\"grabbing\",void 0),t([d()],bt.prototype,\"inputState\",void 0),t([d({readOnly:!0})],bt.prototype,\"type\",void 0),bt=t([u(\"esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool\")],bt);const Bt=\"draped-elevation-changes\",Gt=10,wt=80,xt=1e-6;export{xt as EPSILON,bt as ExtentTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nvar D=\"data:image/png;base64,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\";export default D;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{deg2rad as n,rad2deg as r}from\"../../core/mathUtils.js\";import{s as t,m as u,g as o}from\"../../chunks/quat.js\";import{a as c}from\"../../chunks/quatf64.js\";import{g as s,c as f,n as i,v as e}from\"../../chunks/vec3.js\";function a(n=b){return[n[0],n[1],n[2],n[3]]}function m(n,r,t,u){return j(n,r,t,u,y)}function p(n,r){return j(n[0],n[1],n[2],r,y)}function h(n,r=a()){return j(n[0],n[1],n[2],n[3],r)}function j(n,r,t,u,o=a()){return o[0]=n,o[1]=r,o[2]=t,o[3]=u,o}function k(n,r,t=a()){return s(v(t),n),t[3]=r,t}function g(n,r,t=a()){return f(t,n,r),i(t,t),t[3]=-e(n,r),t}function q(n,c,s=a()){return t(d,v(n),x(n)),t(w,v(c),x(c)),u(d,w,d),U(s,r(o(v(s),d)))}function v(n){return n}function l(n){return n[3]}function x(r){return n(r[3])}function U(n,r){return n[3]=r,n}const b=[0,0,1,0],d=c(),w=c(),y=a();export{b as UP,l as angle,x as angleRad,v as axis,q as compose,h as copy,a as create,k as fromAxisAndAngle,g as fromPoints,j as fromValues,U as setAngle,m as wrap,p as wrapAxisAngle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import{pt2px as r,screenPointObjectToArray as l,createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{j as h}from\"../../chunks/vec2.js\";import{i as p}from\"../../chunks/vec3.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as u,project as y,projectPointToVector as g}from\"../../geometry/projection.js\";import{getGraphicEffectiveElevationMode as d}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as b}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{intersectsDrapedGeometry as _}from\"../support/drapedUtils.js\";let v=class extends t{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new i.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=d(this.graphic),i=e?e.offset:0;return new f({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(o(i))return null;const r=this._get(\"focusedSymbol\"),l=s(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,i,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),s(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),s(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{s(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&s(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){s(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&s(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,a){if(a=a||b(i),o(a))return null;const n=1;let c=this._circleCollisionCache;if(\"point\"!==i.type||\"simple-marker\"!==a.type)return _(t,i,e)?n:null;if(o(c)||!c.originalPoint.equals(i)){const t=i,o=e.spatialReference;if(u(t.spatialReference,o)){const e=y(t,o);c={originalPoint:t.clone(),mapPoint:e,radiusPx:r(a.size)},this._circleCollisionCache=c}}if(s(c)){const i=l(t,C),o=e.toScreen(c.mapPoint),s=c.radiusPx,p=o.x+r(a.xoffset),m=o.y-r(a.yoffset);return h(i,[p,m])<s*s?n:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&g(o,S,e.renderSpatialReference)?p(S,e.state.camera.eye):null}};e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"graphic\",null),e([n({readOnly:!0})],v.prototype,\"elevationInfo\",null),e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"view\",void 0),e([n({value:null})],v.prototype,\"focusedSymbol\",null),e([n({constructOnly:!0})],v.prototype,\"layer\",void 0),e([n()],v.prototype,\"interactive\",void 0),e([n()],v.prototype,\"selectable\",void 0),e([n()],v.prototype,\"grabbable\",void 0),e([n({value:!1})],v.prototype,\"grabbing\",null),e([n()],v.prototype,\"dragging\",void 0),e([n()],v.prototype,\"hovering\",null),e([n({value:!1})],v.prototype,\"selected\",null),e([n()],v.prototype,\"cursor\",void 0),v=e([c(\"esri.views.interactive.GraphicManipulator\")],v);const S=m(),C=a();export{v as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../Extent.js\";import n from\"../Multipoint.js\";import t from\"../Point.js\";import o from\"../Polygon.js\";import i from\"../Polyline.js\";const r={convertToGEGeometry:s,exportPoint:a,exportPolygon:c,exportPolyline:h,exportMultipoint:m,exportExtent:x};function s(e,n){if(null==n)return null;let t=\"cache\"in n?n.cache._geVersion:void 0;return null==t&&(t=e.convertJSONToGeometry(n),\"cache\"in n&&(n.cache._geVersion=t)),t}function a(e,n,o){const i=e.hasZ(n),r=e.hasM(n),s=new t({x:e.getPointX(n),y:e.getPointY(n),spatialReference:o});return i&&(s.z=e.getPointZ(n)),r&&(s.m=e.getPointM(n)),s.cache._geVersion=n,s}function c(e,n,t){const i=new o({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i}function h(e,n,t){const o=new i({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o}function m(e,t,o){const i=new n({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:o});return i.cache._geVersion=t,i}function x(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new e({xmin:n.getXMin(t),ymin:n.getYMin(t),xmax:n.getXMax(t),ymax:n.getYMax(t),spatialReference:o});if(i){const e=n.getZExtent(t);s.zmin=e.vmin,s.zmax=e.vmax}if(r){const e=n.getMExtent(t);s.mmin=e.vmin,s.mmax=e.vmax}return s.cache._geVersion=t,s}export{r as hydratedAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{G as n}from\"../chunks/geometryEngineBase.js\";import{hydratedAdapter as e}from\"./geometryAdapters/hydrated.js\";function r(n){return Array.isArray(n)?n[0].spatialReference:n&&n.spatialReference}function t(e){return n.extendedSpatialReferenceInfo(e)}function u(t,u){return n.clip(e,r(t),t,u)}function i(t,u){return n.cut(e,r(t),t,u)}function o(t,u){return n.contains(e,r(t),t,u)}function c(t,u){return n.crosses(e,r(t),t,u)}function f(t,u,i){return n.distance(e,r(t),t,u,i)}function l(t,u){return n.equals(e,r(t),t,u)}function a(t,u){return n.intersects(e,r(t),t,u)}function s(t,u){return n.touches(e,r(t),t,u)}function p(t,u){return n.within(e,r(t),t,u)}function g(t,u){return n.disjoint(e,r(t),t,u)}function m(t,u){return n.overlaps(e,r(t),t,u)}function d(t,u,i){return n.relate(e,r(t),t,u,i)}function x(t){return n.isSimple(e,r(t),t)}function w(t){return n.simplify(e,r(t),t)}function E(t,u=!1){return n.convexHull(e,r(t),t,u)}function h(t,u){return n.difference(e,r(t),t,u)}function A(t,u){return n.symmetricDifference(e,r(t),t,u)}function y(t,u){return n.intersect(e,r(t),t,u)}function R(t,u=null){return n.union(e,r(t),t,u)}function I(t,u,i,o,c,f){return n.offset(e,r(t),t,u,i,o,c,f)}function v(t,u,i,o=!1){return n.buffer(e,r(t),t,u,i,o)}function S(t,u,i,o,c,f){return n.geodesicBuffer(e,r(t),t,u,i,o,c,f)}function j(t,u,i=!0){return n.nearestCoordinate(e,r(t),t,u,i)}function J(t,u){return n.nearestVertex(e,r(t),t,u)}function N(t,u,i,o){return n.nearestVertices(e,r(t),t,u,i,o)}function O(n){return\"xmin\"in n?\"center\"in n?n.center:null:\"x\"in n?n:\"extent\"in n?n.extent.center:null}function V(e,r,t){var u;if(null==e)throw new Error(\"Illegal Argument Exception\");const i=e.spatialReference;if(null==(t=null!=(u=t)?u:O(e)))throw new Error(\"Illegal Argument Exception\");const o=e.constructor.fromJSON(n.rotate(e,r,t));return o.spatialReference=i,o}function z(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipHorizontal(e,r));return i.spatialReference=u,i}function B(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipVertical(e,r));return i.spatialReference=u,i}function D(t,u,i,o){return n.generalize(e,r(t),t,u,i,o)}function H(t,u,i){return n.densify(e,r(t),t,u,i)}function L(t,u,i,o=0){return n.geodesicDensify(e,r(t),t,u,i,o)}function b(t,u){return n.planarArea(e,r(t),t,u)}function k(t,u){return n.planarLength(e,r(t),t,u)}function q(t,u,i){return n.geodesicArea(e,r(t),t,u,i)}function C(t,u,i){return n.geodesicLength(e,r(t),t,u,i)}export{v as buffer,u as clip,o as contains,E as convexHull,c as crosses,i as cut,H as densify,h as difference,g as disjoint,f as distance,l as equals,t as extendedSpatialReferenceInfo,z as flipHorizontal,B as flipVertical,D as generalize,q as geodesicArea,S as geodesicBuffer,L as geodesicDensify,C as geodesicLength,y as intersect,a as intersects,x as isSimple,j as nearestCoordinate,J as nearestVertex,N as nearestVertices,I as offset,m as overlaps,b as planarArea,k as planarLength,d as relate,V as rotate,w as simplify,A as symmetricDifference,s as touches,R as union,p as within};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=w(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=P(s),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(d)&&!i(d)?g?j(this,u,s,d,a,l,f,e):I(d,a,l,f):f&&f.portalItem&&(r(d)||t(h(d))||n(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}function U(t,r,o,i,u,a,c,l){const m=p(),y=S(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===u(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function i(i){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\nreturn viewDirectionDistance*perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}function r(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}export{i as ScreenSizeScaling,r as bindScreenSizeScalingUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ScreenSizeScaling as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as s}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function t(t){const c=new s;return c.include(o,{linearDepth:!1}),c.include(e,{}),c.include(r,t),c.fragment.include(l),c.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),c.fragment.uniforms.add(\"color\",\"vec4\"),c.attributes.add(\"position\",\"vec3\"),c.varyings.add(\"vWorldPosition\",\"vec3\"),t.multipassTerrainEnabled&&c.varyings.add(\"depth\",\"float\"),t.screenSizeEnabled&&c.attributes.add(\"offset\",\"vec3\"),t.shadingEnabled&&(c.vertex.uniforms.add(\"viewNormal\",\"mat4\"),c.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),c.attributes.add(\"normal\",\"vec3\"),c.varyings.add(\"vViewNormal\",\"vec3\")),c.vertex.code.add(n`\n    void main(void) {\n      vWorldPosition = ${t.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),t.shadingEnabled&&c.vertex.code.add(n`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),c.vertex.code.add(n`\n    ${t.multipassTerrainEnabled?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),t.multipassTerrainEnabled&&(c.fragment.include(i),c.include(a,t)),c.fragment.code.add(n`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${t.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),t.shadingEnabled?c.fragment.code.add(n`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(color, shadedColor, shadingFactor);`):c.fragment.code.add(n`vec4 finalColor = color;`),c.fragment.code.add(n`\n      if (finalColor.a < ${n.float(d)}) {\n        discard;\n      }\n      ${7===t.output?n`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===t.output?n`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),c}var c=Object.freeze({__proto__:null,build:t});export{c as S,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as e}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function r(){const r=new e;return r.extensions.add(\"GL_OES_standard_derivatives\"),r.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),r.attributes.add(\"position\",\"vec3\"),r.attributes.add(\"uv0\",\"vec2\"),r.varyings.add(\"vUV\",\"vec2\"),r.vertex.code.add(d`void main(void) {\nvUV = uv0;\ngl_Position = proj * view * vec4(position, 1.0);\n}`),r.fragment.uniforms.add(\"backgroundColor\",\"vec4\").add(\"gridColor\",\"vec4\").add(\"ratio\",\"float\").add(\"gridWidth\",\"float\"),r.fragment.code.add(d`void main() {\nconst float LINE_WIDTH = 1.0;\nvec2 uvScaled = vUV * gridWidth;\nvec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\nvec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\ngrid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\ngrid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\nfloat gridFade = max(grid.x, grid.y);\nfloat gridAlpha = gridColor.a * gridFade;\ngl_FragColor =\nvec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\nvec4(gridColor.rgb, 1.0) * gridAlpha;\n}`),r}var a=Object.freeze({__proto__:null,build:r});export{a as S,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{Slice as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ReadLinearDepth as a}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as i}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function s(s){const n=new l;return n.include(r,{linearDepth:!1}),n.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),n.attributes.add(\"position\",\"vec3\"),n.attributes.add(\"uv0\",\"vec2\"),n.varyings.add(\"vpos\",\"vec3\"),s.multipassTerrainEnabled&&n.varyings.add(\"depth\",\"float\"),n.vertex.uniforms.add(\"textureCoordinateScaleFactor\",\"vec2\"),n.vertex.code.add(t`\n    void main(void) {\n      vpos = position;\n      ${s.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),n.include(e,s),s.multipassTerrainEnabled&&(n.fragment.include(a),n.include(o,s)),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"opacity\",\"float\"),n.varyings.add(\"vTexCoord\",\"vec2\"),7===s.output?n.fragment.code.add(t`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${t.float(i)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(n.fragment.include(d),n.fragment.code.add(t`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${t.float(i)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${s.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),n}var n=Object.freeze({__proto__:null,build:s});export{n as I,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{equals as e}from\"../../../core/arrayUtils.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as o,filterNones as n,isNone as r}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as a}from\"../../../core/unitUtils.js\";import s from\"../../../geometry/Circle.js\";import{simplify as i,distance as l}from\"../../../geometry/geometryEngine.js\";import{unnormalizeGeometryOnDatelineCrossing as y,isClockwise as c,unnormalizeVerticesOnDatelineCrossing as p}from\"../../../geometry/support/coordsUtils.js\";import{isValid as x}from\"../../../geometry/support/spatialReferenceUtils.js\";import{makeSurfacePoint as m}from\"./surfaceCoordinateSystems.js\";import u from\"../../../geometry/Point.js\";import f from\"../../../geometry/Multipoint.js\";import h from\"../../../geometry/Polyline.js\";import M from\"../../../geometry/Polygon.js\";function g(e,t,n=null){return o(n)?[e,t,n]:[e,t]}function d(e,t){const o=new u({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function R(e,t){return new f({points:e,spatialReference:t})}function j(e,t,o){const n=new h({paths:e,spatialReference:t});return o&&y(n),n}function b(o,n,r,a=!0){const s=t(o);s.forEach((t=>{const o=t[0],n=t[t.length-1];e(o,n)&&1!==t.length||t.push(t[0])}));let l=new M({rings:s,spatialReference:n});return l.rings.forEach((e=>{c(e,!1,!1)||e.reverse()})),r&&y(l),a&&l.isSelfIntersecting&&x(n)&&(l=i(l)),l}function T(e,t,o){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(o){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(m(e.x,t.y),m(t.x,t.y),m(t.x,e.y),m(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(m(s.x,s.y),m(e.x,s.y),m(e.x,e.y),m(s.x,e.y))}return b([n(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function U(e,t,o){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[m(t.x-e,t.y+e),m(t.x+e,t.y-e),m(t.x+e,t.y-e),m(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(o){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(m(s.x-e,s.y-t),m(i.x,s.y-t),m(i.x,i.y),m(s.x-e,i.y))}else a.push(m(s.x,s.y),m(i.x,s.y),m(i.x,i.y),m(s.x,i.y));return b([n(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,o,n){const i=t.mapToLocalMultiple(e);let y=null,c=null;if(o)y=i[0],c=i[1];else{const e=i[0],t=i[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));y=m(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),c=m(Math.abs(o)>Math.abs(n)?y.x-r/2:y.x,Math.abs(o)>Math.abs(n)?y.y:y.y-r/2)}const u=t.localToMap(y),f=t.localToMap(c);if(r(u)||r(f))return null;t.doUnnormalization&&p([[u,f]],t.spatialReference);const h=d(u,t.spatialReference),M=d(f,t.spatialReference),g=a(t.spatialReference);let R=0;if(x(t.spatialReference))R=g*l(h,M,null);else{const e=y.x-c.x,t=y.y-c.y;R=g*Math.sqrt(e*e+t*t)*(n||1)}const j=new s({center:h,radius:R,radiusUnit:\"meters\",spatialReference:t.spatialReference});return b(j.rings,j.spatialReference,!1)}function z(e,t,o){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=m(o?a.x:a.x+i/2,o?a.y:a.y+l/2),c=o?i:i/2,p=o?l:l/2,x=60,u=[],f=2*Math.PI/x;for(let n=0;n<x;n++){const e=Math.cos(n*f),t=Math.sin(n*f),o=m(c*e+y.x,p*t+y.y);u.push(o)}return u.push(u[0]),b([n(u.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{w as createCircle,z as createEllipse,R as createMultipoint,d as createPoint,b as createPolygon,j as createPolyline,U as createRectangle,T as createSquare,g as makeMapPoint};\n"],"sourceRoot":""}